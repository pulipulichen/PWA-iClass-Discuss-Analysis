{"version":3,"sources":["webpack:///./src/components/TermsRelationshipNetwork/TermsRelationshipNetwork.yaml","webpack:///./src/components/TermsRelationshipNetwork/TermsRelationshipNetwork.less","webpack:///./src/components/TermsRelationshipNetwork/TermsRelationshipNetwork.html?93f4","webpack:///./src/components/TermsRelationshipNetwork/TermsRelationshipNetwork.less?ff3c","webpack:///./src/components/TermsRelationshipNetwork/CytoscapeStyle.js","webpack:///./src/components/TermsRelationshipNetwork/TermsRelationshipNetwork.html","webpack:///./src/components/TermsRelationshipNetwork/TermsRelationshipNetwork.js?4ee8","webpack:///./src/components/TermsRelationshipNetwork/TermsRelationshipNetwork.js","webpack:///./src/components/TermsRelationshipNetwork/TermsRelationshipNetwork.less?035b","webpack:///./src/components/TermsRelationshipNetwork/TermsRelationshipNetwork.vue","webpack:///./src/components/TermsRelationshipNetwork/TermsRelationshipNetwork.yaml?582d","webpack:///./src/components/TermsRelationshipNetwork/TermsRelationshipNetworkComputed.js","webpack:///./src/components/TermsRelationshipNetwork/TermsRelationshipNetworkComputedCytoscape.js","webpack:///./src/components/TermsRelationshipNetwork/TermsRelationshipNetworkMethods.js","webpack:///./src/components/TermsRelationshipNetwork/TermsRelationshipNetworkMethodsCytoscape.js","webpack:///./src/components/TermsRelationshipNetwork/TermsRelationshipNetworkWatch.js"],"names":[],"mappings":"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;;;;;;ACFA;AAAe;AACf;AACA,KAAK,OAAO,sBAAsB;AAClC,KAAK,OAAO,qBAAqB;AACjC,KAAK,OAAO,wBAAwB;AACpC,KAAK,OAAO,UAAU;AACtB,KAAK,OAAO,wBAAwB;AACpC,KAAK,OAAO,wBAAwB;AACpC,KAAK,OAAO,UAAU;AACtB,KAAK,OAAO,SAAS,qBAAqB;AAC1C,KAAK,OAAO,SAAS,qBAAqB;AAC1C,KAAK,OAAO,uBAAuB,qBAAqB;AACxD;AACA;AACA,KAAK,OAAO,wCAAwC;AACpD,KAAK,OAAO,uCAAuC;AACnD,KAAK,OAAO,4BAA4B;AACxC,KAAK,OAAO,4BAA4B;AACxC,KAAK,OAAO,4BAA4B;AACxC,KAAK,OAAO,4BAA4B;AACxC,KAAK,OAAO,4BAA4B;AACxC,KAAK,OAAO,4BAA4B;AACxC,KAAK,OAAO,4BAA4B;AACxC,KAAK,OAAO;AACZ;;AAEA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA,SAAS,mBAAmB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;;AAEA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA,QAAQ,OAAO,sBAAsB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;ACxLA;AAAe;;AAEf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kDAAkD,KAAK;AACvD,4BAA4B,qCAAqC;AACjE;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,C;;;;;;;;;;;;AC5BA;AAAA,0BAA0B,mBAAO,CAAC,wFAAqB;;AAEvD,kBAAkB,mBAAO,CAAC,iEAAW;;AAErC;AACA,wBAAwB,mBAAO,CAAC,2GAA4B;AAC5D,iCAAiC;;AAEjC;AACA,cAAc,mBAAO,CAAC,0EAAiB;AACvC,uBAAuB;;AAEvB;AACA;AACA,gCAAgC;;AAEhC;AACA,WAAW,mBAAO,CAAC,wIAAgB;AACnC,sBAAsB;;AAEtB;AACA;AACA;;AAEA,UAAU,mBAAO,CAAC,oDAAQ;;AAE1B;AACA;;AAEe;;AAEf;AACA,SAAS,iDAAiD;AAC1D;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,QAAQ;;AAER;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,QAAQ;AACR;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA,OAAO;;AAEP;AACA,KAAK;;;AAGL;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA,UAAU;AACV,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qCAAqC,2BAA2B;AAChE;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,QAAQ;AACR;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,C;;;;;;;;;;;;AC/OA;AAAe;;AAEf;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,C","file":"components/TermsRelationshipNetwork.js","sourcesContent":["module.exports = function (Component) {\n  Component.options.__i18n = Component.options.__i18n || []\n  Component.options.__i18n.push('{\"en\":{\"TEST_MESSAGE\":\"Test Message\"},\"zh-TW\":{\"TEST_MESSAGE\":\"測試訊息\"}}')\n  delete Component.options._Ctor\n}\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(true);\n// Module\nexports.push([module.id, \"#cy[data-v-0925c2a2] {\\n  display: block;\\n  height: 50rem;\\n  width: 100%;\\n}\\n.sn[data-v-0925c2a2] {\\n  height: 5rem;\\n  max-height: 5rem;\\n  overflow-x: hidden;\\n  overflow-y: auto;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"/app/src/components/TermsRelationshipNetwork/TermsRelationshipNetwork.less?vue&type=style&index=0&id=0925c2a2&lang=less&scoped=true&\",\"TermsRelationshipNetwork.less\"],\"names\":[],\"mappings\":\"AAAA;EACE,cAAA;EAKA,aAAA;EACA,WAAA;ACHF;ADMA;EACE,YAAA;EACA,gBAAA;EACA,kBAAA;EACA,gBAAA;ACJF\",\"file\":\"TermsRelationshipNetwork.less?vue&type=style&index=0&id=0925c2a2&lang=less&scoped=true&\",\"sourcesContent\":[\"#cy {\\n  display: block;\\n  // width: 100vw;\\n  // height: 100vh;\\n  // height: calc(100vh - 161px - 10rem);\\n  // height: calc(100vh - 162px - 92px);\\n  height: 50rem;\\n  width: 100%;\\n}\\n\\n.sn {\\n  height: 5rem;\\n  max-height: 5rem;\\n  overflow-x: hidden;\\n  overflow-y: auto;\\n}\",\"#cy {\\n  display: block;\\n  height: 50rem;\\n  width: 100%;\\n}\\n.sn {\\n  height: 5rem;\\n  max-height: 5rem;\\n  overflow-x: hidden;\\n  overflow-y: auto;\\n}\\n\"]}]);\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"TermsRelationshipNetwork\" }, [\n    _c(\"div\", { ref: \"cy\", attrs: { id: \"cy\" } })\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js?sourceMap!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/less-loader/dist/cjs.js??ref--1-2!./TermsRelationshipNetwork.less?vue&type=style&index=0&id=0925c2a2&lang=less&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"7227aa9d\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js?sourceMap!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/less-loader/dist/cjs.js??ref--1-2!./TermsRelationshipNetwork.less?vue&type=style&index=0&id=0925c2a2&lang=less&scoped=true&\", function() {\n     var newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js?sourceMap!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/less-loader/dist/cjs.js??ref--1-2!./TermsRelationshipNetwork.less?vue&type=style&index=0&id=0925c2a2&lang=less&scoped=true&\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","module.exports = function () {\n  return [\n    {\n      selector: 'node',\n      style: {\n        // 'shape': 'diamond',\n        'shape': 'round-rectangle',\n        'width': 'label',\n        'height': 'label',\n        'padding': '5',\n        // 'width': '300',\n        // 'height': '100',\n        // 'background-color': '#bdd3d4',\n        'label': 'data(id)',\n        'text-valign': 'center',\n        'background-opacity': 0.7,\n        \"text-wrap\": \"wrap\",\n        \"cursor\": \"pointer\",\n        \"background-color\": \"mapData(weight, 0, 100, blue, red)\",\n        \"z-index\": \"mapData(weight, 0, 100, 0, 100)\",\n      }\n    },\n\n    {\n      selector: ':parent',\n      style: {\n        //      'background-opacity': 0.333,\n        'background-color': '#e8e8e8',\n        'border-color': '#DADADA',\n        //      'border-width': 3,\n        'text-valign': 'bottom'\n      }\n    },\n\n    {\n      selector: 'edge',\n      style: {\n        // 'shape': 'arrow',\n        'curve-style': 'straight',\n        // 'line-color': '#bdd3d4',\n        \"line-color\": \"mapData(weight, 0, 100, blue, red)\",\n        // 'target-arrow-shape': 'triangle',\n        // 'opacity': 0.7,\n        \"z-index\": \"mapData(weight, 0, 100, 0, 100)\",\n        'opacity': \"mapData(weight, 0, 100, 0.3, 0.9)\",\n      }\n    },\n\n    // {\n    //   selector: 'node:selected',\n    //   style: {\n    //     'background-color': '#33ff00',\n    //     'border-color': '#22ee00'\n    //   }\n    // },\n\n    // {\n    //   selector: 'node.fixed',\n    //   style: {\n    //     'shape': 'diamond',\n    //     'background-color': '#9D9696',\n    //   }\n    // }, \n\n    // {\n    //   selector: 'node.fixed:selected',\n    //   style: {\n    //     'background-color': '#33ff00',\n    //   }\n    // },\n\n    {\n      selector: 'node.alignment',\n      style: {\n        'shape': 'round-heptagon',\n        'background-color': '#fef2d1',\n      }\n    },\n\n    // {\n    //   selector: 'node.alignment:selected',\n    //   style: {\n    //     'background-color': '#33ff00',\n    //   }\n    // },  \n\n    {\n      selector: 'node.relative',\n      style: {\n        'shape': 'rectangle',\n        'background-color': '#fed3d1',\n      }\n    },\n\n    // {\n    //   selector: 'node.relative:selected',\n    //   style: {\n    //     'background-color': '#33ff00',\n    //   }\n    // },  \n\n    {\n      selector: 'edge:selected',\n      style: {\n        'line-color': '#33ff00'\n      }\n    },\n    // {\n    //   selector: 'edge.reference',\n    //   style: {\n    //     'line-color': '#ffff00'\n    //   }\n    // },\n    \n    // {\n    //   selector: '#BT,#USE',\n    //   style: {\n    //     \"text-valign\": 'top',\n    //   }\n    // },\n    // {\n    //   selector: '#BT',\n    //   style: {\n    //     'background-color': '#f6e7ff',\n    //   }\n    // },\n    // {\n    //   selector: '#NT',\n    //   style: {\n    //     'background-color': '#f1e2d3',\n    //   }\n    // },\n    // {\n    //   selector: '#RT',\n    //   style: {\n    //     'background-color': '#ffedde',\n    //   }\n    // },\n    // {\n    //   selector: '#USE',\n    //   style: {\n    //     'background-color': '#fbfdef',\n    //   }\n    // },\n    // {\n    //   selector: '#UF',\n    //   style: {\n    //     'background-color': '#e1f7f7',\n    //   }\n    // },\n  ];\n\n}","export * from \"-!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./TermsRelationshipNetwork.html?vue&type=template&id=0925c2a2&scoped=true&\"","import mod from \"-!./TermsRelationshipNetwork.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!./TermsRelationshipNetwork.js?vue&type=script&lang=js&\"","/* global Node */\r\nimport $ from 'jquery'\r\n\r\nlet app = {\r\n  props: ['db'],\r\n  data() {\r\n    this.$i18n.locale = this.db.config.localConfig\r\n    return {\r\n      postMessageAPI: null,\r\n      graphData: null,\r\n      cyTimer: null,\r\n      termMaxLength: 15\r\n      // cy: null\r\n    }\r\n  },\r\n  components: {\r\n  },\r\n  computed: {\r\n    'db.localConfig.locale'() {\r\n      this.$i18n.locale = this.db.localConfig.locale;\r\n    },\r\n  },\r\n  watch: {\r\n    \r\n  },\r\n  mounted() {\r\n    // setTimeout(() => {\r\n    //   this.initCytoscapeVis()\r\n    // }, 500)\r\n    // $(window).on('resize', () => {\r\n    //    this.initCytoscapeVis()\r\n    // })\r\n    \r\n  },\r\n  methods: {\r\n  }\r\n}\r\n\r\nimport TermsRelationshipNetworkWatch from './TermsRelationshipNetworkWatch.js'\r\nTermsRelationshipNetworkWatch(app)\r\n\r\nimport TermsRelationshipNetworkComputed from './TermsRelationshipNetworkComputed.js'\r\nTermsRelationshipNetworkComputed(app)\r\n\r\nimport TermsRelationshipNetworkComputedCytoscape from './TermsRelationshipNetworkComputedCytoscape.js'\r\nTermsRelationshipNetworkComputedCytoscape(app)\r\n\r\nimport TermsRelationshipNetworkMethods from './TermsRelationshipNetworkMethods.js'\r\nTermsRelationshipNetworkMethods(app)\r\n\r\nimport TermsRelationshipNetworkMethodsCytoscape from './TermsRelationshipNetworkMethodsCytoscape.js'\r\nTermsRelationshipNetworkMethodsCytoscape(app)\r\n\r\nexport default app","import mod from \"-!../../../node_modules/vue-style-loader/index.js!../../../node_modules/css-loader/dist/cjs.js?sourceMap!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/less-loader/dist/cjs.js??ref--1-2!./TermsRelationshipNetwork.less?vue&type=style&index=0&id=0925c2a2&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js!../../../node_modules/css-loader/dist/cjs.js?sourceMap!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/less-loader/dist/cjs.js??ref--1-2!./TermsRelationshipNetwork.less?vue&type=style&index=0&id=0925c2a2&lang=less&scoped=true&\"","import { render, staticRenderFns } from \"./TermsRelationshipNetwork.html?vue&type=template&id=0925c2a2&scoped=true&\"\nimport script from \"./TermsRelationshipNetwork.js?vue&type=script&lang=js&\"\nexport * from \"./TermsRelationshipNetwork.js?vue&type=script&lang=js&\"\nimport style0 from \"./TermsRelationshipNetwork.less?vue&type=style&index=0&id=0925c2a2&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0925c2a2\",\n  null\n  \n)\n\n/* custom blocks */\nimport block0 from \"./TermsRelationshipNetwork.yaml?vue&type=custom&index=0&blockType=i18n&issuerPath=%2Fapp%2Fsrc%2Fcomponents%2FTermsRelationshipNetwork%2FTermsRelationshipNetwork.vue&lang=yaml\"\nif (typeof block0 === 'function') block0(component)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/app/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('0925c2a2')) {\n      api.createRecord('0925c2a2', component.options)\n    } else {\n      api.reload('0925c2a2', component.options)\n    }\n    module.hot.accept(\"./TermsRelationshipNetwork.html?vue&type=template&id=0925c2a2&scoped=true&\", function () {\n      api.rerender('0925c2a2', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/TermsRelationshipNetwork/TermsRelationshipNetwork.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/@kazupon/vue-i18n-loader/lib/index.js!./TermsRelationshipNetwork.yaml?vue&type=custom&index=0&blockType=i18n&issuerPath=%2Fapp%2Fsrc%2Fcomponents%2FTermsRelationshipNetwork%2FTermsRelationshipNetwork.vue&lang=yaml\"; export default mod; export * from \"-!../../../node_modules/@kazupon/vue-i18n-loader/lib/index.js!./TermsRelationshipNetwork.yaml?vue&type=custom&index=0&blockType=i18n&issuerPath=%2Fapp%2Fsrc%2Fcomponents%2FTermsRelationshipNetwork%2FTermsRelationshipNetwork.vue&lang=yaml\"","export default function (app) {\n  \n}","export default function (app) {\n  let demoNodes = [\n    {data: {id: 'n1', weight: 20}},\n    {data: {id: 'n2', weight: 2}},\n    {data: {id: 'n3', parent: 'n8'}},\n    {data: {id: 'n5'}},\n    {data: {id: 'n6', parent: 'n8'}},\n    {data: {id: 'n7', parent: 'n8'}},\n    {data: {id: 'n8'}},\n    {data: {id: 'f1'}, classes: ['fixed']},\n    {data: {id: 'f2'}, classes: ['fixed']},\n    {data: {id: 'f3', parent: 'n8'}, classes: ['fixed']}, \n  ]\n  let demoEdges = [\n    {data: {source: 'n1', target: 'f1', weight: 20}},\n    {data: {source: 'n1', target: 'n3', weight: 2}},\n    {data: {source: 'f1', target: 'n2'}},\n    {data: {source: 'f1', target: 'n3'}},\n    {data: {source: 'n3', target: 'f2'}},\n    {data: {source: 'f2', target: 'n5'}},\n    {data: {source: 'n5', target: 'n8'}},\n    {data: {source: 'n6', target: 'n3'}},\n    {data: {source: 'n6', target: 'n7'}},\n    {data: {source: 'n6', target: 'f3'}}\n  ]\n\n  app.computed.graphElements = function () {\n\n    let nodes = []\n    let edges = []\n\n    // nodes = demoNodes\n    // edges = demoEdges\n\n    \n    let result = this.db.localConfig.analysisResult\n    // console.log(result)\n    let {nodesMap, edgesMap} = this.analyzeNodeEdgeMap(result)\n    // console.log(edgesMap)\n    nodesMap = weightNormalize(nodesMap)\n    edgesMap = weightNormalize(edgesMap)\n    // console.log(nodesMap)\n    nodes = this.nodesMapToArray(nodesMap)\n    edges = this.edgesMapToArray(edgesMap)\n    console.log(nodes)\n\n    return {\n      nodes,\n      edges\n    }\n  }\n\n  app.methods.analyzeNodeEdgeMap = function (input) {\n    input = input.trim().replace(/\\t/g, ' ')\n\n    let nodesMap = {}\n    let edgesMap = {}\n    input.split('\\n').forEach(line => {\n      line = line.trim()\n\n      let localNodes = {}\n      line.split(' ').forEach(term => {\n        term = term.trim()\n        if (term === '') {\n          return false\n        }\n\n        if (term.length > this.termMaxLength) {\n          term = term.slice(0, this.termMaxLength).trim()\n        }\n\n        if (!localNodes[term]) {\n          localNodes[term] = 0\n        }\n        localNodes[term]++\n\n        if (!nodesMap[term]) {\n          nodesMap[term] = 0\n        }\n        nodesMap[term]++\n      })\n\n      // https://stackoverflow.com/a/43241287\n      let terms = Object.keys(localNodes)\n      let pairs = [].concat(...terms.map( \n          (v, i) => terms.slice(i+1).map( w => [v, w] ))\n      );\n\n      pairs.forEach(pair => {\n        pair.sort()\n\n        let weight = Math.max(localNodes[pair[0]], localNodes[pair[1]])\n        let edgeKey = pair.join('\\t')\n        \n        if (!edgesMap[edgeKey]) {\n          edgesMap[edgeKey] = 0\n        }\n        edgesMap[edgeKey] = edgesMap[edgeKey] + weight\n      })\n    })\n\n    // console.log(edgesMap)\n\n    return {nodesMap, edgesMap}\n  }\n\n  function weightNormalize(map, min = 0, max = 100) {\n    let values = Object.values(map)\n    // console.log(values)\n    let valuesMin = Math.min(...values)\n    let valuesMax = Math.max(...values)\n\n    let output = {}\n    let valuesInterval = (valuesMax - valuesMin)\n    let interval = max - min\n    Object.keys(map).forEach(key => {\n      if (valuesInterval === 0 || interval === 0) {\n        output[key] = min\n        return false\n      }\n\n      let value = map[key]\n      let ratio = (value - valuesMin) / valuesInterval\n      // console.log(key, ratio, value, valuesMin, valuesMax, valuesInterval)\n      value = Math.round((ratio * interval) + min)\n      output[key] = value\n    })\n\n    // console.log(output)\n    return output\n  }\n\n  app.methods.nodesMapToArray = function (nodesMap) {\n    // {data: {id: 'n1', weight: 20}},\n    return Object.keys(nodesMap).map(term => {\n      return {\n        data: {\n          id: this.nodeBreakLine(term),\n          term,\n          weight: nodesMap[term]\n        }\n      }\n    })\n  }\n\n  app.methods.edgesMapToArray = function (edgesMap) {\n    return Object.keys(edgesMap).map(key => {\n      let part = key.split('\\t')\n      return {\n        data: {\n          source: this.nodeBreakLine(part[0]),\n          target: this.nodeBreakLine(part[1]),\n          weight: edgesMap[key]\n        }\n      }\n    })\n  }\n\n  // app.computed.idRoot = function () {\n  //   if (!this.graphData) {\n  //     return false\n  //   }\n  //   let text = this.graphData.term\n\n  //   text = this.nodeBreakLine(text)\n\n  //   return text\n  // }\n\n  app.computed.relativePlacementConstraint = function () {\n    let rel = []\n\n    return rel\n  }\n\n  app.computed.alignmentConstraint = function () {\n    let vertical = []\n    let horizontal = []\n\n    return {\n      vertical,\n      horizontal\n    }\n  }\n}","export default function (app) {\n\n  app.methods.scrollToTermFocus = function (term) {\n    // console.log(this.config.inited, this.localConfig.view)\n    if (this.db.config.inited === false) {\n      return false\n    }\n    // console.log('go')\n    // this.$parent.$refs.ListIndex.scrollToTermFocus()\n    // this.$parent.$refs.ListThesaurus.scrollToTermFocus()\n\n    let element = document.getElementById(`term_${term}`)\n    element.scrollIntoView({ behavior: 'smooth', block: 'center'});\n    $(element).addClass('focus')\n    setTimeout(() => {\n      $(element).removeClass('focus')\n    }, 3000)\n  }\n\n  let locatorSizeLimit = 8\n  app.methods.displayLocator = function (loc) {\n    if (loc.length < locatorSizeLimit) {\n      return loc\n    }\n\n    let half = Math.ceil(locatorSizeLimit / 2) - 1\n    return loc.slice(0, half) + '...' + loc.slice(half * -1)\n  }\n}","const defaultStylesheet = require('./CytoscapeStyle.js')\n\nconst cytoscape = require('cytoscape');\n\n// https://github.com/iVis-at-Bilkent/cytoscape.js-layout-utilities\nconst layoutUtilities = require('cytoscape-layout-utilities');\ncytoscape.use( layoutUtilities ); // register extension\n\n// https://www.npmjs.com/package/cytoscape-fcose\nconst fcose = require('cytoscape-fcose');\ncytoscape.use( fcose ); // register extension\n\n// https://www.npmjs.com/package/cytoscape-cose-bilkent\n// let coseBilkent = require('cytoscape-cose-bilkent');\n// cytoscape.use( coseBilkent ); // register extension\n\n// https://www.npmjs.com/package/cytoscape-cise\nlet cise = require('cytoscape-cise');\ncytoscape.use( cise ); // register extension\n\n// https://www.npmjs.com/package/cytoscape-popper\n// const popper = require('cytoscape-popper');\n// cyqtip( popper );\n\nconst $ = require('jquery')\n\n// console.log(cyqtip)\n// console.log(defaultStylesheet)\n\nexport default function (app) {\n\n  let ready = function (cy, vue) {\n    let {relativePlacementConstraint, alignmentConstraint} = vue\n    // console.log(this)       \n    let layoutUtilities = cy.layoutUtilities({\n      desiredAspectRatio: cy.width() / cy.height()\n    });\n\n    // cy.nodes().forEach(function (node) {\n    //   // let size = Math.random()*40+30;\n    //   // node.css(\"width\", size);\n    //   // node.css(\"height\", size);\n    // });\n\n    let initialLayout = cy.layout({\n      // name: 'fcose',\n      name: 'dagre',\n      quality: \"proof\",\n      // step: 'all', \n      // animationEasing: 'ease-out',\n      relativePlacementConstraint,\n      alignmentConstraint,\n      // nestingFactor: 1,\n      // gravity: 0.1,\n      // numIter: 100000,\n      // padding: 100,\n      // fit: true,\n      // gravityRange: 0.8,\n      // gravityCompound: 5,\n      // gravityRangeCompound: 0.7,\n      // tilingPaddingVertical: 10,\n      // nodeSep: 300,\n      avoidOverlap: true,\n      step: \"all\",\n      // nodeSeparation: 100,\n      // gravity: 0.0000000000000001,\n      // nodeRepulsion: 4500,\n      // gravityRange: 0.00008, \n      // nodeSeparation: 5000,\n      // animationDuration: 500,\n      // animate: false,\n    });\n    // initialLayout.pon('layoutstart').then(function( event ){\n    //   constraints.fixedNodeConstraint = JSON.parse(JSON.stringify(fixedNodeConstraint));\n    // });\n    initialLayout.run();\n\n  }\n\n  // cyqtip(cytoscape)\n  app.methods.initCytoscapeVis = function () {\n    \n    if (this.db.config.inited === false) {\n      return false\n    }\n\n    clearTimeout(this.cyTimer)\n\n    this.cyTimer = setTimeout(() => {\n      let vue = this\n      cy = window.cy = cytoscape({\n        container: this.$refs.cy,\n        ready: function () {\n          ready(this, vue)\n        },\n        layout: { name: 'preset' },\n        style: defaultStylesheet(),\n        elements: this.graphElements,\n        wheelSensitivity: 0.3,\n      });\n\n      this.setupCYEvents(cy)\n    }, 100)\n      \n\n    // set nodeHtmlLabel for your Cy instance\n    \n\n    // let constraints = {\n    //   fixedNodeConstraint: undefined,\n    //   alignmentConstraint: undefined,\n    //   relativePlacementConstraint: undefined\n    // };\n  }\n\n  app.methods.setupCYEvents = function (cy) {\n    let vue = this\n\n    cy.on('click', 'node', function (e) {\n      // console.log(this.data('classes'))\n      if (!this.classes() || this.classes().indexOf('term') === -1) {\n        return false\n      }\n\n      if (this.classes().indexOf('root') === -1) {\n        // window.alert(this.data('id'))\n        // vue.localConfig.termFocus = this.data('term')\n      }\n      else {\n        vue.scrollToTermFocus(this.data('term'))\n      }\n    });\n\n    cy.on('mouseover', 'node', function (e) {\n      // console.log(this.classes())\n      if (!this.classes() || this.classes().indexOf('term') === -1) {\n        return false\n      }\n      // console.log('aaa')\n      $('body').css('cursor', 'pointer');\n\n      // var node = e.cyTarget;\n      // node.qtip({\n      \n      // this.qtip({\n      //      content: 'hello',\n      //      show: {\n      //         event: e.type,\n      //         ready: true\n      //      },\n      //      hide: {\n      //         event: 'mouseout unfocus'\n      //      }\n      // }, e);\n    });\n\n    cy.on('mouseout', 'node', function (e) {\n      if (!this.classes() || this.classes().indexOf('term') === -1) {\n        return false\n      }\n      // console.log(this.data('classes'))\n      $('body').css('cursor', 'default');\n    });\n  }\n\n  // app.methods.setupGraphData = function () {\n  //   if (this.db.config.inited === false) {\n  //     return false\n  //   }\n\n  //   // let index = this.$parent.$refs.ListIndex.graphData\n  //   // if (!index) {\n  //   //   console.error('no index')\n  //   //   // return false\n  //   // }\n\n  //   // // console.log(index)\n  //   // let thesaurus = this.$parent.$refs.ListThesaurus.graphData\n  //   // if (!thesaurus) {\n  //   //   console.error('no thesaurus')\n  //   //   window.alert(this.$t(`\"${this.localConfig.termFocus}\" is not found in thesaurus.`))\n  //   //   return false\n  //   // }\n\n  //   // let data = {\n  //   //   ...thesaurus\n  //   //   // locators: index.locators\n  //   // }\n\n  //   // if (index && index.locators) {\n  //   //   data.locators = index.locators\n  //   // }\n\n  //   // // console.log(data)\n  //   // // return data\n  //   // this.graphData = data\n\n  //   this.graphData = {}\n\n  //   setTimeout(() => {\n  //     this.initCytoscapeVis()\n  //   }, 100)\n  // }\n\n  app.methods.hasChinese = function (text) {\n    return /[\\u4e00-\\u9fa5]/.test(text)\n  }\n\n  let nodeWidth = 5\n  app.methods.nodeBreakLine = function (term) {\n    let output = []\n    term.split(' ').map(word => {\n      if (this.hasChinese(word) === false) {\n        output.push(word)\n        return false\n      }\n      \n      while (word.length > nodeWidth) {\n        let part = word.slice(0, nodeWidth)\n        word = word.slice(nodeWidth)\n\n        output.push(part.trim())\n      }\n      \n      if (word.length > 0 && word.trim() !== '') {\n        output.push(word.trim())\n      }\n    })\n\n\n    // console.log(output.join('\\n'))\n    return output.join('\\n')\n\n    // return term.split(' ').join('\\n')\n  }\n\n  app.methods.nodeJoinLine = function (term) {\n    return term.split('\\n').join(' ')\n  }\n}","export default function (app) {\n\n  app.watch['db.config.inited'] = function () {\n    if (this.db.config.inited === false) {\n      return false\n    }\n\n    // setTimeout(() => {\n    this.initCytoscapeVis()\n    // }, 100)\n  }\n\n  app.watch['db.localConfig.analysisResult'] = function () {\n    if (this.db.config.inited === false) {\n      return false\n    }\n\n    // setTimeout(() => {\n    this.initCytoscapeVis()\n  }\n}"],"sourceRoot":""}