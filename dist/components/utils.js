(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{103:function(module,exports){eval('Date.prototype.mmddhhmm = function () {\n  var mm = this.getMonth() < 9 ? "0" + (this.getMonth() + 1) : this.getMonth() + 1; // getMonth() is zero-based\n  var dd = this.getDate() < 10 ? "0" + this.getDate() : this.getDate();\n  var hh = this.getHours() < 10 ? "0" + this.getHours() : this.getHours();\n  var min = this.getMinutes() < 10 ? "0" + this.getMinutes() : this.getMinutes();\n  return "".concat(mm).concat(dd).concat(\'-\').concat(hh).concat(min);\n};\nDate.prototype.mmdd = function () {\n  var mm = this.getMonth() < 9 ? "0" + (this.getMonth() + 1) : this.getMonth() + 1; // getMonth() is zero-based\n  var dd = this.getDate() < 10 ? "0" + this.getDate() : this.getDate();\n  var hh = this.getHours() < 10 ? "0" + this.getHours() : this.getHours();\n  var min = this.getMinutes() < 10 ? "0" + this.getMinutes() : this.getMinutes();\n  return "".concat(mm).concat(dd);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL2RhdGUtaGVscGVyLmpzPzIzNGUiXSwic291cmNlc0NvbnRlbnQiOlsiRGF0ZS5wcm90b3R5cGUubW1kZGhobW0gPSBmdW5jdGlvbigpIHtcbiAgdmFyIG1tID0gdGhpcy5nZXRNb250aCgpIDwgOSA/IFwiMFwiICsgKHRoaXMuZ2V0TW9udGgoKSArIDEpIDogKHRoaXMuZ2V0TW9udGgoKSArIDEpOyAvLyBnZXRNb250aCgpIGlzIHplcm8tYmFzZWRcbiAgdmFyIGRkID0gdGhpcy5nZXREYXRlKCkgPCAxMCA/IFwiMFwiICsgdGhpcy5nZXREYXRlKCkgOiB0aGlzLmdldERhdGUoKTtcbiAgdmFyIGhoID0gdGhpcy5nZXRIb3VycygpIDwgMTAgPyBcIjBcIiArIHRoaXMuZ2V0SG91cnMoKSA6IHRoaXMuZ2V0SG91cnMoKTtcbiAgdmFyIG1pbiA9IHRoaXMuZ2V0TWludXRlcygpIDwgMTAgPyBcIjBcIiArIHRoaXMuZ2V0TWludXRlcygpIDogdGhpcy5nZXRNaW51dGVzKCk7XG4gIFxuICByZXR1cm4gXCJcIi5jb25jYXQobW0pXG4gICAgICAgICAgLmNvbmNhdChkZClcbiAgICAgICAgICAuY29uY2F0KCctJylcbiAgICAgICAgICAuY29uY2F0KGhoKVxuICAgICAgICAgIC5jb25jYXQobWluKVxufTtcblxuRGF0ZS5wcm90b3R5cGUubW1kZCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgbW0gPSB0aGlzLmdldE1vbnRoKCkgPCA5ID8gXCIwXCIgKyAodGhpcy5nZXRNb250aCgpICsgMSkgOiAodGhpcy5nZXRNb250aCgpICsgMSk7IC8vIGdldE1vbnRoKCkgaXMgemVyby1iYXNlZFxuICB2YXIgZGQgPSB0aGlzLmdldERhdGUoKSA8IDEwID8gXCIwXCIgKyB0aGlzLmdldERhdGUoKSA6IHRoaXMuZ2V0RGF0ZSgpO1xuICB2YXIgaGggPSB0aGlzLmdldEhvdXJzKCkgPCAxMCA/IFwiMFwiICsgdGhpcy5nZXRIb3VycygpIDogdGhpcy5nZXRIb3VycygpO1xuICB2YXIgbWluID0gdGhpcy5nZXRNaW51dGVzKCkgPCAxMCA/IFwiMFwiICsgdGhpcy5nZXRNaW51dGVzKCkgOiB0aGlzLmdldE1pbnV0ZXMoKTtcbiAgXG4gIHJldHVybiBcIlwiLmNvbmNhdChtbSlcbiAgICAgICAgICAuY29uY2F0KGRkKVxufTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///103\n')},214:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./src/utils/AsyncUtils.js\n/* harmony default export */ var AsyncUtils = ({\n  sleep: function sleep() {\n    var ms = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 500;\n    return new Promise(function (resolve) {\n      return setTimeout(resolve, ms);\n    });\n  }\n});\n// CONCATENATED MODULE: ./src/utils/ClipboardUtils.js\n/* harmony default export */ var ClipboardUtils = ({\n  copyPlainString: function copyPlainString(text) {\n    if (!navigator.clipboard) {\n      this.fallbackCopyTextToClipboard(text);\n      return;\n    }\n    navigator.clipboard.writeText(text).then(function () {\n      //console.log(\'Async: Copying to clipboard was successful!\');\n    }, function (err) {\n      //console.error(\'Async: Could not copy text: \', err);\n    });\n  },\n  fallbackCopyTextToClipboard: function fallbackCopyTextToClipboard(text) {\n    var textArea = document.createElement("textarea");\n    textArea.value = text;\n\n    // Avoid scrolling to bottom\n    textArea.style.top = "0";\n    textArea.style.left = "0";\n    textArea.style.position = "fixed";\n    document.body.appendChild(textArea);\n    textArea.focus();\n    textArea.select();\n    try {\n      var successful = document.execCommand(\'copy\');\n      var msg = successful ? \'successful\' : \'unsuccessful\';\n      console.log(\'Fallback: Copying text command was \' + msg);\n    } catch (err) {\n      console.error(\'Fallback: Oops, unable to copy\', err);\n    }\n    document.body.removeChild(textArea);\n  }\n});\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/typeof.js\nvar helpers_typeof = __webpack_require__(10);\nvar typeof_default = /*#__PURE__*/__webpack_require__.n(helpers_typeof);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(6);\nvar asyncToGenerator_default = /*#__PURE__*/__webpack_require__.n(asyncToGenerator);\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(61);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// CONCATENATED MODULE: ./src/utils/AxiosUtils.js\n\n\nfunction _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = "function" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || "@@iterator", asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator", toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, ""); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, "_invoke", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: "normal", arg: fn.call(obj, arg) }; } catch (err) { return { type: "throw", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { ["next", "throw", "return"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if ("throw" !== record.type) { var result = record.arg, value = result.value; return value && "object" == typeof_default()(value) && hasOwn.call(value, "__await") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke("next", value, resolve, reject); }, function (err) { invoke("throw", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke("throw", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, "_invoke", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = "suspendedStart"; return function (method, arg) { if ("executing" === state) throw new Error("Generator is already running"); if ("completed" === state) { if ("throw" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if ("next" === context.method) context.sent = context._sent = context.arg;else if ("throw" === context.method) { if ("suspendedStart" === state) throw state = "completed", context.arg; context.dispatchException(context.arg); } else "return" === context.method && context.abrupt("return", context.arg); state = "executing"; var record = tryCatch(innerFn, self, context); if ("normal" === record.type) { if (state = context.done ? "completed" : "suspendedYield", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } "throw" === record.type && (state = "completed", context.method = "throw", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, "throw" === methodName && delegate.iterator["return"] && (context.method = "return", context.arg = undefined, maybeInvokeDelegate(delegate, context), "throw" === context.method) || "return" !== methodName && (context.method = "throw", context.arg = new TypeError("The iterator does not provide a \'" + methodName + "\' method")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if ("throw" === record.type) return context.method = "throw", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, "return" !== context.method && (context.method = "next", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = "throw", context.arg = new TypeError("iterator result is not an object"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = "normal", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: "root" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if ("function" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"), exports.isGeneratorFunction = function (genFun) { var ctor = "function" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || "GeneratorFunction" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, "GeneratorFunction")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, "Generator"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, "toString", function () { return "[object Generator]"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) keys.push(key); return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = "next", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) "t" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if ("throw" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = "throw", record.arg = exception, context.next = loc, caught && (context.method = "next", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if ("root" === entry.tryLoc) return handle("end"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, "catchLoc"), hasFinally = hasOwn.call(entry, "finallyLoc"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error("try statement without catch or finally"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && ("break" === type || "continue" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = "next", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if ("throw" === record.type) throw record.arg; return "break" === record.type || "continue" === record.type ? this.next = record.arg : "return" === record.type ? (this.rval = this.arg = record.arg, this.method = "return", this.next = "end") : "normal" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, "catch": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if ("throw" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error("illegal catch attempt"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, "next" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\n/* harmony default export */ var AxiosUtils = ({\n  get: function () {\n    var _get = asyncToGenerator_default()( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(url) {\n      var result;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return axios_default.a.get(url);\n          case 2:\n            result = _context.sent;\n            return _context.abrupt("return", result.data);\n          case 4:\n          case "end":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n    function get(_x) {\n      return _get.apply(this, arguments);\n    }\n    return get;\n  }()\n});\n// CONCATENATED MODULE: ./src/utils/FileUtils.js\n/* harmony default export */ var FileUtils = ({\n  /**\n   * 下載檔案\n   * https://stackoverflow.com/a/18197341/6645399\n   * @param {String} filename\n   * @param {String} text\n   * @returns {Boolean}\n   */\n  download: function download(filename, text) {\n    var element = document.createElement(\'a\');\n    element.setAttribute(\'href\', \'data:text/plain;charset=utf-8,\' + encodeURIComponent(text));\n    element.setAttribute(\'download\', filename);\n    element.style.display = \'none\';\n    document.body.appendChild(element);\n    element.click();\n    document.body.removeChild(element);\n    return true;\n  }\n});\n// CONCATENATED MODULE: ./src/utils/URLUtils.js\n\n\nfunction URLUtils_regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ URLUtils_regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = "function" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || "@@iterator", asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator", toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, ""); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, "_invoke", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: "normal", arg: fn.call(obj, arg) }; } catch (err) { return { type: "throw", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { ["next", "throw", "return"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if ("throw" !== record.type) { var result = record.arg, value = result.value; return value && "object" == typeof_default()(value) && hasOwn.call(value, "__await") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke("next", value, resolve, reject); }, function (err) { invoke("throw", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke("throw", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, "_invoke", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = "suspendedStart"; return function (method, arg) { if ("executing" === state) throw new Error("Generator is already running"); if ("completed" === state) { if ("throw" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if ("next" === context.method) context.sent = context._sent = context.arg;else if ("throw" === context.method) { if ("suspendedStart" === state) throw state = "completed", context.arg; context.dispatchException(context.arg); } else "return" === context.method && context.abrupt("return", context.arg); state = "executing"; var record = tryCatch(innerFn, self, context); if ("normal" === record.type) { if (state = context.done ? "completed" : "suspendedYield", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } "throw" === record.type && (state = "completed", context.method = "throw", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, "throw" === methodName && delegate.iterator["return"] && (context.method = "return", context.arg = undefined, maybeInvokeDelegate(delegate, context), "throw" === context.method) || "return" !== methodName && (context.method = "throw", context.arg = new TypeError("The iterator does not provide a \'" + methodName + "\' method")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if ("throw" === record.type) return context.method = "throw", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, "return" !== context.method && (context.method = "next", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = "throw", context.arg = new TypeError("iterator result is not an object"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = "normal", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: "root" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if ("function" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"), exports.isGeneratorFunction = function (genFun) { var ctor = "function" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || "GeneratorFunction" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, "GeneratorFunction")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, "Generator"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, "toString", function () { return "[object Generator]"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) keys.push(key); return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = "next", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) "t" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if ("throw" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = "throw", record.arg = exception, context.next = loc, caught && (context.method = "next", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if ("root" === entry.tryLoc) return handle("end"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, "catchLoc"), hasFinally = hasOwn.call(entry, "finallyLoc"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error("try statement without catch or finally"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && ("break" === type || "continue" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = "next", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if ("throw" === record.type) throw record.arg; return "break" === record.type || "continue" === record.type ? this.next = record.arg : "return" === record.type ? (this.rval = this.arg = record.arg, this.method = "return", this.next = "end") : "normal" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, "catch": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if ("throw" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error("illegal catch attempt"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, "next" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n// import $ from \'jquery\'\n\n/* harmony default export */ var URLUtils = ({\n  isURL: function isURL(str) {\n    var pattern = new RegExp(\'^(https?:\\\\/\\\\/)?\' +\n    // protocol\n    \'((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|\' +\n    // domain name\n    \'((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))\' +\n    // OR ip (v4) address\n    \'(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*\' +\n    // port and path\n    \'(\\\\?[;&a-z\\\\d%_.~+=-]*)?\' +\n    // query string\n    \'(\\\\#[-a-z\\\\d_]*)?$\', \'i\'); // fragment locator\n    return !!pattern.test(str);\n  },\n  isEmail: function isEmail(email) {\n    var re = /^(([^<>()[\\]\\\\.,;:\\s@"]+(\\.[^<>()[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(String(email).toLowerCase());\n  },\n  getParameterID: function getParameterID() {\n    var queryString = window.location.search;\n    var urlParams = new URLSearchParams(queryString);\n    return urlParams.get(\'id\');\n  },\n  getTitle: function () {\n    var _getTitle = asyncToGenerator_default()( /*#__PURE__*/URLUtils_regeneratorRuntime().mark(function _callee(url) {\n      var result;\n      return URLUtils_regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            if (url.indexOf(\'//\') > -1) {\n              url = url.slice(url.indexOf(\'//\') + 2);\n            }\n            url = "https://script.google.com/macros/s/AKfycbz_ePQoQw651KqM8z-C1FOInhyM40Y5WrDsbxDjr0xBcLoT8HowCWkIA2RR_12v353c/exec?url=" + url;\n            _context.next = 4;\n            return axios_default.a.get(url);\n          case 4:\n            result = _context.sent;\n            return _context.abrupt("return", result.data.output);\n          case 6:\n          case "end":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n    function getTitle(_x) {\n      return _getTitle.apply(this, arguments);\n    }\n    return getTitle;\n  }()\n});\n// CONCATENATED MODULE: ./src/utils/DataUtils.js\n\n\nfunction DataUtils_regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ DataUtils_regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = "function" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || "@@iterator", asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator", toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, ""); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, "_invoke", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: "normal", arg: fn.call(obj, arg) }; } catch (err) { return { type: "throw", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { ["next", "throw", "return"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if ("throw" !== record.type) { var result = record.arg, value = result.value; return value && "object" == typeof_default()(value) && hasOwn.call(value, "__await") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke("next", value, resolve, reject); }, function (err) { invoke("throw", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke("throw", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, "_invoke", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = "suspendedStart"; return function (method, arg) { if ("executing" === state) throw new Error("Generator is already running"); if ("completed" === state) { if ("throw" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if ("next" === context.method) context.sent = context._sent = context.arg;else if ("throw" === context.method) { if ("suspendedStart" === state) throw state = "completed", context.arg; context.dispatchException(context.arg); } else "return" === context.method && context.abrupt("return", context.arg); state = "executing"; var record = tryCatch(innerFn, self, context); if ("normal" === record.type) { if (state = context.done ? "completed" : "suspendedYield", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } "throw" === record.type && (state = "completed", context.method = "throw", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, "throw" === methodName && delegate.iterator["return"] && (context.method = "return", context.arg = undefined, maybeInvokeDelegate(delegate, context), "throw" === context.method) || "return" !== methodName && (context.method = "throw", context.arg = new TypeError("The iterator does not provide a \'" + methodName + "\' method")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if ("throw" === record.type) return context.method = "throw", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, "return" !== context.method && (context.method = "next", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = "throw", context.arg = new TypeError("iterator result is not an object"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = "normal", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: "root" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if ("function" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"), exports.isGeneratorFunction = function (genFun) { var ctor = "function" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || "GeneratorFunction" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, "GeneratorFunction")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, "Generator"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, "toString", function () { return "[object Generator]"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) keys.push(key); return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = "next", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) "t" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if ("throw" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = "throw", record.arg = exception, context.next = loc, caught && (context.method = "next", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if ("root" === entry.tryLoc) return handle("end"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, "catchLoc"), hasFinally = hasOwn.call(entry, "finallyLoc"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error("try statement without catch or finally"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && ("break" === type || "continue" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = "next", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if ("throw" === record.type) throw record.arg; return "break" === record.type || "continue" === record.type ? this.next = record.arg : "return" === record.type ? (this.rval = this.arg = record.arg, this.method = "return", this.next = "end") : "normal" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, "catch": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if ("throw" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error("illegal catch attempt"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, "next" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n/* harmony default export */ var DataUtils = ({\n  sleep: function sleep() {\n    var ms = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    return new Promise(function (resolve) {\n      return setTimeout(resolve, ms);\n    });\n  },\n  isMissingData: function isMissingData(data) {\n    return data === \'?\' || data === null || data === undefined;\n  },\n  parseNumber: function () {\n    var _parseNumber = asyncToGenerator_default()( /*#__PURE__*/DataUtils_regeneratorRuntime().mark(function _callee(value) {\n      var ary, len, i, index;\n      return DataUtils_regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            if (!Array.isArray(value)) {\n              _context.next = 17;\n              break;\n            }\n            ary = [];\n            len = value.length, i = len;\n          case 3:\n            if (!(i > 0)) {\n              _context.next = 16;\n              break;\n            }\n            index = len - i;\n            _context.t0 = ary;\n            _context.next = 8;\n            return this.parseNumber(value[index]);\n          case 8:\n            _context.t1 = _context.sent;\n            _context.t0.push.call(_context.t0, _context.t1);\n            if (!(i % 5000 === 2500)) {\n              _context.next = 13;\n              break;\n            }\n            _context.next = 13;\n            return this.sleep();\n          case 13:\n            i--;\n            _context.next = 3;\n            break;\n          case 16:\n            return _context.abrupt("return", ary);\n          case 17:\n            if (!this.isMissingData(value)) {\n              _context.next = 19;\n              break;\n            }\n            return _context.abrupt("return", value);\n          case 19:\n            if (!(typeof value === \'string\' && value !== \'\' && !isNaN(value))) {\n              _context.next = 23;\n              break;\n            }\n            return _context.abrupt("return", Number(value));\n          case 23:\n            return _context.abrupt("return", value);\n          case 24:\n          case "end":\n            return _context.stop();\n        }\n      }, _callee, this);\n    }));\n    function parseNumber(_x) {\n      return _parseNumber.apply(this, arguments);\n    }\n    return parseNumber;\n  }()\n});\n// CONCATENATED MODULE: ./src/utils/PopupUtils.js\n\n\nfunction PopupUtils_regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ PopupUtils_regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = "function" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || "@@iterator", asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator", toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, ""); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, "_invoke", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: "normal", arg: fn.call(obj, arg) }; } catch (err) { return { type: "throw", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { ["next", "throw", "return"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if ("throw" !== record.type) { var result = record.arg, value = result.value; return value && "object" == typeof_default()(value) && hasOwn.call(value, "__await") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke("next", value, resolve, reject); }, function (err) { invoke("throw", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke("throw", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, "_invoke", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = "suspendedStart"; return function (method, arg) { if ("executing" === state) throw new Error("Generator is already running"); if ("completed" === state) { if ("throw" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if ("next" === context.method) context.sent = context._sent = context.arg;else if ("throw" === context.method) { if ("suspendedStart" === state) throw state = "completed", context.arg; context.dispatchException(context.arg); } else "return" === context.method && context.abrupt("return", context.arg); state = "executing"; var record = tryCatch(innerFn, self, context); if ("normal" === record.type) { if (state = context.done ? "completed" : "suspendedYield", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } "throw" === record.type && (state = "completed", context.method = "throw", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, "throw" === methodName && delegate.iterator["return"] && (context.method = "return", context.arg = undefined, maybeInvokeDelegate(delegate, context), "throw" === context.method) || "return" !== methodName && (context.method = "throw", context.arg = new TypeError("The iterator does not provide a \'" + methodName + "\' method")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if ("throw" === record.type) return context.method = "throw", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, "return" !== context.method && (context.method = "next", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = "throw", context.arg = new TypeError("iterator result is not an object"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = "normal", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: "root" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if ("function" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"), exports.isGeneratorFunction = function (genFun) { var ctor = "function" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || "GeneratorFunction" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, "GeneratorFunction")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, "Generator"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, "toString", function () { return "[object Generator]"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) keys.push(key); return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = "next", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) "t" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if ("throw" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = "throw", record.arg = exception, context.next = loc, caught && (context.method = "next", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if ("root" === entry.tryLoc) return handle("end"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, "catchLoc"), hasFinally = hasOwn.call(entry, "finallyLoc"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error("try statement without catch or finally"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && ("break" === type || "continue" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = "next", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if ("throw" === record.type) throw record.arg; return "break" === record.type || "continue" === record.type ? this.next = record.arg : "return" === record.type ? (this.rval = this.arg = record.arg, this.method = "return", this.next = "end") : "normal" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, "catch": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if ("throw" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error("illegal catch attempt"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, "next" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n/* harmony default export */ var PopupUtils = ({\n  open: function open() {\n    var _this = this;\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var _options$windowName = options.windowName,\n      windowName = _options$windowName === void 0 ? \'popup\' + new Date().getTime() : _options$windowName,\n      cssURL = options.cssURL,\n      bodyHTML = options.bodyHTML,\n      _options$title = options.title,\n      title = _options$title === void 0 ? window.document.title : _options$title,\n      _options$size = options.size,\n      size = _options$size === void 0 ? \'fullscreen\' : _options$size;\n    var top = 0;\n    var left = 0;\n    var width = window.screen.availWidth;\n    var height = window.screen.availHeight;\n    if (size === \'left\') {\n      width = parseInt(width / 2, 10);\n    } else if (size === \'right\') {\n      width = parseInt(width / 2, 10);\n      left = width;\n    }\n    var parameters = [\'toolbar=no\', \'location=no\', \'status=no\', \'menubar=no\', \'scrollbars=yes\', \'resizable=yes\', \'width=\' + width, \'height=\' + height, \'top=\' + top, \'left=\' + left];\n    //console.log(windowName)\n    var win = window.open(\'\', windowName, parameters.join(\',\'));\n\n    // ------------------------------\n\n    var isReady = false;\n    var doc = win.document;\n    if (cssURL) {\n      var head = doc.getElementsByTagName(\'head\')[0];\n      var link = doc.createElement(\'link\');\n      link.rel = \'stylesheet\';\n      link.type = \'text/css\';\n      link.href = cssURL;\n      //link.media = \'all\';\n      head.appendChild(link);\n    }\n    if (bodyHTML) {\n      doc.body.innerHTML = bodyHTML;\n      isReady = true;\n    }\n    if (title) {\n      doc.title = title;\n    }\n    win.setHTML = function (html) {\n      doc.body.innerHTML = html;\n      isReady = true;\n    };\n    win.clearHTML = function () {\n      doc.body.innerHTML = \'\';\n    };\n    win.setTitle = function (title) {\n      doc.title = title;\n    };\n    var waitReady = /*#__PURE__*/function () {\n      var _ref = asyncToGenerator_default()( /*#__PURE__*/PopupUtils_regeneratorRuntime().mark(function _callee() {\n        return PopupUtils_regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              if (!(isReady === false)) {\n                _context.next = 5;\n                break;\n              }\n              _context.next = 3;\n              return _this.sleep();\n            case 3:\n              _context.next = 0;\n              break;\n            case 5:\n            case "end":\n              return _context.stop();\n          }\n        }, _callee);\n      }));\n      return function waitReady() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    win.scrollToCenter = /*#__PURE__*/asyncToGenerator_default()( /*#__PURE__*/PopupUtils_regeneratorRuntime().mark(function _callee2() {\n      var scrollLeft;\n      return PopupUtils_regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return waitReady();\n          case 2:\n            //console.log(\'2\', win.document.body.scrollWidth, win.innerWidth)\n            scrollLeft = parseInt((win.document.body.scrollWidth - win.innerWidth) / 2, 10); //console.log(scrollLeft)\n            win.scrollTo(scrollLeft, null);\n          case 4:\n          case "end":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }));\n    win.scrollToTop = /*#__PURE__*/asyncToGenerator_default()( /*#__PURE__*/PopupUtils_regeneratorRuntime().mark(function _callee3() {\n      return PopupUtils_regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1) switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return waitReady();\n          case 2:\n            win.scrollTo(null, 0);\n          case 3:\n          case "end":\n            return _context3.stop();\n        }\n      }, _callee3);\n    }));\n    return win;\n  },\n  sleep: function sleep() {\n    var ms = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 50;\n    return new Promise(function (resolve) {\n      return setTimeout(resolve, ms);\n    });\n  }\n});\n// CONCATENATED MODULE: ./src/utils/StringUtils.js\n/* harmony default export */ var StringUtils = ({\n  hashCode: function hashCode(str) {\n    var hash = 0,\n      i,\n      chr;\n    if (str.length === 0) return hash;\n    for (i = 0; i < str.length; i++) {\n      chr = str.charCodeAt(i);\n      hash = (hash << 5) - hash + chr;\n      hash |= 0; // Convert to 32bit integer\n    }\n\n    hash = Math.abs(hash);\n    return hash;\n  }\n});\n// EXTERNAL MODULE: ./node_modules/mime-types/index.js\nvar mime_types = __webpack_require__(97);\nvar mime_types_default = /*#__PURE__*/__webpack_require__.n(mime_types);\n\n// CONCATENATED MODULE: ./src/utils/FileSystemUtils.js\n\n\nfunction FileSystemUtils_regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ FileSystemUtils_regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = "function" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || "@@iterator", asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator", toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, ""); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, "_invoke", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: "normal", arg: fn.call(obj, arg) }; } catch (err) { return { type: "throw", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { ["next", "throw", "return"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if ("throw" !== record.type) { var result = record.arg, value = result.value; return value && "object" == typeof_default()(value) && hasOwn.call(value, "__await") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke("next", value, resolve, reject); }, function (err) { invoke("throw", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke("throw", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, "_invoke", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = "suspendedStart"; return function (method, arg) { if ("executing" === state) throw new Error("Generator is already running"); if ("completed" === state) { if ("throw" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if ("next" === context.method) context.sent = context._sent = context.arg;else if ("throw" === context.method) { if ("suspendedStart" === state) throw state = "completed", context.arg; context.dispatchException(context.arg); } else "return" === context.method && context.abrupt("return", context.arg); state = "executing"; var record = tryCatch(innerFn, self, context); if ("normal" === record.type) { if (state = context.done ? "completed" : "suspendedYield", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } "throw" === record.type && (state = "completed", context.method = "throw", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, "throw" === methodName && delegate.iterator["return"] && (context.method = "return", context.arg = undefined, maybeInvokeDelegate(delegate, context), "throw" === context.method) || "return" !== methodName && (context.method = "throw", context.arg = new TypeError("The iterator does not provide a \'" + methodName + "\' method")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if ("throw" === record.type) return context.method = "throw", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, "return" !== context.method && (context.method = "next", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = "throw", context.arg = new TypeError("iterator result is not an object"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = "normal", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: "root" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if ("function" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"), exports.isGeneratorFunction = function (genFun) { var ctor = "function" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || "GeneratorFunction" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, "GeneratorFunction")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, "Generator"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, "toString", function () { return "[object Generator]"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) keys.push(key); return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = "next", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) "t" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if ("throw" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = "throw", record.arg = exception, context.next = loc, caught && (context.method = "next", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if ("root" === entry.tryLoc) return handle("end"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, "catchLoc"), hasFinally = hasOwn.call(entry, "finallyLoc"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error("try statement without catch or finally"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && ("break" === type || "continue" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = "next", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if ("throw" === record.type) throw record.arg; return "break" === record.type || "continue" === record.type ? this.next = record.arg : "return" === record.type ? (this.rval = this.arg = record.arg, this.method = "return", this.next = "end") : "normal" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, "catch": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if ("throw" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error("illegal catch attempt"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, "next" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\n\nvar CONFIG = {\n  quotaInMB: 5\n};\nvar triggerCallback = function triggerCallback(callback) {\n  if (typeof callback === \'function\') {\n    callback();\n  }\n};\n/* harmony default export */ var FileSystemUtils = ({\n  type: window.PERSISTENT,\n  //type: window.PERSISTENT,\n  quota: CONFIG.quotaInMB * 1024 * 1024 /*5MB*/,\n  fs: null,\n  base: \'\',\n  currentBaseUrl: null,\n  // inited: false,\n  init: function init(base) {\n    var _this = this;\n    return new Promise(function (resolve, reject) {\n      try {\n        // Note: The file system has been prefixed as of Google Chrome 12:\n        window.requestFileSystem = window.requestFileSystem || window.webkitRequestFileSystem;\n\n        // window.webkitStorageInfo.queryUsageAndQuota()\n        // window.StorageInfo.queryUsageAndQuota()\n\n        var requestFS = function requestFS(quota) {\n          window.requestFileSystem(_this.type, quota, function (fs) {\n            _this.fs = fs;\n            // this.inited = true\n            if (base) {\n              _this.base = base;\n            }\n            resolve();\n          }, function (e) {\n            reject(e);\n          });\n        };\n        if (_this.type === window.TEMPORARY) {\n          requestFS(_this.quota);\n        } else {\n          navigator.webkitPersistentStorage.requestQuota(_this.quota, function (grantedBytes) {\n            requestFS(grantedBytes);\n            //window.requestFileSystem(PERSISTENT, grantedBytes, onInitFs, errorHandler);\n          }, function (e) {\n            // console.log(\'Error\', e);\n            reject(e);\n          });\n        }\n\n        // resolve()\n      } catch (e) {\n        reject(e);\n      }\n    });\n  },\n  // onInitFs: function (fs, callback) {\n  //   this.fs = fs\n  //   //this.statsticQuotaUsage()\n  //   //console.log(\'FileSystem inited\')\n  //   /*\n  //   console.log(\'Opened file system: \' + fs.name);\n\n  //   this.write(\'log.txt\', \'ok\', () => {\n  //     this.read(\'log.txt\', (result) => {\n  //       console.log(result)\n  //     })\n  //   })\n  //   */\n  //   triggerCallback(callback)\n  // },\n  errorHandler: function errorHandler(e) {\n    //console.log(\'Filesystem error\')\n    //console.trace(e)\n    if (typeof e.code === \'undefined\') {\n      return;\n    }\n    var message = "Error code: ".concat(e.code, "<br />\\nName: ").concat(e.name, "<br />\\nMessage: ").concat(e.message);\n    window.alert(message);\n\n    //let errorObject = new Error(e.message);\n    //console.log(errorObject.stack);\n    console.trace("FileSystem error: ".concat(e.message));\n    /*\r\n    var msg = \'\';\r\n    console.log([\'errorHandler\', e.code])\r\n    // https://developer.mozilla.org/zh-TW/docs/Web/API/FileError#Error_codes\r\n    switch (e.code) {\r\n      case 10: //case FileError.QUOTA_EXCEEDED_ERR:\r\n      case 22: //case FileError.QUOTA_EXCEEDED_ERR:\r\n        msg = \'QUOTA_EXCEEDED_ERR\';\r\n        WindowHelper.alert(\'Quota Exceeded. Please delete data.\')\r\n        break;\r\n      case 1: //case FileError.NOT_FOUND_ERR:\r\n        msg = \'NOT_FOUND_ERR\';\r\n        break;\r\n      case 2: //case FileError.SECURITY_ERR:\r\n        msg = \'SECURITY_ERR\';\r\n        break;\r\n      case 9: //case FileError.INVALID_MODIFICATION_ERR:\r\n        msg = \'INVALID_MODIFICATION_ERR\';\r\n        break;\r\n      case 7: //case FileError.INVALID_STATE_ERR:\r\n        msg = \'INVALID_STATE_ERR\';\r\n        break;\r\n      case 13:\r\n        msg = \'FILE_EXISTED\'\r\n        break;\r\n      default:\r\n        msg = \'Unknown Error \' + e.code;\r\n        break;\r\n    }\r\n    ;\r\n      //console.log(\'Error: \' + msg);\r\n    throw \'Error: \' + msg\r\n    */\n  },\n\n  createDir: function createDir(rootDirEntry, folders) {\n    var _this2 = this;\n    if (rootDirEntry && !folders) {\n      folders = this.parsePath(rootDirEntry);\n      if (folders.endsWith(\'/\') === false && folders.indexOf(\'/\') > -1) {\n        folders = folders.slice(0, folders.lastIndexOf(\'/\') + 1);\n      }\n      rootDirEntry = this.fs.root;\n    }\n    if (typeof folders === \'string\') {\n      folders = folders.split(\'/\');\n    }\n    return new Promise(function (resolve, reject) {\n      //let errorHandler = this.errorHandler\n      var errorHandler = function errorHandler(e) {\n        //console.log([\'createDir error\'])\n        //console.log(folders)\n        //console.log([\'createDir\', e])\n        //triggerCallback(callback)\n        console.log([\'createDir\', folders]);\n        // this.errorHandler(e)\n        reject(e);\n      };\n\n      // Throw out \'./\' or \'/\' and move on to prevent something like \'/foo/.//bar\'.\n      while (folders[0] === \'.\' || folders[0] === \'\') {\n        if (folders.length > 1) {\n          folders = folders.slice(1);\n        } else {\n          // return triggerCallback(callback)\n          return resolve();\n        }\n      }\n\n      //console.log(folders[0])\n      rootDirEntry.getDirectory(folders[0], {\n        create: true\n      }, /*#__PURE__*/function () {\n        var _ref = asyncToGenerator_default()( /*#__PURE__*/FileSystemUtils_regeneratorRuntime().mark(function _callee(dirEntry) {\n          return FileSystemUtils_regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                if (!folders.length) {\n                  _context.next = 6;\n                  break;\n                }\n                _context.next = 3;\n                return _this2.createDir(dirEntry, folders.slice(1));\n              case 3:\n                resolve();\n                _context.next = 7;\n                break;\n              case 6:\n                // triggerCallback(callback)\n                resolve();\n              case 7:\n              case "end":\n                return _context.stop();\n            }\n          }, _callee);\n        }));\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }(), errorHandler);\n    });\n  },\n  removeDir: function removeDir(dirPath) {\n    // if (InitHelper.ready === false) {\n    if (!this.fs) {\n      console.log(\'wait init ready\');\n      return;\n    }\n    var fs = this.fs;\n    return new Promise(function (resolve, reject) {\n      fs.root.getDirectory(dirPath, {}, function (dirEntry) {\n        dirEntry.removeRecursively(function () {\n          //console.log(\'Directory removed.\');\n          // triggerCallback(callback)\n          resolve();\n        }, resolve);\n      }, resolve);\n    });\n  },\n  writeFromString: function writeFromString(filePath, content) {\n    var _this3 = this;\n    // if (InitHelper.ready === false) {\n    if (!this.fs) {\n      console.log(\'wait init ready\');\n      return;\n    }\n    var fs = this.fs;\n    if (filePath.startsWith(\'/\') === false) {\n      filePath = \'/\' + filePath;\n    }\n\n    //console.log()\n    return new Promise(function (resolve, reject) {\n      //let errorHandler = this.errorHandler\n      var errorHandler = /*#__PURE__*/function () {\n        var _ref2 = asyncToGenerator_default()( /*#__PURE__*/FileSystemUtils_regeneratorRuntime().mark(function _callee2(e) {\n          var dirPath, dirExists, result, fileExists, _result;\n          return FileSystemUtils_regeneratorRuntime().wrap(function _callee2$(_context2) {\n            while (1) switch (_context2.prev = _context2.next) {\n              case 0:\n                dirPath = filePath.slice(0, filePath.lastIndexOf(\'/\') + 1).trim(); //if (dirPath === \'\') {\n                //  this.errorHandler(e)\n                //  return\n                //}\n                //console.log(dirPath)\n                _context2.next = 3;\n                return _this3.isExists(dirPath);\n              case 3:\n                dirExists = _context2.sent;\n                if (!(dirExists === false)) {\n                  _context2.next = 13;\n                  break;\n                }\n                _context2.next = 7;\n                return _this3.createDir(dirPath);\n              case 7:\n                _context2.next = 9;\n                return _this3.writeFromString(filePath, content);\n              case 9:\n                result = _context2.sent;\n                return _context2.abrupt("return", resolve(result));\n              case 13:\n                _context2.next = 15;\n                return _this3.isExists(filePath);\n              case 15:\n                fileExists = _context2.sent;\n                if (!(fileExists === true)) {\n                  _context2.next = 25;\n                  break;\n                }\n                _context2.next = 19;\n                return _this3.remove(filePath);\n              case 19:\n                _context2.next = 21;\n                return _this3.writeFromString(filePath, content);\n              case 21:\n                _result = _context2.sent;\n                return _context2.abrupt("return", resolve(_result));\n              case 25:\n                // this.errorHandler(e)\n                reject(\'writeFromString error\');\n              case 26:\n              case "end":\n                return _context2.stop();\n            }\n          }, _callee2);\n        }));\n        return function errorHandler(_x2) {\n          return _ref2.apply(this, arguments);\n        };\n      }();\n\n      // we have to check dir is existed.\n      //console.log([\'write\', filePath])\n      fs.root.getFile(filePath, {\n        create: true,\n        exclusive: true\n      }, function (fileEntry) {\n        // Create a FileWriter object for our FileEntry (log.txt).\n        fileEntry.createWriter(function (fileWriter) {\n          fileWriter.onwriteend = function (e) {\n            filePath = _this3.getFileSystemUrl(filePath);\n            console.log(\'Write completed: \' + filePath);\n            //console.log(content)\n            // triggerCallback(callback)\n            resolve(filePath);\n          };\n          fileWriter.onerror = function (e) {\n            //console.log(\'Write failed: \' + filePath + \': \' + e.toString());\n            // triggerCallback(callback)\n            reject();\n          };\n\n          // Create a new Blob and write it to log.txt.\n          //var bb = new BlobBuilder(); // Note: window.WebKitBlobBuilder in Chrome 12.\n          //bb.append(content);\n          //fileWriter.write(bb.getBlob(\'text/plain\'));\n\n          fileWriter.write(new Blob([content]));\n          //fileWriter.write(new Blob([content], {type: \'text/html\'}));\n        }, errorHandler);\n      }, errorHandler);\n    });\n  },\n  isPlainText: function isPlainText(path) {\n    return path.endsWith(\'.txt\') || path.endsWith(\'.html\') || path.endsWith(\'.htm\') || path.endsWith(\'.xhtml\') || path.endsWith(\'.xml\') || path.endsWith(\'.json\');\n  },\n  extractSafeFilename: function extractSafeFilename(filename, safeMaxLength, maxLength) {\n    //console.log(filename)\n    var list = filename.trim().match(/[\\w\\-\\.]+/g);\n    if (list !== null) {\n      list = list.map(function (m) {\n        return m;\n      });\n    } else {\n      list = [];\n    }\n    var output = \'\';\n    for (var i = 0; i < list.length; i++) {\n      if (output !== \'\') {\n        output = output + \'_\';\n      }\n      output = output + list[i].trim();\n      if (typeof safeMaxLength === \'number\' && output.length > safeMaxLength) {\n        break;\n      }\n    }\n    if (typeof maxLength === \'number\' && output.length > maxLength) {\n      output = output.slice(0, maxLength).trim();\n    }\n    return output;\n  },\n  read: function read(filePath) {\n    var _this4 = this;\n    var fs = this.fs;\n    filePath = this.resolveFileSystemUrl(filePath);\n    filePath = this.parsePath(filePath);\n    // console.log([\'read\', filePath])\n    //let errorHandler = this.errorHandler\n    return new Promise(function (resolve, reject) {\n      var errorHandler = function errorHandler(e) {\n        if (e.code === 8) {\n          // Error code: 8\n          // Name: NotFoundError\n          // Message: A requested file or directory could not be found at the time an operation was processed.\n\n          //console.log(\'File not found: \' + filePath)\n          // triggerCallback(callback)\n          return reject(\'File not found: \' + filePath);\n        } else {\n          // this.errorHandler(e)\n          return reject(e);\n        }\n      };\n      fs.root.getFile(filePath, {}, function (fileEntry) {\n        // Get a File object representing the file,\n        // then use FileReader to read its contents.\n        fileEntry.file(function (file) {\n          var reader = new FileReader();\n          reader.onloadend = function (e) {\n            //var txtArea = document.createElement(\'textarea\');\n            //txtArea.value = this.result;\n            //document.body.appendChild(txtArea);\n\n            // if (typeof(callback) === \'function\') {\n            //   callback(this.result)\n            // }\n            resolve(this.result);\n          };\n          if (_this4.isPlainText(filePath)) {\n            reader.readAsText(file);\n          } else {\n            reader.readAsDataURL(file);\n          }\n        }, errorHandler);\n      }, errorHandler);\n    });\n  },\n  readBase64: function () {\n    var _readBase = asyncToGenerator_default()( /*#__PURE__*/FileSystemUtils_regeneratorRuntime().mark(function _callee3(filePath) {\n      var uri, idx, base64;\n      return FileSystemUtils_regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1) switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return this.read(filePath);\n          case 2:\n            uri = _context3.sent;\n            idx = uri.indexOf(\'base64,\') + \'base64,\'.length;\n            base64 = uri.substring(idx);\n            return _context3.abrupt("return", base64);\n          case 6:\n          case "end":\n            return _context3.stop();\n        }\n      }, _callee3, this);\n    }));\n    function readBase64(_x3) {\n      return _readBase.apply(this, arguments);\n    }\n    return readBase64;\n  }(),\n  writeFromFile: function writeFromFile(dirPath, files, filename) {\n    var _this5 = this;\n    // if (InitHelper.ready === false) {\n    if (!this.fs) {\n      console.log(\'wait init ready\');\n      return;\n    }\n\n    // if (typeof (filename) === \'function\') {\n    //   callback = filename\n    //   filename = null\n    // }\n\n    return new Promise( /*#__PURE__*/function () {\n      var _ref3 = asyncToGenerator_default()( /*#__PURE__*/FileSystemUtils_regeneratorRuntime().mark(function _callee4(resolve, reject) {\n        var output, list, i, file, specificFilename, baseFilePath, url;\n        return FileSystemUtils_regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              output = []; //console.log(typeof(files.name))\n              if (!(typeof files.name === \'string\')) {\n                _context4.next = 6;\n                break;\n              }\n              _context4.next = 4;\n              return _this5.writeFromFile(dirPath, [files], filename);\n            case 4:\n              list = _context4.sent;\n              return _context4.abrupt("return", resolve(list[0]));\n            case 6:\n              _context4.next = 8;\n              return _this5.createDir(dirPath);\n            case 8:\n              i = 0;\n            case 9:\n              if (!(i < files.length)) {\n                _context4.next = 24;\n                break;\n              }\n              file = files[i]; //console.log(file.name)\n              specificFilename = filename;\n              if (specificFilename === null) {\n                specificFilename = file.name;\n              }\n\n              //filename = this.filterSafeFilename(filename)\n              specificFilename = _this5.extractSafeFilename(specificFilename);\n              baseFilePath = dirPath + filename;\n              _context4.next = 17;\n              return _this5.writeFile(baseFilePath);\n            case 17:\n              url = _context4.sent;\n              output.push(url);\n              if (!filename) {\n                _context4.next = 21;\n                break;\n              }\n              return _context4.abrupt("break", 24);\n            case 21:\n              i++;\n              _context4.next = 9;\n              break;\n            case 24:\n              // for (let i = 0; i < files.length; i++) {\n              resolve(output);\n            case 25:\n            case "end":\n              return _context4.stop();\n          }\n        }, _callee4);\n      }));\n      return function (_x4, _x5) {\n        return _ref3.apply(this, arguments);\n      };\n    }());\n  },\n  writeFile: function writeFile(filePath, file) {\n    var _this6 = this;\n    var dupCount = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    if (filePath.startsWith(\'./\')) {\n      filePath = filePath.slice(2);\n    }\n    if (filePath.startsWith(\'/\')) {\n      filePath = filePath.slice(1);\n    }\n    if (this.base !== \'\' && filePath.startsWith(\'/\' + this.base + \'/\') === false) {\n      filePath = \'/\' + this.base + \'/\' + filePath;\n    }\n\n    // filePath = \'/tmp.txt\'\n    // console.log(\'go write file\', filePath)\n\n    return new Promise( /*#__PURE__*/function () {\n      var _ref4 = asyncToGenerator_default()( /*#__PURE__*/FileSystemUtils_regeneratorRuntime().mark(function _callee6(resolve, reject) {\n        return FileSystemUtils_regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.next = 2;\n              return _this6.createDir(filePath);\n            case 2:\n              _this6.fs.root.getFile(filePath, {\n                create: true,\n                exclusive: true\n              }, function (fileEntry) {\n                //console.log(filePath)\n                fileEntry.createWriter(function (fileWriter) {\n                  //console.log(file.name)\n                  fileWriter.write(file); // Note: write() can take a File or Blob object.\n\n                  var url = fileEntry.toURL();\n                  // output.push(url)\n\n                  resolve(url);\n                }, reject);\n              }, /*#__PURE__*/function () {\n                var _ref5 = asyncToGenerator_default()( /*#__PURE__*/FileSystemUtils_regeneratorRuntime().mark(function _callee5(e) {\n                  var reg, pathPart1, pathPart2, _pathPart, _pathPart2, url;\n                  return FileSystemUtils_regeneratorRuntime().wrap(function _callee5$(_context5) {\n                    while (1) switch (_context5.prev = _context5.next) {\n                      case 0:\n                        if (!(e.code === 13)) {\n                          _context5.next = 10;\n                          break;\n                        }\n                        // code: 13\n                        // message: "An attempt was made to create a file or directory where an element already exists."\n                        // name: "InvalidModificationError"\n                        dupCount++;\n                        reg = /_[0-9]+\\.[a-zA-Z0-9]+$/;\n                        if (reg.test(filePath)) {\n                          pathPart1 = filePath.slice(0, filePath.lastIndexOf(\'_\'));\n                          pathPart2 = filePath.slice(filePath.lastIndexOf(\'.\'));\n                          filePath = pathPart1 + \'_\' + dupCount + pathPart2;\n                        } else {\n                          _pathPart = filePath.slice(0, filePath.lastIndexOf(\'.\'));\n                          _pathPart2 = filePath.slice(filePath.lastIndexOf(\'.\'));\n                          filePath = _pathPart + \'_\' + dupCount + _pathPart2;\n                        }\n                        _context5.next = 6;\n                        return _this6.writeFile(filePath, file, dupCount);\n                      case 6:\n                        url = _context5.sent;\n                        return _context5.abrupt("return", resolve(url));\n                      case 10:\n                        return _context5.abrupt("return", reject(e));\n                      case 11:\n                      case "end":\n                        return _context5.stop();\n                    }\n                  }, _callee5);\n                }));\n                return function (_x8) {\n                  return _ref5.apply(this, arguments);\n                };\n              }());\n            case 3:\n            case "end":\n              return _context6.stop();\n          }\n        }, _callee6);\n      }));\n      return function (_x6, _x7) {\n        return _ref4.apply(this, arguments);\n      };\n    }());\n  },\n  writeFileReplace: function () {\n    var _writeFileReplace = asyncToGenerator_default()( /*#__PURE__*/FileSystemUtils_regeneratorRuntime().mark(function _callee7(filePath, file) {\n      return FileSystemUtils_regeneratorRuntime().wrap(function _callee7$(_context7) {\n        while (1) switch (_context7.prev = _context7.next) {\n          case 0:\n            console.log(\'writeFileReplace\', filePath);\n            _context7.next = 3;\n            return this.remove(filePath);\n          case 3:\n            _context7.next = 5;\n            return this.writeFile(filePath, file);\n          case 5:\n            return _context7.abrupt("return", _context7.sent);\n          case 6:\n          case "end":\n            return _context7.stop();\n        }\n      }, _callee7, this);\n    }));\n    function writeFileReplace(_x9, _x10) {\n      return _writeFileReplace.apply(this, arguments);\n    }\n    return writeFileReplace;\n  }(),\n  parsePath: function parsePath(path) {\n    if (typeof path === \'number\') {\n      path = String(path);\n    } else {\n      path = decodeURIComponent(path);\n    }\n    if (path.startsWith(\'./\')) {\n      path = path.slice(1);\n    }\n    if (!path.startsWith(\'/\')) {\n      path = \'/\' + path;\n    }\n    if (this.base !== \'\' && path.startsWith(\'/\' + this.base + \'/\') === false) {\n      path = \'/\' + this.base + \'/\' + path;\n    }\n    return path;\n  },\n  remove: function remove(path) {\n    var _this7 = this;\n    // if (InitHelper.ready === false) {\n    if (!this.fs) {\n      console.log(\'wait init ready\');\n      return;\n    }\n    var fs = this.fs;\n    path = this.parsePath(path);\n    //let errorHandler = this.errorHandler\n    return new Promise( /*#__PURE__*/function () {\n      var _ref6 = asyncToGenerator_default()( /*#__PURE__*/FileSystemUtils_regeneratorRuntime().mark(function _callee8(resolve, reject) {\n        var errorHandler;\n        return FileSystemUtils_regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1) switch (_context8.prev = _context8.next) {\n            case 0:\n              errorHandler = function errorHandler(e) {\n                //let link = this.getFileSystemUrl(path)\n                //e.message = e.message + `<a href="${link}" target="_blank">${path}</a>`\n                //console.trace(JSON.stringify(e))\n                _this7.errorHandler(e.message);\n                // triggerCallback(callback)\n                return resolve();\n              };\n              fs.root.getFile(path, {\n                create: false\n              }, function (fileEntry) {\n                fileEntry.remove(resolve, errorHandler);\n              }, errorHandler);\n            case 2:\n            case "end":\n              return _context8.stop();\n          }\n        }, _callee8);\n      }));\n      return function (_x11, _x12) {\n        return _ref6.apply(this, arguments);\n      };\n    }());\n  },\n  getFileName: function getFileName(url) {\n    if (url.lastIndexOf(\'/\') > -1) {\n      url = url.slice(url.lastIndexOf(\'/\') + 1);\n    }\n    //url = this.filterSafeFilename(url)\n    url = this.extractSafeFilename(url);\n    return url;\n  },\n  isExists: function isExists(filePath) {\n    if (filePath === \'/\') {\n      // return triggerCallback(callback, true)\n      return true;\n    }\n    var fs = this.fs;\n    return new Promise( /*#__PURE__*/function () {\n      var _ref7 = asyncToGenerator_default()( /*#__PURE__*/FileSystemUtils_regeneratorRuntime().mark(function _callee9(resolve, reject) {\n        var errorHandler;\n        return FileSystemUtils_regeneratorRuntime().wrap(function _callee9$(_context9) {\n          while (1) switch (_context9.prev = _context9.next) {\n            case 0:\n              errorHandler = function errorHandler(e) {\n                fs.root.getDirectory(filePath, {\n                  create: false\n                }, function (dirEntry) {\n                  // triggerCallback(callback, true)\n                  return resolve(true);\n                }, function () {\n                  // triggerCallback(callback, false)\n                  return resolve(false);\n                });\n              };\n              fs.root.getFile(filePath, {}, function (fileEntry) {\n                // Get a File object representing the file,\n                // then use FileReader to read its contents.\n                fileEntry.file(function (file) {\n                  // triggerCallback(callback, true)\n                  return resolve(true);\n                }, errorHandler);\n              }, errorHandler);\n            case 2:\n            case "end":\n              return _context9.stop();\n          }\n        }, _callee9);\n      }));\n      return function (_x13, _x14) {\n        return _ref7.apply(this, arguments);\n      };\n    }());\n  },\n  getFileSystemUrl: function getFileSystemUrl(path) {\n    var fsType = \'temporary\';\n    if (this.type !== window.TEMPORARY) {\n      fsType = \'persistent\';\n    }\n    if (path.startsWith(\'/\') === false) {\n      path = \'/\' + path;\n    }\n    if (this.base !== \'\' && path.startsWith(\'/\' + this.base) === false) {\n      path = \'/\' + this.base + path;\n    }\n    return \'filesystem:\' + location.protocol + \'//\' + location.host + \'/\' + fsType + path;\n  },\n  resolveFileSystemUrl: function resolveFileSystemUrl(path) {\n    if (path.startsWith(\'filesystem:\')) {\n      var parts = path.split(\'/\');\n      path = \'/\' + parts.slice(4).join(\'/\');\n    }\n    path = decodeURIComponent(path);\n    return path;\n  },\n  basename: function basename(path) {\n    path = this.resolveFileSystemUrl(path);\n    if (path.lastIndexOf(\'/\') > -1) {\n      path = path.slice(path.lastIndexOf(\'/\') + 1);\n    }\n    return path;\n  },\n  // readEventFilesText: function (files) {\n  //   //console.log(typeof(files.name))\n  //   let isArray = true\n  //   if (typeof (files.name) === \'string\') {\n  //     //if (files.length > 1) {\n  //     files = [files]\n  //     isArray = false\n  //   }\n\n  //   let output = []\n  //   let i = 0\n\n  //   let reader = new FileReader();\n\n  //   return new Promise(async (resolve, reject) => {\n  //     reader.onload = function (event) {\n  //       let result = event.target.result\n  //       output.push(result)\n  //       i++\n  //       loop(i)\n  //     };\n\n  //     let loop = (i) => {\n  //       if (i < files.length) {\n  //         let file = files[i]\n  //         //console.log(file);\n  //         //reader.readAsDataURL(file);\n  //         reader.readAsText(file)\n  //       }\n  //       else {\n  //         if (isArray === false) {\n  //           output = output[0]\n  //         }\n  //         // triggerCallback(callback, output)\n  //         resolve(output)\n  //       }\n  //     }\n  //     loop(i)\n  //   })\n\n  // },\n  // stripAssetFileSystemPrefix: function (url) {\n  //   if (url === null || \n  //     typeof (url) !== \'string\' || \n  //     !url.startsWith(\'filesystem:\') || \n  //     url.lastIndexOf(\'/assets/\') === -1) {\n  //     return url\n  //   }\n\n  //   return url.slice(url.lastIndexOf(\'/assets/\') + 1)\n\n  // },\n  // appendAssetFileSystemPrefix: function (url, postId) {\n  //   if (typeof (url) !== \'string\') {\n  //     return \'\'\n  //   }\n\n  //   if (this.currentBaseUrl === null) {\n  //     let currentBaseUrl = location.href\n  //     this.currentBaseUrl = currentBaseUrl.slice(0, currentBaseUrl.lastIndexOf(\'/\') + 1)\n  //   }\n\n  //   //console.log([\'filterImageListToFileSystem url 1:\', url])\n  //   if (url.startsWith(this.currentBaseUrl) === false && \n  //     (url.startsWith(\'//\') || url.startsWith(\'http://\') || url.startsWith(\'https://\'))) {\n  //     return url\n  //   }\n  //   // filesystem:http://localhost:8383/temporary/2/assets/2019-0406-062107.png\n  //   url = url.slice(url.lastIndexOf(\'/assets/\') + 1)\n  //   url = `/${postId}/${url}`\n  //   //console.log([\'filterImageListToFileSystem url 2:\', this.getFileSystemUrl(url)])\n  //   return this.getFileSystemUrl(url)\n  // },\n  statsticQuotaUsage: function statsticQuotaUsage() {\n    var storage = navigator.webkitTemporaryStorage;\n    if (this.type === window.PERSISTENT) {\n      storage = navigator.webkitPersistentStorage;\n    }\n    return new Promise( /*#__PURE__*/function () {\n      var _ref8 = asyncToGenerator_default()( /*#__PURE__*/FileSystemUtils_regeneratorRuntime().mark(function _callee10(resolve, reject) {\n        return FileSystemUtils_regeneratorRuntime().wrap(function _callee10$(_context10) {\n          while (1) switch (_context10.prev = _context10.next) {\n            case 0:\n              storage.queryUsageAndQuota(function (quoteUsed, quotaTotal) {\n                // triggerCallback(callback, quoteUsed, quotaTotal)\n                resolve({\n                  quoteUsed: quoteUsed,\n                  quotaTotal: quotaTotal\n                });\n              });\n            case 1:\n            case "end":\n              return _context10.stop();\n          }\n        }, _callee10);\n      }));\n      return function (_x15, _x16) {\n        return _ref8.apply(this, arguments);\n      };\n    }());\n  },\n  _list: function _list(path) {\n    var fs = this.fs;\n    path = this.parsePath(path);\n    return new Promise( /*#__PURE__*/function () {\n      var _ref9 = asyncToGenerator_default()( /*#__PURE__*/FileSystemUtils_regeneratorRuntime().mark(function _callee11(resolve, reject) {\n        var errorHandler, fileList;\n        return FileSystemUtils_regeneratorRuntime().wrap(function _callee11$(_context11) {\n          while (1) switch (_context11.prev = _context11.next) {\n            case 0:\n              errorHandler = function errorHandler(e) {\n                if (e.code === 8) {\n                  // Error code: 8\n                  // Name: NotFoundError\n                  // Message: A requested file or directory could not be found at the time an operation was processed.\n                  // console.log(\'list not found: \' + path)\n                  // triggerCallback(callback)\n                  reject(\'list not found: \' + path);\n                } else {\n                  // this.errorHandler(e)\n                  reject(e);\n                }\n              };\n              fileList = [];\n              fs.root.getDirectory(path, {}, function (dirEntry) {\n                var dirReader = dirEntry.createReader();\n                dirReader.readEntries(function (entries) {\n                  for (var i = 0; i < entries.length; i++) {\n                    var entry = entries[i];\n                    if (entry.isFile) {\n                      //console.log(\'File: \' + entry.fullPath);\n                      fileList.push(entry.fullPath);\n                    }\n                  }\n                  // triggerCallback(callback, fileList)\n                  return resolve(fileList);\n                }, errorHandler);\n              }, errorHandler);\n            case 3:\n            case "end":\n              return _context11.stop();\n          }\n        }, _callee11);\n      }));\n      return function (_x17, _x18) {\n        return _ref9.apply(this, arguments);\n      };\n    }());\n  },\n  get list() {\n    return this._list;\n  },\n  set list(value) {\n    this._list = value;\n  },\n  copy: function copy(oldPath, newPath) {\n    var fs = this.fs;\n    oldPath = this.resolveFileSystemUrl(oldPath);\n    newPath = this.resolveFileSystemUrl(newPath);\n    var newPathDir = newPath.slice(0, newPath.lastIndexOf(\'/\'));\n    var newName = newPath.slice(newPath.lastIndexOf(\'/\') + 1);\n    //console.log([\'read\', filePath])\n    //let errorHandler = this.errorHandler\n\n    return new Promise( /*#__PURE__*/function () {\n      var _ref10 = asyncToGenerator_default()( /*#__PURE__*/FileSystemUtils_regeneratorRuntime().mark(function _callee12(resolve, reject) {\n        var errorHandler;\n        return FileSystemUtils_regeneratorRuntime().wrap(function _callee12$(_context12) {\n          while (1) switch (_context12.prev = _context12.next) {\n            case 0:\n              errorHandler = function errorHandler(e) {\n                if (e.code === 8) {\n                  // Error code: 8\n                  // Name: NotFoundError\n                  // Message: A requested file or directory could not be found at the time an operation was processed.\n\n                  //console.log(\'File not found: \' + filePath)\n                  // triggerCallback(callback)\n                  resolve();\n                } else {\n                  // this.errorHandler(e)\n                  reject(e);\n                }\n              };\n              fs.root.getFile(oldPath, {}, function (fileEntry) {\n                // Get a File object representing the file,\n                // then use FileReader to read its contents.\n                fs.root.getDirectory(newPathDir, {\n                  create: true\n                }, function (dirEntry) {\n                  fileEntry.copyTo(dirEntry, newName, resolve, errorHandler);\n                });\n              }, errorHandler);\n            case 2:\n            case "end":\n              return _context12.stop();\n          }\n        }, _callee12);\n      }));\n      return function (_x19, _x20) {\n        return _ref10.apply(this, arguments);\n      };\n    }());\n  },\n  move: function move(oldPath, newPath) {\n    var fs = this.fs;\n    oldPath = this.resolveFileSystemUrl(oldPath);\n    newPath = this.resolveFileSystemUrl(newPath);\n    var newPathDir = newPath.slice(0, newPath.lastIndexOf(\'/\'));\n    var newName = newPath.slice(newPath.lastIndexOf(\'/\') + 1);\n    //console.log([\'read\', filePath])\n    //let errorHandler = this.errorHandler\n\n    return new Promise( /*#__PURE__*/function () {\n      var _ref11 = asyncToGenerator_default()( /*#__PURE__*/FileSystemUtils_regeneratorRuntime().mark(function _callee13(resolve, reject) {\n        var errorHandler;\n        return FileSystemUtils_regeneratorRuntime().wrap(function _callee13$(_context13) {\n          while (1) switch (_context13.prev = _context13.next) {\n            case 0:\n              errorHandler = function errorHandler(e) {\n                if (e.code === 8) {\n                  // Error code: 8\n                  // Name: NotFoundError\n                  // Message: A requested file or directory could not be found at the time an operation was processed.\n\n                  //console.log(\'File not found: \' + filePath)\n                  return resolve();\n                } else {\n                  // this.errorHandler(e)\n                  return reject(e);\n                }\n              };\n              fs.root.getFile(oldPath, {}, function (fileEntry) {\n                // Get a File object representing the file,\n                // then use FileReader to read its contents.\n                fs.root.getDirectory(newPathDir, {\n                  create: true\n                }, function (dirEntry) {\n                  fileEntry.moveTo(dirEntry, newName, resolve, errorHandler);\n                });\n              }, errorHandler);\n            case 2:\n            case "end":\n              return _context13.stop();\n          }\n        }, _callee13);\n      }));\n      return function (_x21, _x22) {\n        return _ref11.apply(this, arguments);\n      };\n    }());\n  },\n  sleep: function sleep() {\n    var ms = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 500;\n    return new Promise(function (resolve) {\n      return setTimeout(resolve, ms);\n    });\n  },\n  getFileMetadata: function () {\n    var _getFileMetadata = asyncToGenerator_default()( /*#__PURE__*/FileSystemUtils_regeneratorRuntime().mark(function _callee15(path) {\n      var _this8 = this;\n      return FileSystemUtils_regeneratorRuntime().wrap(function _callee15$(_context15) {\n        while (1) switch (_context15.prev = _context15.next) {\n          case 0:\n            if (this.fs) {\n              _context15.next = 5;\n              break;\n            }\n            _context15.next = 3;\n            return this.sleep(100);\n          case 3:\n            _context15.next = 0;\n            break;\n          case 5:\n            path = this.parsePath(path);\n            return _context15.abrupt("return", new Promise( /*#__PURE__*/function () {\n              var _ref12 = asyncToGenerator_default()( /*#__PURE__*/FileSystemUtils_regeneratorRuntime().mark(function _callee14(resolve, reject) {\n                return FileSystemUtils_regeneratorRuntime().wrap(function _callee14$(_context14) {\n                  while (1) switch (_context14.prev = _context14.next) {\n                    case 0:\n                      _this8.fs.root.getFile(path, {}, function (fileEntry) {\n                        fileEntry.getMetadata(function (_ref13) {\n                          var modificationTime = _ref13.modificationTime,\n                            size = _ref13.size;\n                          var sizeNumber = size;\n                          size = _this8.humanFileSize(size);\n                          var fileMIME = mime_types_default.a.lookup(path);\n                          var fileMIMEicon = fileMIME.replace(/\\//g, \'-\');\n                          resolve({\n                            modificationTime: modificationTime,\n                            size: size,\n                            sizeNumber: sizeNumber,\n                            mime: fileMIME,\n                            mimeIcon: fileMIMEicon\n                          });\n                        }, reject);\n                      });\n                    case 1:\n                    case "end":\n                      return _context14.stop();\n                  }\n                }, _callee14);\n              }));\n              return function (_x24, _x25) {\n                return _ref12.apply(this, arguments);\n              };\n            }()));\n          case 7:\n          case "end":\n            return _context15.stop();\n        }\n      }, _callee15, this);\n    }));\n    function getFileMetadata(_x23) {\n      return _getFileMetadata.apply(this, arguments);\n    }\n    return getFileMetadata;\n  }(),\n  /**\r\n  * Format bytes as human-readable text.\r\n  * \r\n  * @param bytes Number of bytes.\r\n  * @param si True to use metric (SI) units, aka powers of 1000. False to use \r\n  *           binary (IEC), aka powers of 1024.\r\n  * @param dp Number of decimal places to display.\r\n  * \r\n  * @return Formatted string.\r\n  */\n  humanFileSize: function humanFileSize(bytes) {\n    var si = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var dp = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n    var thresh = si ? 1000 : 1024;\n    if (Math.abs(bytes) < thresh) {\n      return bytes + \' B\';\n    }\n    var units = si ? [\'kB\', \'MB\', \'GB\', \'TB\', \'PB\', \'EB\', \'ZB\', \'YB\'] : [\'KiB\', \'MiB\', \'GiB\', \'TiB\', \'PiB\', \'EiB\', \'ZiB\', \'YiB\'];\n    var u = -1;\n    var r = Math.pow(10, dp);\n    do {\n      bytes /= thresh;\n      ++u;\n    } while (Math.round(Math.abs(bytes) * r) / r >= thresh && u < units.length - 1);\n    return bytes.toFixed(dp) + \' \' + units[u];\n  },\n  reset: function () {\n    var _reset = asyncToGenerator_default()( /*#__PURE__*/FileSystemUtils_regeneratorRuntime().mark(function _callee16() {\n      var list, i;\n      return FileSystemUtils_regeneratorRuntime().wrap(function _callee16$(_context16) {\n        while (1) switch (_context16.prev = _context16.next) {\n          case 0:\n            if (!(this.base !== \'\')) {\n              _context16.next = 5;\n              break;\n            }\n            _context16.next = 3;\n            return this.removeDir(this.base);\n          case 3:\n            _context16.next = 15;\n            break;\n          case 5:\n            _context16.next = 7;\n            return this.list(\'\');\n          case 7:\n            list = _context16.sent;\n            i = 0;\n          case 9:\n            if (!(i < list.length)) {\n              _context16.next = 15;\n              break;\n            }\n            _context16.next = 12;\n            return this.remove(list[i]);\n          case 12:\n            i++;\n            _context16.next = 9;\n            break;\n          case 15:\n          case "end":\n            return _context16.stop();\n        }\n      }, _callee16, this);\n    }));\n    function reset() {\n      return _reset.apply(this, arguments);\n    }\n    return reset;\n  }(),\n  popupPreview: function () {\n    var _popupPreview = asyncToGenerator_default()( /*#__PURE__*/FileSystemUtils_regeneratorRuntime().mark(function _callee20(path) {\n      var _this9 = this;\n      var windowName, bodyHTML, title, size, top, left, width, height, parameters, win, isReady, doc, waitReady;\n      return FileSystemUtils_regeneratorRuntime().wrap(function _callee20$(_context20) {\n        while (1) switch (_context20.prev = _context20.next) {\n          case 0:\n            if (this.fs) {\n              _context20.next = 5;\n              break;\n            }\n            _context20.next = 3;\n            return this.sleep(100);\n          case 3:\n            _context20.next = 0;\n            break;\n          case 5:\n            path = this.parsePath(path);\n            windowName = \'popup\' + new Date().getTime();\n            bodyHTML = "\\n<div style=\\"display: flex; align-items: center; justify-content: center; \\">\\n  <img src=\\"".concat(this.getFileSystemUrl(path), "\\" />\\n</div>\\n\\n<style>\\nbody { padding: 0; height: 100vh; }\\n</style>");\n            title = this.getFileName(path);\n            size = \'fullscreen\'; // \'fullscreen\', \'left\', \'right\'\n            top = 0;\n            left = 0;\n            width = window.screen.availWidth;\n            height = window.screen.availHeight;\n            if (size === \'left\') {\n              width = parseInt(width / 2, 10);\n            } else if (size === \'right\') {\n              width = parseInt(width / 2, 10);\n              left = width;\n            }\n            parameters = [\'toolbar=no\', \'location=no\', \'status=no\', \'menubar=no\', \'scrollbars=yes\', \'resizable=yes\', \'width=\' + width, \'height=\' + height, \'top=\' + top, \'left=\' + left]; //console.log(windowName)\n            win = window.open(\'\', windowName, parameters.join(\',\')); // ------------------------------\n            isReady = false;\n            doc = win.document;\n            if (bodyHTML) {\n              doc.body.innerHTML = bodyHTML;\n              isReady = true;\n            }\n            if (title) {\n              doc.title = title;\n            }\n            win.setHTML = function (html) {\n              doc.body.innerHTML = html;\n              isReady = true;\n            };\n            win.clearHTML = function () {\n              doc.body.innerHTML = \'\';\n            };\n            win.setTitle = function (title) {\n              doc.title = title;\n            };\n            waitReady = /*#__PURE__*/function () {\n              var _ref14 = asyncToGenerator_default()( /*#__PURE__*/FileSystemUtils_regeneratorRuntime().mark(function _callee17() {\n                return FileSystemUtils_regeneratorRuntime().wrap(function _callee17$(_context17) {\n                  while (1) switch (_context17.prev = _context17.next) {\n                    case 0:\n                      if (!(isReady === false)) {\n                        _context17.next = 5;\n                        break;\n                      }\n                      _context17.next = 3;\n                      return _this9.sleep();\n                    case 3:\n                      _context17.next = 0;\n                      break;\n                    case 5:\n                    case "end":\n                      return _context17.stop();\n                  }\n                }, _callee17);\n              }));\n              return function waitReady() {\n                return _ref14.apply(this, arguments);\n              };\n            }();\n            win.scrollToCenter = /*#__PURE__*/asyncToGenerator_default()( /*#__PURE__*/FileSystemUtils_regeneratorRuntime().mark(function _callee18() {\n              var scrollLeft;\n              return FileSystemUtils_regeneratorRuntime().wrap(function _callee18$(_context18) {\n                while (1) switch (_context18.prev = _context18.next) {\n                  case 0:\n                    _context18.next = 2;\n                    return waitReady();\n                  case 2:\n                    //console.log(\'2\', win.document.body.scrollWidth, win.innerWidth)\n                    scrollLeft = parseInt((win.document.body.scrollWidth - win.innerWidth) / 2, 10); //console.log(scrollLeft)\n                    win.scrollTo(scrollLeft, null);\n                  case 4:\n                  case "end":\n                    return _context18.stop();\n                }\n              }, _callee18);\n            }));\n            win.scrollToTop = /*#__PURE__*/asyncToGenerator_default()( /*#__PURE__*/FileSystemUtils_regeneratorRuntime().mark(function _callee19() {\n              return FileSystemUtils_regeneratorRuntime().wrap(function _callee19$(_context19) {\n                while (1) switch (_context19.prev = _context19.next) {\n                  case 0:\n                    _context19.next = 2;\n                    return waitReady();\n                  case 2:\n                    win.scrollTo(null, 0);\n                  case 3:\n                  case "end":\n                    return _context19.stop();\n                }\n              }, _callee19);\n            }));\n            return _context20.abrupt("return", win);\n          case 28:\n          case "end":\n            return _context20.stop();\n        }\n      }, _callee20, this);\n    }));\n    function popupPreview(_x26) {\n      return _popupPreview.apply(this, arguments);\n    }\n    return popupPreview;\n  }()\n});\n\n//FileSystemHelper.init()\n// EXTERNAL MODULE: ./node_modules/dayjs/dayjs.min.js\nvar dayjs_min = __webpack_require__(101);\nvar dayjs_min_default = /*#__PURE__*/__webpack_require__.n(dayjs_min);\n\n// CONCATENATED MODULE: ./src/utils/DateUtils.js\n\n/* harmony default export */ var DateUtils = ({\n  format: function format(date) {\n    var dateString = dayjs_min_default()(date).format(\'YYYY-MM/DD HH:mm\');\n    var now = new Date();\n    if (dateString.startsWith(now.getFullYear() + \'-\')) {\n      dateString = dateString.slice(5);\n    }\n    var nowMMDD = dayjs_min_default()().format(\'MM/DD\');\n    if (dateString.startsWith(nowMMDD + \' \')) {\n      dateString = dateString.slice(6);\n    }\n    return dateString;\n  }\n});\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/defineProperty.js\nvar helpers_defineProperty = __webpack_require__(102);\nvar defineProperty_default = /*#__PURE__*/__webpack_require__.n(helpers_defineProperty);\n\n// CONCATENATED MODULE: ./src/utils/puli-post-message-api/puli-post-message-api.js\n\n\nfunction puli_post_message_api_regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ puli_post_message_api_regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = "function" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || "@@iterator", asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator", toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, ""); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, "_invoke", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: "normal", arg: fn.call(obj, arg) }; } catch (err) { return { type: "throw", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { ["next", "throw", "return"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if ("throw" !== record.type) { var result = record.arg, value = result.value; return value && "object" == typeof_default()(value) && hasOwn.call(value, "__await") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke("next", value, resolve, reject); }, function (err) { invoke("throw", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke("throw", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, "_invoke", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = "suspendedStart"; return function (method, arg) { if ("executing" === state) throw new Error("Generator is already running"); if ("completed" === state) { if ("throw" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if ("next" === context.method) context.sent = context._sent = context.arg;else if ("throw" === context.method) { if ("suspendedStart" === state) throw state = "completed", context.arg; context.dispatchException(context.arg); } else "return" === context.method && context.abrupt("return", context.arg); state = "executing"; var record = tryCatch(innerFn, self, context); if ("normal" === record.type) { if (state = context.done ? "completed" : "suspendedYield", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } "throw" === record.type && (state = "completed", context.method = "throw", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, "throw" === methodName && delegate.iterator["return"] && (context.method = "return", context.arg = undefined, maybeInvokeDelegate(delegate, context), "throw" === context.method) || "return" !== methodName && (context.method = "throw", context.arg = new TypeError("The iterator does not provide a \'" + methodName + "\' method")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if ("throw" === record.type) return context.method = "throw", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, "return" !== context.method && (context.method = "next", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = "throw", context.arg = new TypeError("iterator result is not an object"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = "normal", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: "root" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if ("function" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"), exports.isGeneratorFunction = function (genFun) { var ctor = "function" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || "GeneratorFunction" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, "GeneratorFunction")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, "Generator"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, "toString", function () { return "[object Generator]"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) keys.push(key); return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = "next", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) "t" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if ("throw" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = "throw", record.arg = exception, context.next = loc, caught && (context.method = "next", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if ("root" === entry.tryLoc) return handle("end"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, "catchLoc"), hasFinally = hasOwn.call(entry, "finallyLoc"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error("try statement without catch or finally"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && ("break" === type || "continue" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = "next", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if ("throw" === record.type) throw record.arg; return "break" === record.type || "continue" === record.type ? this.next = record.arg : "return" === record.type ? (this.rval = this.arg = record.arg, this.method = "return", this.next = "end") : "normal" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, "catch": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if ("throw" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error("illegal catch attempt"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, "next" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nwindow.PuliPostMessageAPIInited = false;\nvar cacheAPI = null;\nfunction PuliPostMessageAPI(options) {\n  if (window.PuliPostMessageAPIInited === true) {\n    //throw new Error(\'PuliPostMessageAPI was loaded.\')\n    return cacheAPI;\n  }\n  window.PuliPostMessageAPIInited = true;\n  var pageName = location.href.slice(location.href.lastIndexOf(\'/\') + 1);\n  options = options ? options : {};\n  var manuallyReady = typeof options.manuallyReady === \'boolean\' ? options.manuallyReady : false;\n  //console.log(manuallyReady, pageName)\n  /**\n   * 開啟視窗的呼叫者\n   * @type type\n   */\n  var opener;\n  if (window.opener) {\n    opener = window.opener;\n  } else if (window.parent && window.parent !== window) {\n    opener = window.parent;\n  }\n  var docReady = function docReady(fn) {\n    // see if DOM is already available\n    if (document.readyState === "complete" || document.readyState === "interactive") {\n      // call on next available tick\n      setTimeout(fn, 1);\n    } else {\n      document.addEventListener("DOMContentLoaded", fn);\n    }\n  };\n  if (opener && manuallyReady === false) {\n    docReady(function () {\n      //console.log(\'auto ready\', manuallyReady, pageName)\n      _sendReadyMessage();\n    });\n  }\n  var _sendReadyMessage = function _sendReadyMessage() {\n    //console.log(\'ready\', location.href.slice(location.href.lastIndexOf(\'/\') + 1))\n    if (_isSentReadyMessage === true) {\n      return false;\n    }\n    _isSentReadyMessage = true;\n    if (opener) {\n      opener.postMessage({\n        eventName: \'ready\',\n        url: location.href\n      }, \'*\');\n    }\n    //console.log(\'ready\', pageName)\n  };\n\n  var _isSentReadyMessage = false;\n  var _receiverReadyList = {};\n  var _receiverWaitList = {};\n  var _receiverSendWaitList = {};\n\n  // -----------------------\n\n  var _receiverElementList = {};\n  var _AddSendWait = function _AddSendWait(url) {\n    if (Array.isArray(_receiverSendWaitList[url]) === false) {\n      _receiverSendWaitList[url] = [];\n    }\n    return new Promise(function (resolve, reject) {\n      _receiverSendWaitList[url].push(function () {\n        resolve(true);\n      });\n\n      //console.log(_receiverSendWaitList[url].length, url)\n      if (_receiverSendWaitList[url].length === 1) {\n        _receiverSendWaitList[url][0]();\n      }\n    });\n  };\n  var _ExecuteNextSendWait = function _ExecuteNextSendWait(url) {\n    _receiverSendWaitList[url].shift();\n    //console.log(\'_ExecuteNextSendWait\', url)\n    if (_receiverSendWaitList[url].length > 0) {\n      setTimeout(function () {\n        _receiverSendWaitList[url][0]();\n      }, 0);\n    }\n  };\n  var sleep = function sleep(ms) {\n    ms = ms ? ms : 100;\n    return new Promise(function (resolve) {\n      setTimeout(function () {\n        resolve(true);\n      }, ms);\n    });\n  };\n\n  // ---------------------------\n  var popupCenterRedirect = function popupCenterRedirect(url, ratio, title) {\n    ratio = typeof ratio === \'number\' ? ratio : 0.8;\n    title = typeof title === \'string\' ? title : \'_blank\';\n    var w = screen.availWidth * ratio;\n    var h = screen.availHeight * ratio;\n    w = w < 300 ? 300 : w;\n    h = h < 300 ? 300 : h;\n    var userAgent = navigator.userAgent;\n    var mobile = function mobile() {\n      return /\\b(iPhone|iP[ao]d)/.test(userAgent) || /\\b(iP[ao]d)/.test(userAgent) || /Android/i.test(userAgent) || /Mobile/i.test(userAgent);\n    };\n    var screenX = typeof window.screenX !== \'undefined\' ? window.screenX : window.screenLeft;\n    var screenY = typeof window.screenY !== \'undefined\' ? window.screenY : window.screenTop;\n    var outerWidth = typeof window.outerWidth !== \'undefined\' ? window.outerWidth : document.documentElement.clientWidth;\n    var taskbarHeight = 22;\n    var outerHeight = typeof window.outerHeight !== \'undefined\' ? window.outerHeight : document.documentElement.clientHeight - taskbarHeight;\n    var targetWidth = mobile() ? null : w;\n    var targetHeight = mobile() ? null : h;\n    var V = screenX < 0 ? window.screen.width + screenX : screenX;\n    var left = parseInt(V + (outerWidth - targetWidth) / 2, 10);\n    var right = parseInt(screenY + (outerHeight - targetHeight) / 2.5, 10);\n    var features = [];\n    if (targetWidth !== null) {\n      features.push(\'width=\' + targetWidth);\n    }\n    if (targetHeight !== null) {\n      features.push(\'height=\' + targetHeight);\n    }\n    features.push(\'left=\' + left);\n    features.push(\'top=\' + right);\n    var newWindow = window.open(\'\', title, features.join(\',\'));\n    newWindow.document.write("<script>window.moveTo(".concat(left, ", ").concat(right, ");window.resizeTo(").concat(targetWidth, ", ").concat(targetHeight, ")<\/script>"));\n    newWindow.document.write("<script>location.href=\\"".concat(url, "\\"<\/script>"));\n    if (window.focus) {\n      newWindow.focus();\n    }\n    return newWindow;\n  };\n\n  // ---------------------------\n  var urlRedirect = {};\n  var filterURLRedirect = function filterURLRedirect(url) {\n    return typeof urlRedirect[url] === \'string\' ? urlRedirect[url] : url;\n  };\n  var send = /*#__PURE__*/function () {\n    var _ref = asyncToGenerator_default()( /*#__PURE__*/puli_post_message_api_regeneratorRuntime().mark(function _callee(url, data, options) {\n      var _options, eventType, callback, newWindow, mode, debug, autoClose, element, receiver, receiverElement, target, features, getReceiver, result, redirectedURL;\n      return puli_post_message_api_regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            url = new URL(url, document.baseURI).href;\n            url = filterURLRedirect(url);\n\n            //console.log(\'send ==================================\')\n            _context.next = 4;\n            return _AddSendWait(url);\n          case 4:\n            options = options ? options : {};\n            _options = options, eventType = _options.eventType, callback = _options.callback, newWindow = _options.newWindow;\n            eventType = eventType ? eventType : \'_default\';\n            //console.log(options)\n            mode = \'iframe\';\n            if (options && options.mode) {\n              mode = options.mode;\n            }\n            debug = false;\n            if (options && options.debug) {\n              debug = true;\n            }\n            autoClose = false;\n            if (options) {\n              if (options.autoClose === true) {\n                autoClose = options.autoClose;\n              } else if (typeof options.autoClose === \'undefined\' && options.mode === \'popup\') {\n                autoClose = false;\n              }\n            }\n\n            // ---------------\n\n            if (mode === \'popup\' && newWindow === true && _receiverElementList[url]) {\n              delete _receiverReadyList[url];\n              delete _receiverElementList[url];\n            } else if (autoClose === true && _receiverElementList[url]) {\n              if (mode === \'iframe\') {\n                element = document.querySelector("iframe[data-url=\\"".concat(url, "\\"]")); //console.log(element)\n                if (element !== null) {\n                  element.parentNode.removeChild(element);\n                }\n                //alert(\'有刪除嗎？\')\n              } else if (mode === \'popup\') {\n                _receiverElementList[url].close();\n              }\n              delete _receiverReadyList[url];\n              delete _receiverElementList[url];\n              //await sleep(3000)\n            }\n\n            if (_receiverElementList[url]) {\n              //console.log(\'從cache\')\n              receiver = _receiverElementList[url];\n            } else if (mode === \'iframe\') {\n              //console.log(\'iframe\')\n              receiverElement = document.querySelector("iframe[data-url=\\"".concat(url, "\\"]"));\n              if (receiverElement === null) {\n                receiverElement = document.createElement("iframe");\n                //receiverElement.style.display = \'none\'\n                receiverElement.style.position = \'fixed\';\n                receiverElement.style.width = \'100px\';\n                receiverElement.style.height = \'100px\';\n                receiverElement.style.zIndex = -1;\n                receiverElement.style.opacity = 0;\n                receiverElement.style.right = 0;\n                receiverElement.style.bottom = 0;\n                if (debug === true) {\n                  receiverElement.style.zIndex = 999;\n                  receiverElement.style.opacity = 1;\n                  receiverElement.style.width = \'500px\';\n                  receiverElement.style.height = \'500px\';\n                  //console.log(receiverElement)\n                }\n\n                receiverElement.src = url;\n                //console.log(url)\n                receiverElement.setAttribute(\'data-url\', url);\n                document.body.appendChild(receiverElement);\n              }\n            } else if (mode === \'popup\') {\n              target = undefined;\n              if (options && options.target) {\n                target = options.target;\n              }\n              features = undefined;\n              if (options && options.features) {\n                features = options.features;\n              }\n              if (typeof features === \'number\' && features <= 1) {\n                receiver = popupCenterRedirect(url, features);\n              } else {\n                receiver = window.open(url, target, features);\n              }\n            }\n\n            // ----------------\n\n            // ---------------\n            getReceiver = function getReceiver() {\n              if (!receiver && mode === \'iframe\') {\n                receiver = receiverElement.contentWindow;\n              }\n              return receiver;\n            }; //console.log(eventType)\n            _context.prev = 16;\n            _context.next = 19;\n            return _sendToReceiver(getReceiver, url, eventType, data);\n          case 19:\n            result = _context.sent;\n            _context.next = 26;\n            break;\n          case 22:\n            _context.prev = 22;\n            _context.t0 = _context["catch"](16);\n            redirectedURL = _context.t0;\n            autoClose = true;\n            //console.log(e)\n            //return await this.send(e, data, options)\n          case 26:\n            // ---------------\n\n            if (autoClose === true) {\n              if (mode === \'iframe\') {\n                if (receiverElement) {\n                  receiverElement.parentNode.removeChild(receiverElement);\n                }\n              } else {\n                receiver.close();\n              }\n              delete _receiverReadyList[url];\n              delete _receiverElementList[url];\n            } else {\n              if (!_receiverElementList[url]) {\n                _receiverElementList[url] = receiver;\n              }\n            }\n            if (redirectedURL) {\n              _context.next = 32;\n              break;\n            }\n            if (typeof callback === \'function\') {\n              callback(result);\n            }\n            return _context.abrupt("return", result);\n          case 32:\n            _context.next = 34;\n            return sleep(1000);\n          case 34:\n            _context.next = 36;\n            return send(redirectedURL, data, options);\n          case 36:\n            return _context.abrupt("return", _context.sent);\n          case 37:\n          case "end":\n            return _context.stop();\n        }\n      }, _callee, null, [[16, 22]]);\n    }));\n    return function send(_x, _x2, _x3) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  // -----------------------\n\n  var _sendToReceiver = /*#__PURE__*/function () {\n    var _ref2 = asyncToGenerator_default()( /*#__PURE__*/puli_post_message_api_regeneratorRuntime().mark(function _callee2(getReceiver, url, eventType, data, options) {\n      var redirectedURL, receiver, postMessageData;\n      return puli_post_message_api_regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _waitReceiverReady(url);\n          case 2:\n            redirectedURL = _context2.sent;\n            if (!(typeof redirectedURL === \'string\')) {\n              _context2.next = 5;\n              break;\n            }\n            throw redirectedURL;\n          case 5:\n            receiver = getReceiver(); //console.log(receiver)\n            //console.log({sender: location.href, receiver: url} )\n            postMessageData = {\n              eventName: \'send\',\n              eventType: eventType,\n              data: data,\n              url: location.href\n            }; //console.log(\'queue\', url)\n            return _context2.abrupt("return", new Promise(function (resolve, reject) {\n              //receiver.postMessage(postMessageData, \'*\')\n              receiver.postMessage(postMessageData, url);\n\n              //console.log(\'return queue\')\n              _pushReceiverReturnQueue(url, function (result) {\n                //console.log(\'queue callback\')\n                resolve(result);\n              });\n\n              /*\n              try {\n                receiver.postMessage(postMessageData, url)\n              }\n              catch (e) {\n                console.log(\'替代方案\')\n                receiver.postMessage(postMessageData, \'*\')\n              }\n               */\n            }));\n          case 8:\n          case "end":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }));\n    return function _sendToReceiver(_x4, _x5, _x6, _x7, _x8) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var _receiverReturnQueue = {};\n  var _pushReceiverReturnQueue = function _pushReceiverReturnQueue(url, callback) {\n    if (!_receiverReturnQueue[url]) {\n      _receiverReturnQueue[url] = [];\n    }\n    if (_receiverReturnQueue[url].indexOf(callback) === -1) {\n      _receiverReturnQueue[url].push(callback);\n    }\n  };\n\n  // ------------------------\n\n  var _messageHandler = function _messageHandler(event) {\n    //console.log(event, location.href.slice(location.href.lastIndexOf(\'/\') + 1))\n    if (typeof_default()(event.data) !== \'object\' || !event.data.eventName) {\n      return false;\n    }\n    var eventName = event.data.eventName;\n    var data = event.data.data;\n    var url = event.data.url;\n    var eventType = event.data.eventType;\n\n    //console.log(eventName, data, url, pageName)\n\n    //let origin = event.origin\n    var source = event.source;\n    //let url = event.source.location.href\n\n    if (eventName === \'return\') {\n      _returnEventHandler(url, data);\n    } else if (eventName === \'send\') {\n      _sendEventHandler(source, url, eventType, data);\n    } else if (eventName === \'ready\') {\n      _readyEventHandler(url);\n    } else if (eventName === \'error\') {\n      _errorEventHandler(url, event.data.message);\n    }\n  };\n  var _returnEventHandler = function _returnEventHandler(url, data) {\n    //console.log(\'_returnEventHandler\')\n    if (Array.isArray(_receiverReturnQueue[url]) === false) {\n      return false;\n    }\n    _receiverReturnQueue[url].forEach(function (callback) {\n      if (typeof callback !== \'function\') {\n        return false;\n      }\n      callback(data);\n    });\n\n    // 清空呼叫的資料\n    _receiverReturnQueue[url] = [];\n    _ExecuteNextSendWait(url);\n    return true;\n  };\n  var _sendEventHandler = /*#__PURE__*/function () {\n    var _ref3 = asyncToGenerator_default()( /*#__PURE__*/puli_post_message_api_regeneratorRuntime().mark(function _callee3(source, origin, eventType, input) {\n      var result;\n      return puli_post_message_api_regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1) switch (_context3.prev = _context3.next) {\n          case 0:\n            if (!(typeof _receiveHandler[eventType] === \'function\')) {\n              _context3.next = 6;\n              break;\n            }\n            _context3.next = 3;\n            return _receiveHandler[eventType](input);\n          case 3:\n            result = _context3.sent;\n            _context3.next = 8;\n            break;\n          case 6:\n            //console.log(typeof(_receiveHandler[eventType]), pageName)\n            source.postMessage({\n              eventName: \'error\',\n              message: "sender\'s eventType is not found: " + eventType,\n              url: location.href\n            }, origin);\n            return _context3.abrupt("return", false);\n          case 8:\n            source.postMessage({\n              eventName: \'return\',\n              data: result,\n              url: location.href\n            }, origin);\n          case 9:\n          case "end":\n            return _context3.stop();\n        }\n      }, _callee3);\n    }));\n    return function _sendEventHandler(_x9, _x10, _x11, _x12) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var _readyEventHandler = function _readyEventHandler(origin) {\n    // 如果沒有對應上的，那是不是要自動變更啊？\n    //console.log(_receiverWaitList[origin], origin, pageName)\n    if (typeof _receiverWaitList[origin] === \'function\') {\n      _receiverReadyList[origin] = true;\n      _receiverWaitList[origin]();\n      delete _receiverWaitList[origin];\n    } else {\n      // 搜尋一個還沒呼叫的網址\n      for (var o in _receiverWaitList) {\n        //console.log(\'還沒呼叫，有待更名\', o)\n\n        //_receiverReadyList[o] = true\n        //urlRedirect[o] = origin\n\n        // 正常呼叫\n        var waitCallback = _receiverWaitList[o];\n        //_receiverWaitList[origin] = _receiverWaitList[o]\n        //_receiverReadyList[o] = true\n        urlRedirect[o] = origin;\n\n        //_receiverWaitList[o]\n        delete _receiverWaitList[o];\n        waitCallback(origin);\n        return false;\n      }\n    }\n  };\n  var _errorEventHandler = function _errorEventHandler(url, message) {\n    console.error(message, pageName);\n\n    // 清空呼叫的資料\n    _receiverReturnQueue[url] = [];\n    _ExecuteNextSendWait(url);\n    return true;\n  };\n  var _waitReceiverReady = function _waitReceiverReady(url) {\n    //console.log(_receiverReadyList[url], _receiverWaitList[url])\n    if (_receiverReadyList[url] === true) {\n      return true;\n    }\n    return new Promise(function (resolve, reject) {\n      _receiverWaitList[url] = function (redirectedURL) {\n        if (redirectedURL) {\n          resolve(redirectedURL);\n        } else {\n          resolve(true);\n        }\n      };\n      //console.log(_receiverReadyList[url], _receiverWaitList[url], url)\n    });\n  };\n\n  window.addEventListener("message", _messageHandler, true);\n\n  // -----------------------\n\n  // -----------------------\n\n  var _receiveHandler = {};\n  var addReceiveListener = function addReceiveListener(eventType, callback) {\n    //console.log(\'來\', pageName)\n    if (typeof eventType === \'function\' && !callback) {\n      callback = eventType;\n      eventType = \'_default\';\n    } else if (typeof callback !== \'function\') {\n      //console.log(\'沒能設定\', pageName)\n      return false;\n    }\n    _receiveHandler[eventType] = callback;\n    //console.log(_receiveHandler, pageName)\n  };\n\n  var removeReceiveListener = function removeReceiveListener(eventType, callback) {\n    if (typeof eventType === \'function\' && !callback) {\n      callback = eventType;\n      eventType = \'_default\';\n    }\n    if (typeof callback !== \'function\' || !_receiveHandler[eventType]) {\n      return false;\n    }\n    delete _receiveHandler[eventType];\n  };\n  var ready = function ready() {\n    _sendReadyMessage();\n  };\n\n  // -------------------------------\n\n  cacheAPI = {\n    send: send,\n    addReceiveListener: addReceiveListener,\n    removeReceiveListener: removeReceiveListener,\n    ready: ready\n  };\n  return cacheAPI;\n}\n/* harmony default export */ var puli_post_message_api = (PuliPostMessageAPI);\n// CONCATENATED MODULE: ./src/utils/TokenizeUtils.js\n\n\n\nfunction TokenizeUtils_regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ TokenizeUtils_regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = "function" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || "@@iterator", asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator", toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, ""); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, "_invoke", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: "normal", arg: fn.call(obj, arg) }; } catch (err) { return { type: "throw", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { ["next", "throw", "return"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if ("throw" !== record.type) { var result = record.arg, value = result.value; return value && "object" == typeof_default()(value) && hasOwn.call(value, "__await") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke("next", value, resolve, reject); }, function (err) { invoke("throw", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke("throw", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, "_invoke", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = "suspendedStart"; return function (method, arg) { if ("executing" === state) throw new Error("Generator is already running"); if ("completed" === state) { if ("throw" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if ("next" === context.method) context.sent = context._sent = context.arg;else if ("throw" === context.method) { if ("suspendedStart" === state) throw state = "completed", context.arg; context.dispatchException(context.arg); } else "return" === context.method && context.abrupt("return", context.arg); state = "executing"; var record = tryCatch(innerFn, self, context); if ("normal" === record.type) { if (state = context.done ? "completed" : "suspendedYield", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } "throw" === record.type && (state = "completed", context.method = "throw", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, "throw" === methodName && delegate.iterator["return"] && (context.method = "return", context.arg = undefined, maybeInvokeDelegate(delegate, context), "throw" === context.method) || "return" !== methodName && (context.method = "throw", context.arg = new TypeError("The iterator does not provide a \'" + methodName + "\' method")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if ("throw" === record.type) return context.method = "throw", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, "return" !== context.method && (context.method = "next", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = "throw", context.arg = new TypeError("iterator result is not an object"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = "normal", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: "root" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if ("function" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"), exports.isGeneratorFunction = function (genFun) { var ctor = "function" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || "GeneratorFunction" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, "GeneratorFunction")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, "Generator"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, "toString", function () { return "[object Generator]"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) keys.push(key); return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = "next", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) "t" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if ("throw" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = "throw", record.arg = exception, context.next = loc, caught && (context.method = "next", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if ("root" === entry.tryLoc) return handle("end"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, "catchLoc"), hasFinally = hasOwn.call(entry, "finallyLoc"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error("try statement without catch or finally"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && ("break" === type || "continue" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = "next", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if ("throw" === record.type) throw record.arg; return "break" === record.type || "continue" === record.type ? this.next = record.arg : "return" === record.type ? (this.rval = this.arg = record.arg, this.method = "return", this.next = "end") : "normal" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, "catch": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if ("throw" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error("illegal catch attempt"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, "next" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { defineProperty_default()(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nvar debug = false;\nvar inited = false;\nvar api;\nvar TokenizeUtils_url = \'https://pulipulichen.github.io/jieba-js/index.html?api=1\';\nif (location.href.startsWith(\'http://127.0.0.1:\')) {\n  TokenizeUtils_url = \'http://127.0.0.1:5501/index.html?api=1\';\n}\n/* harmony default export */ var TokenizeUtils = ({\n  cache: {},\n  generateKey: function generateKey(text) {\n    if (Array.isArray(text)) {\n      text = JSON.stringify(text);\n    }\n    return \'token-\' + text;\n  },\n  tokenize: function () {\n    var _tokenize = asyncToGenerator_default()( /*#__PURE__*/TokenizeUtils_regeneratorRuntime().mark(function _callee(text) {\n      var filter,\n        key,\n        isArray,\n        data,\n        result,\n        _args = arguments;\n      return TokenizeUtils_regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            filter = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n            this.init();\n            key = this.generateKey(text);\n            if (!this.cache[key]) {\n              _context.next = 5;\n              break;\n            }\n            return _context.abrupt("return", this.cache[key]);\n          case 5:\n            isArray = false;\n            if (Array.isArray(text)) {\n              text = \'message\\n\' + text.join(\'\\n\');\n              isArray = true;\n            }\n\n            //console.log(data)\n            data = _objectSpread({\n              inputText: text\n            }, filter);\n            _context.next = 10;\n            return api.send(TokenizeUtils_url, data, {\n              debug: debug\n            });\n          case 10:\n            result = _context.sent;\n            if (isArray === true) {\n              result = result.split(\'\\n\');\n              result.shift();\n            }\n            this.cache[key] = result;\n            return _context.abrupt("return", result);\n          case 14:\n          case "end":\n            return _context.stop();\n        }\n      }, _callee, this);\n    }));\n    function tokenize(_x) {\n      return _tokenize.apply(this, arguments);\n    }\n    return tokenize;\n  }(),\n  init: function init() {\n    if (inited === true) {\n      return true;\n    }\n    api = puli_post_message_api();\n    inited = true;\n  }\n});\n// EXTERNAL MODULE: ./src/utils/date-helper.js\nvar date_helper = __webpack_require__(103);\n\n// CONCATENATED MODULE: ./src/utils/utils.js\n\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ var utils = __webpack_exports__["default"] = ({\n  AsyncUtils: AsyncUtils,\n  ClipboardUtils: ClipboardUtils,\n  AxiosUtils: AxiosUtils,\n  FileUtils: FileUtils,\n  URLUtils: URLUtils,\n  DataUtils: DataUtils,\n  PopupUtils: PopupUtils,\n  StringUtils: StringUtils,\n  FileSystemUtils: FileSystemUtils,\n  DateUtils: DateUtils,\n  TokenizeUtils: TokenizeUtils\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjE0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL0FzeW5jVXRpbHMuanM/ZGZiYSIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvQ2xpcGJvYXJkVXRpbHMuanM/Y2RhOCIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvQXhpb3NVdGlscy5qcz80NTU5Iiwid2VicGFjazovLy8uL3NyYy91dGlscy9GaWxlVXRpbHMuanM/M2IzMiIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvVVJMVXRpbHMuanM/ODllNSIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvRGF0YVV0aWxzLmpzP2M1OWIiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL1BvcHVwVXRpbHMuanM/MWJiMSIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvU3RyaW5nVXRpbHMuanM/M2ZhMiIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvRmlsZVN5c3RlbVV0aWxzLmpzPzA0ODciLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL0RhdGVVdGlscy5qcz8xMjRkIiwid2VicGFjazovLy8uL3NyYy91dGlscy9wdWxpLXBvc3QtbWVzc2FnZS1hcGkvcHVsaS1wb3N0LW1lc3NhZ2UtYXBpLmpzPzY5ODkiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL1Rva2VuaXplVXRpbHMuanM/YTk4MSIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvdXRpbHMuanM/ZmE3ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XG4gIHNsZWVwOiBmdW5jdGlvbiAobXMgPSA1MDApIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSk7XG4gIH1cbn0iLCJleHBvcnQgZGVmYXVsdCB7XG4gIGNvcHlQbGFpblN0cmluZzogZnVuY3Rpb24gKHRleHQpIHtcbiAgICBpZiAoIW5hdmlnYXRvci5jbGlwYm9hcmQpIHtcbiAgICAgIHRoaXMuZmFsbGJhY2tDb3B5VGV4dFRvQ2xpcGJvYXJkKHRleHQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dCh0ZXh0KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vY29uc29sZS5sb2coJ0FzeW5jOiBDb3B5aW5nIHRvIGNsaXBib2FyZCB3YXMgc3VjY2Vzc2Z1bCEnKTtcbiAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAvL2NvbnNvbGUuZXJyb3IoJ0FzeW5jOiBDb3VsZCBub3QgY29weSB0ZXh0OiAnLCBlcnIpO1xuICAgIH0pO1xuICB9LFxuICBmYWxsYmFja0NvcHlUZXh0VG9DbGlwYm9hcmQodGV4dCkge1xuICAgIHZhciB0ZXh0QXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiKTtcbiAgICB0ZXh0QXJlYS52YWx1ZSA9IHRleHQ7XG5cbiAgICAvLyBBdm9pZCBzY3JvbGxpbmcgdG8gYm90dG9tXG4gICAgdGV4dEFyZWEuc3R5bGUudG9wID0gXCIwXCI7XG4gICAgdGV4dEFyZWEuc3R5bGUubGVmdCA9IFwiMFwiO1xuICAgIHRleHRBcmVhLnN0eWxlLnBvc2l0aW9uID0gXCJmaXhlZFwiO1xuXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0ZXh0QXJlYSk7XG4gICAgdGV4dEFyZWEuZm9jdXMoKTtcbiAgICB0ZXh0QXJlYS5zZWxlY3QoKTtcblxuICAgIHRyeSB7XG4gICAgICB2YXIgc3VjY2Vzc2Z1bCA9IGRvY3VtZW50LmV4ZWNDb21tYW5kKCdjb3B5Jyk7XG4gICAgICB2YXIgbXNnID0gc3VjY2Vzc2Z1bCA/ICdzdWNjZXNzZnVsJyA6ICd1bnN1Y2Nlc3NmdWwnO1xuICAgICAgY29uc29sZS5sb2coJ0ZhbGxiYWNrOiBDb3B5aW5nIHRleHQgY29tbWFuZCB3YXMgJyArIG1zZyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWxsYmFjazogT29wcywgdW5hYmxlIHRvIGNvcHknLCBlcnIpO1xuICAgIH1cblxuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGV4dEFyZWEpO1xuICB9LFxufSIsImltcG9ydCBheGlvcyBmcm9tICdheGlvcydcblxuZXhwb3J0IGRlZmF1bHQge1xuICBnZXQ6IGFzeW5jIGZ1bmN0aW9uICh1cmwpIHtcbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgYXhpb3MuZ2V0KHVybClcbiAgICByZXR1cm4gcmVzdWx0LmRhdGFcbiAgfVxufSIsIlxuZXhwb3J0IGRlZmF1bHQge1xuICAvKipcbiAgICog5LiL6LyJ5qqU5qGIXG4gICAqIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xODE5NzM0MS82NjQ1Mzk5XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBmaWxlbmFtZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gdGV4dFxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICovXG4gIGRvd25sb2FkOiBmdW5jdGlvbiAoZmlsZW5hbWUsIHRleHQpIHtcbiAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnaHJlZicsICdkYXRhOnRleHQvcGxhaW47Y2hhcnNldD11dGYtOCwnICsgZW5jb2RlVVJJQ29tcG9uZW50KHRleHQpKTtcbiAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnZG93bmxvYWQnLCBmaWxlbmFtZSk7XG5cbiAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbGVtZW50KTtcblxuICAgIGVsZW1lbnQuY2xpY2soKTtcblxuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZWxlbWVudCk7XG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG59IiwiLy8gaW1wb3J0ICQgZnJvbSAnanF1ZXJ5J1xuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJ1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGlzVVJMOiBmdW5jdGlvbiAoc3RyKSB7XG4gICAgdmFyIHBhdHRlcm4gPSBuZXcgUmVnRXhwKCdeKGh0dHBzPzpcXFxcL1xcXFwvKT8nICsgLy8gcHJvdG9jb2xcbiAgICAgICAgICAgICcoKChbYS16XFxcXGRdKFthLXpcXFxcZC1dKlthLXpcXFxcZF0pKilcXFxcLikrW2Etel17Mix9fCcgKyAvLyBkb21haW4gbmFtZVxuICAgICAgICAgICAgJygoXFxcXGR7MSwzfVxcXFwuKXszfVxcXFxkezEsM30pKScgKyAvLyBPUiBpcCAodjQpIGFkZHJlc3NcbiAgICAgICAgICAgICcoXFxcXDpcXFxcZCspPyhcXFxcL1stYS16XFxcXGQlXy5+K10qKSonICsgLy8gcG9ydCBhbmQgcGF0aFxuICAgICAgICAgICAgJyhcXFxcP1s7JmEtelxcXFxkJV8ufis9LV0qKT8nICsgLy8gcXVlcnkgc3RyaW5nXG4gICAgICAgICAgICAnKFxcXFwjWy1hLXpcXFxcZF9dKik/JCcsICdpJyk7IC8vIGZyYWdtZW50IGxvY2F0b3JcbiAgICByZXR1cm4gISFwYXR0ZXJuLnRlc3Qoc3RyKTtcbiAgfSxcbiAgaXNFbWFpbDogZnVuY3Rpb24gKGVtYWlsKSB7XG4gICAgY29uc3QgcmUgPSAvXigoW148PigpW1xcXVxcXFwuLDs6XFxzQFwiXSsoXFwuW148PigpW1xcXVxcXFwuLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcXSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsfSkpJC87XG4gICAgcmV0dXJuIHJlLnRlc3QoU3RyaW5nKGVtYWlsKS50b0xvd2VyQ2FzZSgpKTtcbiAgfSxcbiAgZ2V0UGFyYW1ldGVySUQgKCkge1xuICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaFxuICAgIGNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMocXVlcnlTdHJpbmcpO1xuICAgIHJldHVybiB1cmxQYXJhbXMuZ2V0KCdpZCcpXG4gIH0sXG4gIGdldFRpdGxlOiBhc3luYyBmdW5jdGlvbiAodXJsKSB7XG4gICAgaWYgKHVybC5pbmRleE9mKCcvLycpID4gLTEpIHtcbiAgICAgIHVybCA9IHVybC5zbGljZSh1cmwuaW5kZXhPZignLy8nKSArIDIpXG4gICAgfVxuICAgIHVybCA9IFwiaHR0cHM6Ly9zY3JpcHQuZ29vZ2xlLmNvbS9tYWNyb3Mvcy9BS2Z5Y2J6X2VQUW9RdzY1MUtxTTh6LUMxRk9Jbmh5TTQwWTVXckRzYnhEanIweEJjTG9UOEhvd0NXa0lBMlJSXzEydjM1M2MvZXhlYz91cmw9XCIgKyB1cmxcbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgYXhpb3MuZ2V0KHVybClcbiAgICByZXR1cm4gcmVzdWx0LmRhdGEub3V0cHV0XG4gICAgLy8gcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAvLyAgICQuYWpheCh7XG4gICAgLy8gICAgIHVybCxcbiAgICAvLyAgICAgY29tcGxldGU6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAvLyAgICAgICByZXNvbHZlKGRhdGEucmVzcG9uc2VUZXh0KTtcbiAgICAvLyAgICAgfVxuICAgIC8vICAgfSk7XG4gICAgLy8gfSlcbiAgfVxufSIsImV4cG9ydCBkZWZhdWx0IHtcbiAgc2xlZXA6IGZ1bmN0aW9uIChtcyA9IDApIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSk7XG4gIH0sXG4gIGlzTWlzc2luZ0RhdGE6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgcmV0dXJuIChkYXRhID09PSAnPycgfHwgZGF0YSA9PT0gbnVsbCB8fCBkYXRhID09PSB1bmRlZmluZWQpXG4gIH0sXG4gIHBhcnNlTnVtYmVyOiBhc3luYyBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIGxldCBhcnkgPSBbXVxuICAgICAgZm9yIChsZXQgbGVuID0gdmFsdWUubGVuZ3RoLCBpICA9IGxlbjsgaSA+IDA7IGktLSkge1xuICAgICAgICBsZXQgaW5kZXggPSAobGVuIC0gaSlcbiAgICAgICAgYXJ5LnB1c2goYXdhaXQgdGhpcy5wYXJzZU51bWJlcih2YWx1ZVtpbmRleF0pKVxuICAgICAgICBcbiAgICAgICAgaWYgKGkgJSA1MDAwID09PSAyNTAwKSB7XG4gICAgICAgICAgLy9jb25zb2xlLmxvZygncGFyc2VOdW1iZXInLCBpKVxuICAgICAgICAgIGF3YWl0IHRoaXMuc2xlZXAoKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiBhcnlcbiAgICB9XG4gICAgXG4gICAgaWYgKHRoaXMuaXNNaXNzaW5nRGF0YSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZVxuICAgIH1cbiAgICBcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyAmJiB2YWx1ZSAhPT0gJycgJiYgIWlzTmFOKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIE51bWJlcih2YWx1ZSlcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXR1cm4gdmFsdWVcbiAgICB9XG4gIH1cbn0iLCJleHBvcnQgZGVmYXVsdCB7XG4gIG9wZW46IGZ1bmN0aW9uIChvcHRpb25zID0ge30pIHtcbiAgICBsZXQge1xuICAgICAgd2luZG93TmFtZSA9ICdwb3B1cCcgKyAobmV3IERhdGUoKSkuZ2V0VGltZSgpLFxuICAgICAgY3NzVVJMLFxuICAgICAgYm9keUhUTUwsXG4gICAgICB0aXRsZSA9IHdpbmRvdy5kb2N1bWVudC50aXRsZSxcbiAgICAgIHNpemUgPSAnZnVsbHNjcmVlbicgLy8gJ2Z1bGxzY3JlZW4nLCAnbGVmdCcsICdyaWdodCdcbiAgICB9ID0gb3B0aW9uc1xuICAgIFxuICAgIGxldCB0b3AgPSAwXG4gICAgbGV0IGxlZnQgPSAwXG4gICAgbGV0IHdpZHRoID0gd2luZG93LnNjcmVlbi5hdmFpbFdpZHRoXG4gICAgbGV0IGhlaWdodCA9IHdpbmRvdy5zY3JlZW4uYXZhaWxIZWlnaHRcbiAgICBcbiAgICBcbiAgICBpZiAoc2l6ZSA9PT0gJ2xlZnQnKSB7XG4gICAgICB3aWR0aCA9IHBhcnNlSW50KHdpZHRoIC8gMiwgMTApXG4gICAgfVxuICAgIGVsc2UgaWYgKHNpemUgPT09ICdyaWdodCcpIHtcbiAgICAgIHdpZHRoID0gcGFyc2VJbnQod2lkdGggLyAyLCAxMClcbiAgICAgIGxlZnQgPSB3aWR0aFxuICAgIH1cbiAgICBcbiAgICBsZXQgcGFyYW1ldGVycyA9IFtcbiAgICAgICd0b29sYmFyPW5vJyxcbiAgICAgICdsb2NhdGlvbj1ubycsXG4gICAgICAnc3RhdHVzPW5vJyxcbiAgICAgICdtZW51YmFyPW5vJyxcbiAgICAgICdzY3JvbGxiYXJzPXllcycsXG4gICAgICAncmVzaXphYmxlPXllcycsXG4gICAgICAnd2lkdGg9JyArIHdpZHRoLFxuICAgICAgJ2hlaWdodD0nICsgaGVpZ2h0LFxuICAgICAgJ3RvcD0nICsgdG9wLFxuICAgICAgJ2xlZnQ9JyArIGxlZnRcbiAgICBdXG4gICAgLy9jb25zb2xlLmxvZyh3aW5kb3dOYW1lKVxuICAgIGxldCB3aW4gPSB3aW5kb3cub3BlbignJywgd2luZG93TmFtZSwgcGFyYW1ldGVycy5qb2luKCcsJykpXG4gICAgXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgXG4gICAgbGV0IGlzUmVhZHkgPSBmYWxzZVxuICAgIFxuICAgIGxldCBkb2MgPSB3aW4uZG9jdW1lbnRcbiAgICBcbiAgICBpZiAoY3NzVVJMKSB7XG4gICAgICBcbiAgICAgIHZhciBoZWFkICA9IGRvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdO1xuICAgICAgdmFyIGxpbmsgID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2xpbmsnKTtcbiAgICAgIGxpbmsucmVsICA9ICdzdHlsZXNoZWV0JztcbiAgICAgIGxpbmsudHlwZSA9ICd0ZXh0L2Nzcyc7XG4gICAgICBsaW5rLmhyZWYgPSBjc3NVUkxcbiAgICAgIC8vbGluay5tZWRpYSA9ICdhbGwnO1xuICAgICAgaGVhZC5hcHBlbmRDaGlsZChsaW5rKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKGJvZHlIVE1MKSB7XG4gICAgICBkb2MuYm9keS5pbm5lckhUTUwgPSBib2R5SFRNTFxuICAgICAgaXNSZWFkeSA9IHRydWVcbiAgICB9XG4gICAgXG4gICAgaWYgKHRpdGxlKSB7XG4gICAgICBkb2MudGl0bGUgPSB0aXRsZVxuICAgIH1cbiAgICBcbiAgICB3aW4uc2V0SFRNTCA9IChodG1sKSA9PiB7XG4gICAgICBkb2MuYm9keS5pbm5lckhUTUwgPSBodG1sXG4gICAgICBpc1JlYWR5ID0gdHJ1ZVxuICAgIH1cbiAgICBcbiAgICB3aW4uY2xlYXJIVE1MID0gKCkgPT4ge1xuICAgICAgZG9jLmJvZHkuaW5uZXJIVE1MID0gJydcbiAgICB9XG4gICAgXG4gICAgd2luLnNldFRpdGxlID0gKHRpdGxlKSA9PiB7XG4gICAgICBkb2MudGl0bGUgPSB0aXRsZVxuICAgIH1cbiAgICBcbiAgICBsZXQgd2FpdFJlYWR5ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgd2hpbGUgKGlzUmVhZHkgPT09IGZhbHNlKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuc2xlZXAoKVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICB3aW4uc2Nyb2xsVG9DZW50ZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgICAvL2NvbnNvbGUubG9nKCcxJylcbiAgICAgIGF3YWl0IHdhaXRSZWFkeSgpXG4gICAgICAvL2NvbnNvbGUubG9nKCcyJywgd2luLmRvY3VtZW50LmJvZHkuc2Nyb2xsV2lkdGgsIHdpbi5pbm5lcldpZHRoKVxuICAgICAgbGV0IHNjcm9sbExlZnQgPSAgcGFyc2VJbnQoKHdpbi5kb2N1bWVudC5ib2R5LnNjcm9sbFdpZHRoIC0gd2luLmlubmVyV2lkdGgpIC8gMiwgMTApXG4gICAgICAvL2NvbnNvbGUubG9nKHNjcm9sbExlZnQpXG4gICAgICB3aW4uc2Nyb2xsVG8oc2Nyb2xsTGVmdCwgbnVsbClcbiAgICB9XG4gICAgXG4gICAgd2luLnNjcm9sbFRvVG9wID0gYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgd2FpdFJlYWR5KClcbiAgICAgIHdpbi5zY3JvbGxUbyhudWxsLCAwKVxuICAgIH1cbiAgICByZXR1cm4gd2luXG4gIH0sXG4gIHNsZWVwOiBmdW5jdGlvbiAobXMgPSA1MCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKTtcbiAgfSxcbn0iLCJleHBvcnQgZGVmYXVsdCB7XG4gIGhhc2hDb2RlOiBmdW5jdGlvbiAoc3RyKSB7XG4gICAgdmFyIGhhc2ggPSAwLFxuICAgICAgaSwgY2hyO1xuICAgIGlmIChzdHIubGVuZ3RoID09PSAwKSByZXR1cm4gaGFzaDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjaHIgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgIGhhc2ggPSAoKGhhc2ggPDwgNSkgLSBoYXNoKSArIGNocjtcbiAgICAgIGhhc2ggfD0gMDsgLy8gQ29udmVydCB0byAzMmJpdCBpbnRlZ2VyXG4gICAgfVxuXG4gICAgaGFzaCA9IE1hdGguYWJzKGhhc2gpXG4gICAgcmV0dXJuIGhhc2g7XG4gIH1cbn0iLCJpbXBvcnQgbWltZSBmcm9tICdtaW1lLXR5cGVzJ1xyXG5cclxubGV0IENPTkZJRyA9IHtcclxuICBxdW90YUluTUI6IDVcclxufVxyXG5cclxubGV0IHRyaWdnZXJDYWxsYmFjayA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gIGlmICh0eXBlb2YgKGNhbGxiYWNrKSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgY2FsbGJhY2soKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIHR5cGU6IHdpbmRvdy5QRVJTSVNURU5ULFxyXG4gIC8vdHlwZTogd2luZG93LlBFUlNJU1RFTlQsXHJcbiAgcXVvdGE6IENPTkZJRy5xdW90YUluTUIgKiAxMDI0ICogMTAyNCAvKjVNQiovLFxyXG4gIGZzOiBudWxsLFxyXG4gIGJhc2U6ICcnLFxyXG4gIGN1cnJlbnRCYXNlVXJsOiBudWxsLFxyXG4gIC8vIGluaXRlZDogZmFsc2UsXHJcbiAgaW5pdDogZnVuY3Rpb24gKGJhc2UpIHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgLy8gTm90ZTogVGhlIGZpbGUgc3lzdGVtIGhhcyBiZWVuIHByZWZpeGVkIGFzIG9mIEdvb2dsZSBDaHJvbWUgMTI6XHJcbiAgICAgICAgd2luZG93LnJlcXVlc3RGaWxlU3lzdGVtID0gd2luZG93LnJlcXVlc3RGaWxlU3lzdGVtIHx8IHdpbmRvdy53ZWJraXRSZXF1ZXN0RmlsZVN5c3RlbTtcclxuXHJcbiAgICAgICAgLy8gd2luZG93LndlYmtpdFN0b3JhZ2VJbmZvLnF1ZXJ5VXNhZ2VBbmRRdW90YSgpXHJcbiAgICAgICAgLy8gd2luZG93LlN0b3JhZ2VJbmZvLnF1ZXJ5VXNhZ2VBbmRRdW90YSgpXHJcblxyXG4gICAgICAgIGxldCByZXF1ZXN0RlMgPSAocXVvdGEpID0+IHtcclxuICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0RmlsZVN5c3RlbSh0aGlzLnR5cGUsXHJcbiAgICAgICAgICAgIHF1b3RhLFxyXG4gICAgICAgICAgICAoZnMpID0+IHtcclxuICAgICAgICAgICAgICB0aGlzLmZzID0gZnNcclxuICAgICAgICAgICAgICAvLyB0aGlzLmluaXRlZCA9IHRydWVcclxuICAgICAgICAgICAgICBpZiAoYmFzZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5iYXNlID0gYmFzZVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICByZXNvbHZlKClcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgKGUpID0+IHtcclxuICAgICAgICAgICAgICByZWplY3QoZSlcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy50eXBlID09PSB3aW5kb3cuVEVNUE9SQVJZKSB7XHJcbiAgICAgICAgICByZXF1ZXN0RlModGhpcy5xdW90YSlcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICBuYXZpZ2F0b3Iud2Via2l0UGVyc2lzdGVudFN0b3JhZ2UucmVxdWVzdFF1b3RhKHRoaXMucXVvdGEsIChncmFudGVkQnl0ZXMpID0+IHtcclxuICAgICAgICAgICAgcmVxdWVzdEZTKGdyYW50ZWRCeXRlcylcclxuICAgICAgICAgICAgLy93aW5kb3cucmVxdWVzdEZpbGVTeXN0ZW0oUEVSU0lTVEVOVCwgZ3JhbnRlZEJ5dGVzLCBvbkluaXRGcywgZXJyb3JIYW5kbGVyKTtcclxuICAgICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdFcnJvcicsIGUpO1xyXG4gICAgICAgICAgICByZWplY3QoZSlcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gcmVzb2x2ZSgpXHJcbiAgICAgIH1cclxuICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICByZWplY3QoZSlcclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9LFxyXG4gIC8vIG9uSW5pdEZzOiBmdW5jdGlvbiAoZnMsIGNhbGxiYWNrKSB7XHJcbiAgLy8gICB0aGlzLmZzID0gZnNcclxuICAvLyAgIC8vdGhpcy5zdGF0c3RpY1F1b3RhVXNhZ2UoKVxyXG4gIC8vICAgLy9jb25zb2xlLmxvZygnRmlsZVN5c3RlbSBpbml0ZWQnKVxyXG4gIC8vICAgLypcclxuICAvLyAgIGNvbnNvbGUubG9nKCdPcGVuZWQgZmlsZSBzeXN0ZW06ICcgKyBmcy5uYW1lKTtcclxuXHJcbiAgLy8gICB0aGlzLndyaXRlKCdsb2cudHh0JywgJ29rJywgKCkgPT4ge1xyXG4gIC8vICAgICB0aGlzLnJlYWQoJ2xvZy50eHQnLCAocmVzdWx0KSA9PiB7XHJcbiAgLy8gICAgICAgY29uc29sZS5sb2cocmVzdWx0KVxyXG4gIC8vICAgICB9KVxyXG4gIC8vICAgfSlcclxuICAvLyAgICovXHJcbiAgLy8gICB0cmlnZ2VyQ2FsbGJhY2soY2FsbGJhY2spXHJcbiAgLy8gfSxcclxuICBlcnJvckhhbmRsZXI6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAvL2NvbnNvbGUubG9nKCdGaWxlc3lzdGVtIGVycm9yJylcclxuICAgIC8vY29uc29sZS50cmFjZShlKVxyXG4gICAgaWYgKHR5cGVvZiAoZS5jb2RlKSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgbGV0IG1lc3NhZ2UgPSBgRXJyb3IgY29kZTogJHtlLmNvZGV9PGJyIC8+XHJcbk5hbWU6ICR7ZS5uYW1lfTxiciAvPlxyXG5NZXNzYWdlOiAke2UubWVzc2FnZX1gXHJcbiAgICB3aW5kb3cuYWxlcnQobWVzc2FnZSlcclxuXHJcbiAgICAvL2xldCBlcnJvck9iamVjdCA9IG5ldyBFcnJvcihlLm1lc3NhZ2UpO1xyXG4gICAgLy9jb25zb2xlLmxvZyhlcnJvck9iamVjdC5zdGFjayk7XHJcbiAgICBjb25zb2xlLnRyYWNlKGBGaWxlU3lzdGVtIGVycm9yOiAke2UubWVzc2FnZX1gKVxyXG4gICAgLypcclxuICAgIHZhciBtc2cgPSAnJztcclxuICAgIGNvbnNvbGUubG9nKFsnZXJyb3JIYW5kbGVyJywgZS5jb2RlXSlcclxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL3poLVRXL2RvY3MvV2ViL0FQSS9GaWxlRXJyb3IjRXJyb3JfY29kZXNcclxuICAgIHN3aXRjaCAoZS5jb2RlKSB7XHJcbiAgICAgIGNhc2UgMTA6IC8vY2FzZSBGaWxlRXJyb3IuUVVPVEFfRVhDRUVERURfRVJSOlxyXG4gICAgICBjYXNlIDIyOiAvL2Nhc2UgRmlsZUVycm9yLlFVT1RBX0VYQ0VFREVEX0VSUjpcclxuICAgICAgICBtc2cgPSAnUVVPVEFfRVhDRUVERURfRVJSJztcclxuICAgICAgICBXaW5kb3dIZWxwZXIuYWxlcnQoJ1F1b3RhIEV4Y2VlZGVkLiBQbGVhc2UgZGVsZXRlIGRhdGEuJylcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAxOiAvL2Nhc2UgRmlsZUVycm9yLk5PVF9GT1VORF9FUlI6XHJcbiAgICAgICAgbXNnID0gJ05PVF9GT1VORF9FUlInO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIDI6IC8vY2FzZSBGaWxlRXJyb3IuU0VDVVJJVFlfRVJSOlxyXG4gICAgICAgIG1zZyA9ICdTRUNVUklUWV9FUlInO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIDk6IC8vY2FzZSBGaWxlRXJyb3IuSU5WQUxJRF9NT0RJRklDQVRJT05fRVJSOlxyXG4gICAgICAgIG1zZyA9ICdJTlZBTElEX01PRElGSUNBVElPTl9FUlInO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIDc6IC8vY2FzZSBGaWxlRXJyb3IuSU5WQUxJRF9TVEFURV9FUlI6XHJcbiAgICAgICAgbXNnID0gJ0lOVkFMSURfU1RBVEVfRVJSJztcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAxMzpcclxuICAgICAgICBtc2cgPSAnRklMRV9FWElTVEVEJ1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIG1zZyA9ICdVbmtub3duIEVycm9yICcgKyBlLmNvZGU7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgICA7XHJcblxyXG4gICAgLy9jb25zb2xlLmxvZygnRXJyb3I6ICcgKyBtc2cpO1xyXG4gICAgdGhyb3cgJ0Vycm9yOiAnICsgbXNnXHJcbiAgICAqL1xyXG4gIH0sXHJcbiAgY3JlYXRlRGlyOiBmdW5jdGlvbiAocm9vdERpckVudHJ5LCBmb2xkZXJzKSB7XHJcbiAgICBpZiAocm9vdERpckVudHJ5ICYmICFmb2xkZXJzKSB7XHJcbiAgICAgIGZvbGRlcnMgPSB0aGlzLnBhcnNlUGF0aChyb290RGlyRW50cnkpXHJcbiAgICAgIGlmIChmb2xkZXJzLmVuZHNXaXRoKCcvJykgPT09IGZhbHNlICYmIFxyXG4gICAgICAgIGZvbGRlcnMuaW5kZXhPZignLycpID4gLTEpIHtcclxuICAgICAgICBmb2xkZXJzID0gZm9sZGVycy5zbGljZSgwLCBmb2xkZXJzLmxhc3RJbmRleE9mKCcvJykgKyAxKVxyXG4gICAgICB9XHJcbiAgICAgIHJvb3REaXJFbnRyeSA9IHRoaXMuZnMucm9vdFxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0eXBlb2YgKGZvbGRlcnMpID09PSAnc3RyaW5nJykge1xyXG4gICAgICBmb2xkZXJzID0gZm9sZGVycy5zcGxpdCgnLycpXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHJcbiAgICAgIC8vbGV0IGVycm9ySGFuZGxlciA9IHRoaXMuZXJyb3JIYW5kbGVyXHJcbiAgICAgIGxldCBlcnJvckhhbmRsZXIgPSAoZSkgPT4ge1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coWydjcmVhdGVEaXIgZXJyb3InXSlcclxuICAgICAgICAvL2NvbnNvbGUubG9nKGZvbGRlcnMpXHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhbJ2NyZWF0ZURpcicsIGVdKVxyXG4gICAgICAgIC8vdHJpZ2dlckNhbGxiYWNrKGNhbGxiYWNrKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFsnY3JlYXRlRGlyJywgZm9sZGVyc10pXHJcbiAgICAgICAgLy8gdGhpcy5lcnJvckhhbmRsZXIoZSlcclxuICAgICAgICByZWplY3QoZSlcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gVGhyb3cgb3V0ICcuLycgb3IgJy8nIGFuZCBtb3ZlIG9uIHRvIHByZXZlbnQgc29tZXRoaW5nIGxpa2UgJy9mb28vLi8vYmFyJy5cclxuICAgICAgd2hpbGUgKGZvbGRlcnNbMF0gPT09ICcuJyB8fFxyXG4gICAgICAgIGZvbGRlcnNbMF0gPT09ICcnKSB7XHJcbiAgICAgICAgaWYgKGZvbGRlcnMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgZm9sZGVycyA9IGZvbGRlcnMuc2xpY2UoMSlcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAvLyByZXR1cm4gdHJpZ2dlckNhbGxiYWNrKGNhbGxiYWNrKVxyXG4gICAgICAgICAgcmV0dXJuIHJlc29sdmUoKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy9jb25zb2xlLmxvZyhmb2xkZXJzWzBdKVxyXG4gICAgICByb290RGlyRW50cnkuZ2V0RGlyZWN0b3J5KGZvbGRlcnNbMF0sXHJcbiAgICAgICAgeyBjcmVhdGU6IHRydWUgfSxcclxuICAgICAgICBhc3luYyAoZGlyRW50cnkpID0+IHtcclxuICAgICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGFkZCB0aGUgbmV3IHN1YmZvbGRlciAoaWYgd2Ugc3RpbGwgaGF2ZSBhbm90aGVyIHRvIGNyZWF0ZSkuXHJcbiAgICAgICAgICBpZiAoZm9sZGVycy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jcmVhdGVEaXIoZGlyRW50cnksIGZvbGRlcnMuc2xpY2UoMSkpXHJcbiAgICAgICAgICAgIHJlc29sdmUoKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHRyaWdnZXJDYWxsYmFjayhjYWxsYmFjaylcclxuICAgICAgICAgICAgcmVzb2x2ZSgpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSwgZXJyb3JIYW5kbGVyKTtcclxuICAgIH0pXHJcblxyXG4gIH0sXHJcbiAgcmVtb3ZlRGlyOiBmdW5jdGlvbiAoZGlyUGF0aCkge1xyXG4gICAgLy8gaWYgKEluaXRIZWxwZXIucmVhZHkgPT09IGZhbHNlKSB7XHJcbiAgICBpZiAoIXRoaXMuZnMpIHtcclxuICAgICAgY29uc29sZS5sb2coJ3dhaXQgaW5pdCByZWFkeScpXHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGxldCBmcyA9IHRoaXMuZnNcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIGZzLnJvb3QuZ2V0RGlyZWN0b3J5KGRpclBhdGgsIHt9LCAoZGlyRW50cnkpID0+IHtcclxuXHJcbiAgICAgICAgZGlyRW50cnkucmVtb3ZlUmVjdXJzaXZlbHkoKCkgPT4ge1xyXG4gICAgICAgICAgLy9jb25zb2xlLmxvZygnRGlyZWN0b3J5IHJlbW92ZWQuJyk7XHJcbiAgICAgICAgICAvLyB0cmlnZ2VyQ2FsbGJhY2soY2FsbGJhY2spXHJcbiAgICAgICAgICByZXNvbHZlKClcclxuICAgICAgICB9LCByZXNvbHZlKTtcclxuXHJcbiAgICAgIH0sIHJlc29sdmUpO1xyXG4gICAgfSlcclxuXHJcbiAgfSxcclxuICB3cml0ZUZyb21TdHJpbmc6IGZ1bmN0aW9uIChmaWxlUGF0aCwgY29udGVudCkge1xyXG4gICAgLy8gaWYgKEluaXRIZWxwZXIucmVhZHkgPT09IGZhbHNlKSB7XHJcbiAgICBpZiAoIXRoaXMuZnMpIHtcclxuICAgICAgY29uc29sZS5sb2coJ3dhaXQgaW5pdCByZWFkeScpXHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGxldCBmcyA9IHRoaXMuZnNcclxuXHJcbiAgICBpZiAoZmlsZVBhdGguc3RhcnRzV2l0aCgnLycpID09PSBmYWxzZSkge1xyXG4gICAgICBmaWxlUGF0aCA9ICcvJyArIGZpbGVQYXRoXHJcbiAgICB9XHJcblxyXG4gICAgLy9jb25zb2xlLmxvZygpXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cclxuICAgICAgLy9sZXQgZXJyb3JIYW5kbGVyID0gdGhpcy5lcnJvckhhbmRsZXJcclxuICAgICAgbGV0IGVycm9ySGFuZGxlciA9IGFzeW5jIChlKSA9PiB7XHJcbiAgICAgICAgbGV0IGRpclBhdGggPSBmaWxlUGF0aC5zbGljZSgwLCBmaWxlUGF0aC5sYXN0SW5kZXhPZignLycpICsgMSkudHJpbSgpXHJcbiAgICAgICAgLy9pZiAoZGlyUGF0aCA9PT0gJycpIHtcclxuICAgICAgICAvLyAgdGhpcy5lcnJvckhhbmRsZXIoZSlcclxuICAgICAgICAvLyAgcmV0dXJuXHJcbiAgICAgICAgLy99XHJcblxyXG4gICAgICAgIC8vY29uc29sZS5sb2coZGlyUGF0aClcclxuICAgICAgICBsZXQgZGlyRXhpc3RzID0gYXdhaXQgdGhpcy5pc0V4aXN0cyhkaXJQYXRoKVxyXG5cclxuICAgICAgICBpZiAoZGlyRXhpc3RzID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgYXdhaXQgdGhpcy5jcmVhdGVEaXIoZGlyUGF0aClcclxuICAgICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCB0aGlzLndyaXRlRnJvbVN0cmluZyhmaWxlUGF0aCwgY29udGVudClcclxuICAgICAgICAgIHJldHVybiByZXNvbHZlKHJlc3VsdClcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICBsZXQgZmlsZUV4aXN0cyA9IGF3YWl0IHRoaXMuaXNFeGlzdHMoZmlsZVBhdGgpXHJcbiAgICAgICAgICBpZiAoZmlsZUV4aXN0cyA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnJlbW92ZShmaWxlUGF0aClcclxuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IHRoaXMud3JpdGVGcm9tU3RyaW5nKGZpbGVQYXRoLCBjb250ZW50KVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShyZXN1bHQpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gdGhpcy5lcnJvckhhbmRsZXIoZSlcclxuICAgICAgICAgICAgcmVqZWN0KCd3cml0ZUZyb21TdHJpbmcgZXJyb3InKVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyB3ZSBoYXZlIHRvIGNoZWNrIGRpciBpcyBleGlzdGVkLlxyXG4gICAgICAvL2NvbnNvbGUubG9nKFsnd3JpdGUnLCBmaWxlUGF0aF0pXHJcbiAgICAgIGZzLnJvb3QuZ2V0RmlsZShmaWxlUGF0aCxcclxuICAgICAgICB7IGNyZWF0ZTogdHJ1ZSwgZXhjbHVzaXZlOiB0cnVlIH0sXHJcbiAgICAgICAgKGZpbGVFbnRyeSkgPT4ge1xyXG5cclxuICAgICAgICAgIC8vIENyZWF0ZSBhIEZpbGVXcml0ZXIgb2JqZWN0IGZvciBvdXIgRmlsZUVudHJ5IChsb2cudHh0KS5cclxuICAgICAgICAgIGZpbGVFbnRyeS5jcmVhdGVXcml0ZXIoKGZpbGVXcml0ZXIpID0+IHtcclxuXHJcbiAgICAgICAgICAgIGZpbGVXcml0ZXIub253cml0ZWVuZCA9IChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgZmlsZVBhdGggPSB0aGlzLmdldEZpbGVTeXN0ZW1VcmwoZmlsZVBhdGgpXHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1dyaXRlIGNvbXBsZXRlZDogJyArIGZpbGVQYXRoKTtcclxuICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGNvbnRlbnQpXHJcbiAgICAgICAgICAgICAgLy8gdHJpZ2dlckNhbGxiYWNrKGNhbGxiYWNrKVxyXG4gICAgICAgICAgICAgIHJlc29sdmUoZmlsZVBhdGgpXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBmaWxlV3JpdGVyLm9uZXJyb3IgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ1dyaXRlIGZhaWxlZDogJyArIGZpbGVQYXRoICsgJzogJyArIGUudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICAgLy8gdHJpZ2dlckNhbGxiYWNrKGNhbGxiYWNrKVxyXG4gICAgICAgICAgICAgIHJlamVjdCgpXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyBDcmVhdGUgYSBuZXcgQmxvYiBhbmQgd3JpdGUgaXQgdG8gbG9nLnR4dC5cclxuICAgICAgICAgICAgLy92YXIgYmIgPSBuZXcgQmxvYkJ1aWxkZXIoKTsgLy8gTm90ZTogd2luZG93LldlYktpdEJsb2JCdWlsZGVyIGluIENocm9tZSAxMi5cclxuICAgICAgICAgICAgLy9iYi5hcHBlbmQoY29udGVudCk7XHJcbiAgICAgICAgICAgIC8vZmlsZVdyaXRlci53cml0ZShiYi5nZXRCbG9iKCd0ZXh0L3BsYWluJykpO1xyXG5cclxuICAgICAgICAgICAgZmlsZVdyaXRlci53cml0ZShuZXcgQmxvYihbY29udGVudF0pKTtcclxuICAgICAgICAgICAgLy9maWxlV3JpdGVyLndyaXRlKG5ldyBCbG9iKFtjb250ZW50XSwge3R5cGU6ICd0ZXh0L2h0bWwnfSkpO1xyXG5cclxuICAgICAgICAgIH0sIGVycm9ySGFuZGxlcik7XHJcblxyXG4gICAgICAgIH0sIGVycm9ySGFuZGxlcik7XHJcbiAgICB9KVxyXG4gIH0sXHJcbiAgaXNQbGFpblRleHQ6IGZ1bmN0aW9uIChwYXRoKSB7XHJcbiAgICByZXR1cm4gKHBhdGguZW5kc1dpdGgoJy50eHQnKSB8fFxyXG4gICAgICBwYXRoLmVuZHNXaXRoKCcuaHRtbCcpIHx8XHJcbiAgICAgIHBhdGguZW5kc1dpdGgoJy5odG0nKSB8fFxyXG4gICAgICBwYXRoLmVuZHNXaXRoKCcueGh0bWwnKSB8fFxyXG4gICAgICBwYXRoLmVuZHNXaXRoKCcueG1sJykgfHxcclxuICAgICAgcGF0aC5lbmRzV2l0aCgnLmpzb24nKSlcclxuICB9LFxyXG4gIGV4dHJhY3RTYWZlRmlsZW5hbWU6IGZ1bmN0aW9uIChmaWxlbmFtZSwgc2FmZU1heExlbmd0aCwgbWF4TGVuZ3RoKSB7XHJcbiAgICAvL2NvbnNvbGUubG9nKGZpbGVuYW1lKVxyXG4gICAgbGV0IGxpc3QgPSBmaWxlbmFtZS50cmltKCkubWF0Y2goL1tcXHdcXC1cXC5dKy9nKVxyXG4gICAgaWYgKGxpc3QgIT09IG51bGwpIHtcclxuICAgICAgbGlzdCA9IGxpc3QubWFwKChtKSA9PiB7IHJldHVybiBtIH0pXHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgbGlzdCA9IFtdXHJcbiAgICB9XHJcbiAgICBsZXQgb3V0cHV0ID0gJydcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICBpZiAob3V0cHV0ICE9PSAnJykge1xyXG4gICAgICAgIG91dHB1dCA9IG91dHB1dCArICdfJ1xyXG4gICAgICB9XHJcbiAgICAgIG91dHB1dCA9IG91dHB1dCArIGxpc3RbaV0udHJpbSgpXHJcbiAgICAgIGlmICh0eXBlb2YgKHNhZmVNYXhMZW5ndGgpID09PSAnbnVtYmVyJ1xyXG4gICAgICAgICYmIG91dHB1dC5sZW5ndGggPiBzYWZlTWF4TGVuZ3RoKSB7XHJcbiAgICAgICAgYnJlYWtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0eXBlb2YgKG1heExlbmd0aCkgPT09ICdudW1iZXInICYmIG91dHB1dC5sZW5ndGggPiBtYXhMZW5ndGgpIHtcclxuICAgICAgb3V0cHV0ID0gb3V0cHV0LnNsaWNlKDAsIG1heExlbmd0aCkudHJpbSgpXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG91dHB1dFxyXG4gIH0sXHJcbiAgcmVhZDogZnVuY3Rpb24gKGZpbGVQYXRoKSB7XHJcbiAgICBsZXQgZnMgPSB0aGlzLmZzXHJcbiAgICBmaWxlUGF0aCA9IHRoaXMucmVzb2x2ZUZpbGVTeXN0ZW1VcmwoZmlsZVBhdGgpXHJcbiAgICBmaWxlUGF0aCA9IHRoaXMucGFyc2VQYXRoKGZpbGVQYXRoKVxyXG4gICAgLy8gY29uc29sZS5sb2coWydyZWFkJywgZmlsZVBhdGhdKVxyXG4gICAgLy9sZXQgZXJyb3JIYW5kbGVyID0gdGhpcy5lcnJvckhhbmRsZXJcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblxyXG4gICAgICBsZXQgZXJyb3JIYW5kbGVyID0gKGUpID0+IHtcclxuICAgICAgICBpZiAoZS5jb2RlID09PSA4KSB7XHJcbiAgICAgICAgICAvLyBFcnJvciBjb2RlOiA4XHJcbiAgICAgICAgICAvLyBOYW1lOiBOb3RGb3VuZEVycm9yXHJcbiAgICAgICAgICAvLyBNZXNzYWdlOiBBIHJlcXVlc3RlZCBmaWxlIG9yIGRpcmVjdG9yeSBjb3VsZCBub3QgYmUgZm91bmQgYXQgdGhlIHRpbWUgYW4gb3BlcmF0aW9uIHdhcyBwcm9jZXNzZWQuXHJcblxyXG4gICAgICAgICAgLy9jb25zb2xlLmxvZygnRmlsZSBub3QgZm91bmQ6ICcgKyBmaWxlUGF0aClcclxuICAgICAgICAgIC8vIHRyaWdnZXJDYWxsYmFjayhjYWxsYmFjaylcclxuICAgICAgICAgIHJldHVybiByZWplY3QoJ0ZpbGUgbm90IGZvdW5kOiAnICsgZmlsZVBhdGgpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgLy8gdGhpcy5lcnJvckhhbmRsZXIoZSlcclxuICAgICAgICAgIHJldHVybiByZWplY3QoZSlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgZnMucm9vdC5nZXRGaWxlKGZpbGVQYXRoLCB7fSwgKGZpbGVFbnRyeSkgPT4ge1xyXG5cclxuICAgICAgICAvLyBHZXQgYSBGaWxlIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIGZpbGUsXHJcbiAgICAgICAgLy8gdGhlbiB1c2UgRmlsZVJlYWRlciB0byByZWFkIGl0cyBjb250ZW50cy5cclxuICAgICAgICBmaWxlRW50cnkuZmlsZSgoZmlsZSkgPT4ge1xyXG4gICAgICAgICAgbGV0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcblxyXG4gICAgICAgICAgcmVhZGVyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIC8vdmFyIHR4dEFyZWEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpO1xyXG4gICAgICAgICAgICAvL3R4dEFyZWEudmFsdWUgPSB0aGlzLnJlc3VsdDtcclxuICAgICAgICAgICAgLy9kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHR4dEFyZWEpO1xyXG5cclxuICAgICAgICAgICAgLy8gaWYgKHR5cGVvZihjYWxsYmFjaykgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgLy8gICBjYWxsYmFjayh0aGlzLnJlc3VsdClcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICByZXNvbHZlKHRoaXMucmVzdWx0KVxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICBpZiAodGhpcy5pc1BsYWluVGV4dChmaWxlUGF0aCkpIHtcclxuICAgICAgICAgICAgcmVhZGVyLnJlYWRBc1RleHQoZmlsZSlcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sIGVycm9ySGFuZGxlcik7XHJcblxyXG4gICAgICB9LCBlcnJvckhhbmRsZXIpO1xyXG4gICAgfSlcclxuICB9LFxyXG4gIHJlYWRCYXNlNjQ6IGFzeW5jIGZ1bmN0aW9uIChmaWxlUGF0aCkge1xyXG4gICAgbGV0IHVyaSA9IGF3YWl0IHRoaXMucmVhZChmaWxlUGF0aClcclxuICAgIGxldCBpZHggPSB1cmkuaW5kZXhPZignYmFzZTY0LCcpICsgJ2Jhc2U2NCwnLmxlbmd0aFxyXG4gICAgbGV0IGJhc2U2NCA9IHVyaS5zdWJzdHJpbmcoaWR4KVxyXG4gICAgcmV0dXJuIGJhc2U2NFxyXG4gIH0sXHJcbiAgd3JpdGVGcm9tRmlsZTogZnVuY3Rpb24gKGRpclBhdGgsIGZpbGVzLCBmaWxlbmFtZSkge1xyXG4gICAgLy8gaWYgKEluaXRIZWxwZXIucmVhZHkgPT09IGZhbHNlKSB7XHJcbiAgICBpZiAoIXRoaXMuZnMpIHtcclxuICAgICAgY29uc29sZS5sb2coJ3dhaXQgaW5pdCByZWFkeScpXHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIC8vIGlmICh0eXBlb2YgKGZpbGVuYW1lKSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgLy8gICBjYWxsYmFjayA9IGZpbGVuYW1lXHJcbiAgICAvLyAgIGZpbGVuYW1lID0gbnVsbFxyXG4gICAgLy8gfVxyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIGxldCBvdXRwdXQgPSBbXVxyXG4gICAgICAvL2NvbnNvbGUubG9nKHR5cGVvZihmaWxlcy5uYW1lKSlcclxuICAgICAgaWYgKHR5cGVvZiAoZmlsZXMubmFtZSkgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgLy9pZiAoZmlsZXMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgIGxldCBsaXN0ID0gYXdhaXQgdGhpcy53cml0ZUZyb21GaWxlKGRpclBhdGgsIFtmaWxlc10sIGZpbGVuYW1lKVxyXG4gICAgICAgIHJldHVybiByZXNvbHZlKGxpc3RbMF0pXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIGxldCBmcyA9IHRoaXMuZnNcclxuICAgICAgLy8gbGV0IGVycm9ySGFuZGxlciA9IChlKSA9PiB7XHJcbiAgICAgIC8vICAgLy8gdGhpcy5lcnJvckhhbmRsZXIoZSlcclxuICAgICAgLy8gICByZXR1cm4gcmVqZWN0KGUpXHJcbiAgICAgIC8vIH1cclxuXHJcbiAgICAgIGF3YWl0IHRoaXMuY3JlYXRlRGlyKGRpclBhdGgpXHJcblxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpbGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgbGV0IGZpbGUgPSBmaWxlc1tpXVxyXG4gICAgICAgIC8vY29uc29sZS5sb2coZmlsZS5uYW1lKVxyXG4gICAgICAgIGxldCBzcGVjaWZpY0ZpbGVuYW1lID0gZmlsZW5hbWVcclxuICAgICAgICBpZiAoc3BlY2lmaWNGaWxlbmFtZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgc3BlY2lmaWNGaWxlbmFtZSA9IGZpbGUubmFtZVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9maWxlbmFtZSA9IHRoaXMuZmlsdGVyU2FmZUZpbGVuYW1lKGZpbGVuYW1lKVxyXG4gICAgICAgIHNwZWNpZmljRmlsZW5hbWUgPSB0aGlzLmV4dHJhY3RTYWZlRmlsZW5hbWUoc3BlY2lmaWNGaWxlbmFtZSlcclxuXHJcbiAgICAgICAgbGV0IGJhc2VGaWxlUGF0aCA9IGRpclBhdGggKyBmaWxlbmFtZVxyXG5cclxuICAgICAgICBsZXQgdXJsID0gYXdhaXQgdGhpcy53cml0ZUZpbGUoYmFzZUZpbGVQYXRoKVxyXG4gICAgICAgIG91dHB1dC5wdXNoKHVybClcclxuXHJcbiAgICAgICAgaWYgKGZpbGVuYW1lKSB7XHJcbiAgICAgICAgICBicmVha1xyXG4gICAgICAgIH1cclxuICAgICAgfSAvLyBmb3IgKGxldCBpID0gMDsgaSA8IGZpbGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHJlc29sdmUob3V0cHV0KVxyXG4gICAgfSlcclxuXHJcblxyXG5cclxuICB9LFxyXG4gIHdyaXRlRmlsZShmaWxlUGF0aCwgZmlsZSwgZHVwQ291bnQgPSAwKSB7XHJcblxyXG4gICAgaWYgKGZpbGVQYXRoLnN0YXJ0c1dpdGgoJy4vJykpIHtcclxuICAgICAgZmlsZVBhdGggPSBmaWxlUGF0aC5zbGljZSgyKVxyXG4gICAgfVxyXG4gICAgaWYgKGZpbGVQYXRoLnN0YXJ0c1dpdGgoJy8nKSkge1xyXG4gICAgICBmaWxlUGF0aCA9IGZpbGVQYXRoLnNsaWNlKDEpXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHRoaXMuYmFzZSAhPT0gJycgJiYgZmlsZVBhdGguc3RhcnRzV2l0aCgnLycgKyB0aGlzLmJhc2UgKyAnLycpID09PSBmYWxzZSkge1xyXG4gICAgICBmaWxlUGF0aCA9ICcvJyArIHRoaXMuYmFzZSArICcvJyArIGZpbGVQYXRoXHJcbiAgICB9XHJcblxyXG4gICAgLy8gZmlsZVBhdGggPSAnL3RtcC50eHQnXHJcbiAgICAvLyBjb25zb2xlLmxvZygnZ28gd3JpdGUgZmlsZScsIGZpbGVQYXRoKVxyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIGF3YWl0IHRoaXMuY3JlYXRlRGlyKGZpbGVQYXRoKVxyXG5cclxuICAgICAgdGhpcy5mcy5yb290LmdldEZpbGUoZmlsZVBhdGgsIHtcclxuICAgICAgICBjcmVhdGU6IHRydWUsIGV4Y2x1c2l2ZTogdHJ1ZVxyXG4gICAgICB9LCAoZmlsZUVudHJ5KSA9PiB7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhmaWxlUGF0aClcclxuICAgICAgICBmaWxlRW50cnkuY3JlYXRlV3JpdGVyKGZ1bmN0aW9uIChmaWxlV3JpdGVyKSB7XHJcbiAgICAgICAgICAvL2NvbnNvbGUubG9nKGZpbGUubmFtZSlcclxuICAgICAgICAgIGZpbGVXcml0ZXIud3JpdGUoZmlsZSk7IC8vIE5vdGU6IHdyaXRlKCkgY2FuIHRha2UgYSBGaWxlIG9yIEJsb2Igb2JqZWN0LlxyXG5cclxuICAgICAgICAgIGxldCB1cmwgPSBmaWxlRW50cnkudG9VUkwoKVxyXG4gICAgICAgICAgLy8gb3V0cHV0LnB1c2godXJsKVxyXG5cclxuICAgICAgICAgIHJlc29sdmUodXJsKVxyXG4gICAgICAgIH0sIHJlamVjdCk7XHJcbiAgICAgIH0sIGFzeW5jIChlKSA9PiB7XHJcbiAgICAgICAgaWYgKGUuY29kZSA9PT0gMTMpIHtcclxuICAgICAgICAgIC8vIGNvZGU6IDEzXHJcbiAgICAgICAgICAvLyBtZXNzYWdlOiBcIkFuIGF0dGVtcHQgd2FzIG1hZGUgdG8gY3JlYXRlIGEgZmlsZSBvciBkaXJlY3Rvcnkgd2hlcmUgYW4gZWxlbWVudCBhbHJlYWR5IGV4aXN0cy5cIlxyXG4gICAgICAgICAgLy8gbmFtZTogXCJJbnZhbGlkTW9kaWZpY2F0aW9uRXJyb3JcIlxyXG4gICAgICAgICAgZHVwQ291bnQrK1xyXG5cclxuICAgICAgICAgIGxldCByZWcgPSAvX1swLTldK1xcLlthLXpBLVowLTldKyQvXHJcbiAgICAgICAgICBpZiAocmVnLnRlc3QoZmlsZVBhdGgpKSB7XHJcbiAgICAgICAgICAgIGxldCBwYXRoUGFydDEgPSBmaWxlUGF0aC5zbGljZSgwLCBmaWxlUGF0aC5sYXN0SW5kZXhPZignXycpKVxyXG4gICAgICAgICAgICBsZXQgcGF0aFBhcnQyID0gZmlsZVBhdGguc2xpY2UoZmlsZVBhdGgubGFzdEluZGV4T2YoJy4nKSlcclxuICAgICAgICAgICAgZmlsZVBhdGggPSBwYXRoUGFydDEgKyAnXycgKyBkdXBDb3VudCArIHBhdGhQYXJ0MlxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBwYXRoUGFydDEgPSBmaWxlUGF0aC5zbGljZSgwLCBmaWxlUGF0aC5sYXN0SW5kZXhPZignLicpKVxyXG4gICAgICAgICAgICBsZXQgcGF0aFBhcnQyID0gZmlsZVBhdGguc2xpY2UoZmlsZVBhdGgubGFzdEluZGV4T2YoJy4nKSlcclxuICAgICAgICAgICAgZmlsZVBhdGggPSBwYXRoUGFydDEgKyAnXycgKyBkdXBDb3VudCArIHBhdGhQYXJ0MlxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgIGxldCB1cmwgPSBhd2FpdCB0aGlzLndyaXRlRmlsZShmaWxlUGF0aCwgZmlsZSwgZHVwQ291bnQpXHJcbiAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh1cmwpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgLy8gY29uc29sZS5sb2coJ2Vycm9yMicsIGUpXHJcbiAgICAgICAgICAvLyB0aGlzLmVycm9ySGFuZGxlcihlKVxyXG4gICAgICAgICAgcmV0dXJuIHJlamVjdChlKVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KVxyXG4gIH0sXHJcbiAgd3JpdGVGaWxlUmVwbGFjZTogYXN5bmMgZnVuY3Rpb24gKGZpbGVQYXRoLCBmaWxlKSB7XHJcbiAgICBjb25zb2xlLmxvZygnd3JpdGVGaWxlUmVwbGFjZScsIGZpbGVQYXRoKVxyXG4gICAgYXdhaXQgdGhpcy5yZW1vdmUoZmlsZVBhdGgpXHJcbiAgICByZXR1cm4gYXdhaXQgdGhpcy53cml0ZUZpbGUoZmlsZVBhdGgsIGZpbGUpXHJcbiAgfSxcclxuICBwYXJzZVBhdGggKHBhdGgpIHtcclxuICAgIGlmICh0eXBlb2YocGF0aCkgPT09ICdudW1iZXInKSB7XHJcbiAgICAgIHBhdGggPSBTdHJpbmcocGF0aClcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBwYXRoID0gZGVjb2RlVVJJQ29tcG9uZW50KHBhdGgpXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHBhdGguc3RhcnRzV2l0aCgnLi8nKSkge1xyXG4gICAgICBwYXRoID0gcGF0aC5zbGljZSgxKVxyXG4gICAgfVxyXG5cclxuICAgIGlmICghcGF0aC5zdGFydHNXaXRoKCcvJykpIHtcclxuICAgICAgcGF0aCA9ICcvJyArIHBhdGhcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5iYXNlICE9PSAnJyAmJiBwYXRoLnN0YXJ0c1dpdGgoJy8nICsgdGhpcy5iYXNlICsgJy8nKSA9PT0gZmFsc2UpIHtcclxuICAgICAgcGF0aCA9ICcvJyArIHRoaXMuYmFzZSArICcvJyArIHBhdGhcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcGF0aFxyXG4gIH0sXHJcbiAgcmVtb3ZlOiBmdW5jdGlvbiAocGF0aCkge1xyXG4gICAgLy8gaWYgKEluaXRIZWxwZXIucmVhZHkgPT09IGZhbHNlKSB7XHJcbiAgICBpZiAoIXRoaXMuZnMpIHtcclxuICAgICAgY29uc29sZS5sb2coJ3dhaXQgaW5pdCByZWFkeScpXHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGxldCBmcyA9IHRoaXMuZnNcclxuICAgIHBhdGggPSB0aGlzLnBhcnNlUGF0aChwYXRoKVxyXG4gICAgLy9sZXQgZXJyb3JIYW5kbGVyID0gdGhpcy5lcnJvckhhbmRsZXJcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblxyXG4gICAgICBsZXQgZXJyb3JIYW5kbGVyID0gKGUpID0+IHtcclxuICAgICAgICAvL2xldCBsaW5rID0gdGhpcy5nZXRGaWxlU3lzdGVtVXJsKHBhdGgpXHJcbiAgICAgICAgLy9lLm1lc3NhZ2UgPSBlLm1lc3NhZ2UgKyBgPGEgaHJlZj1cIiR7bGlua31cIiB0YXJnZXQ9XCJfYmxhbmtcIj4ke3BhdGh9PC9hPmBcclxuICAgICAgICAvL2NvbnNvbGUudHJhY2UoSlNPTi5zdHJpbmdpZnkoZSkpXHJcbiAgICAgICAgdGhpcy5lcnJvckhhbmRsZXIoZS5tZXNzYWdlKVxyXG4gICAgICAgIC8vIHRyaWdnZXJDYWxsYmFjayhjYWxsYmFjaylcclxuICAgICAgICByZXR1cm4gcmVzb2x2ZSgpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZzLnJvb3QuZ2V0RmlsZShwYXRoLCB7IGNyZWF0ZTogZmFsc2UgfSwgKGZpbGVFbnRyeSkgPT4ge1xyXG4gICAgICAgIGZpbGVFbnRyeS5yZW1vdmUocmVzb2x2ZSwgZXJyb3JIYW5kbGVyKVxyXG4gICAgICB9LCBlcnJvckhhbmRsZXIpXHJcbiAgICB9KVxyXG5cclxuICB9LFxyXG4gIGdldEZpbGVOYW1lOiBmdW5jdGlvbiAodXJsKSB7XHJcbiAgICBpZiAodXJsLmxhc3RJbmRleE9mKCcvJykgPiAtMSkge1xyXG4gICAgICB1cmwgPSB1cmwuc2xpY2UodXJsLmxhc3RJbmRleE9mKCcvJykgKyAxKVxyXG4gICAgfVxyXG4gICAgLy91cmwgPSB0aGlzLmZpbHRlclNhZmVGaWxlbmFtZSh1cmwpXHJcbiAgICB1cmwgPSB0aGlzLmV4dHJhY3RTYWZlRmlsZW5hbWUodXJsKVxyXG4gICAgcmV0dXJuIHVybFxyXG4gIH0sXHJcbiAgaXNFeGlzdHM6IGZ1bmN0aW9uIChmaWxlUGF0aCkge1xyXG4gICAgaWYgKGZpbGVQYXRoID09PSAnLycpIHtcclxuICAgICAgLy8gcmV0dXJuIHRyaWdnZXJDYWxsYmFjayhjYWxsYmFjaywgdHJ1ZSlcclxuICAgICAgcmV0dXJuIHRydWVcclxuICAgIH1cclxuXHJcbiAgICBsZXQgZnMgPSB0aGlzLmZzXHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgbGV0IGVycm9ySGFuZGxlciA9IChlKSA9PiB7XHJcbiAgICAgICAgZnMucm9vdC5nZXREaXJlY3RvcnkoZmlsZVBhdGgsXHJcbiAgICAgICAgICB7IGNyZWF0ZTogZmFsc2UgfSxcclxuICAgICAgICAgIChkaXJFbnRyeSkgPT4ge1xyXG4gICAgICAgICAgICAvLyB0cmlnZ2VyQ2FsbGJhY2soY2FsbGJhY2ssIHRydWUpXHJcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHRydWUpXHJcbiAgICAgICAgICB9LCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIHRyaWdnZXJDYWxsYmFjayhjYWxsYmFjaywgZmFsc2UpXHJcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGZhbHNlKVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZzLnJvb3QuZ2V0RmlsZShmaWxlUGF0aCwge30sIChmaWxlRW50cnkpID0+IHtcclxuXHJcbiAgICAgICAgLy8gR2V0IGEgRmlsZSBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBmaWxlLFxyXG4gICAgICAgIC8vIHRoZW4gdXNlIEZpbGVSZWFkZXIgdG8gcmVhZCBpdHMgY29udGVudHMuXHJcbiAgICAgICAgZmlsZUVudHJ5LmZpbGUoKGZpbGUpID0+IHtcclxuICAgICAgICAgIC8vIHRyaWdnZXJDYWxsYmFjayhjYWxsYmFjaywgdHJ1ZSlcclxuICAgICAgICAgIHJldHVybiByZXNvbHZlKHRydWUpXHJcbiAgICAgICAgfSwgZXJyb3JIYW5kbGVyKTtcclxuXHJcbiAgICAgIH0sIGVycm9ySGFuZGxlcik7XHJcbiAgICB9KVxyXG4gICAgICBcclxuICB9LFxyXG4gIGdldEZpbGVTeXN0ZW1Vcmw6IGZ1bmN0aW9uIChwYXRoKSB7XHJcbiAgICBsZXQgZnNUeXBlID0gJ3RlbXBvcmFyeSdcclxuICAgIGlmICh0aGlzLnR5cGUgIT09IHdpbmRvdy5URU1QT1JBUlkpIHtcclxuICAgICAgZnNUeXBlID0gJ3BlcnNpc3RlbnQnXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHBhdGguc3RhcnRzV2l0aCgnLycpID09PSBmYWxzZSkge1xyXG4gICAgICBwYXRoID0gJy8nICsgcGF0aFxyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuYmFzZSAhPT0gJycgJiYgXHJcbiAgICAgIHBhdGguc3RhcnRzV2l0aCgnLycgKyB0aGlzLmJhc2UpID09PSBmYWxzZSkge1xyXG4gICAgICBwYXRoID0gJy8nICsgdGhpcy5iYXNlICsgcGF0aFxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAnZmlsZXN5c3RlbTonICsgbG9jYXRpb24ucHJvdG9jb2wgKyAnLy8nICsgbG9jYXRpb24uaG9zdCArICcvJyArIGZzVHlwZSArIHBhdGhcclxuICB9LFxyXG4gIHJlc29sdmVGaWxlU3lzdGVtVXJsOiBmdW5jdGlvbiAocGF0aCkge1xyXG4gICAgaWYgKHBhdGguc3RhcnRzV2l0aCgnZmlsZXN5c3RlbTonKSkge1xyXG4gICAgICBsZXQgcGFydHMgPSBwYXRoLnNwbGl0KCcvJylcclxuICAgICAgcGF0aCA9ICcvJyArIHBhcnRzLnNsaWNlKDQpLmpvaW4oJy8nKVxyXG4gICAgfVxyXG4gICAgcGF0aCA9IGRlY29kZVVSSUNvbXBvbmVudChwYXRoKVxyXG4gICAgcmV0dXJuIHBhdGhcclxuICB9LFxyXG4gIGJhc2VuYW1lOiBmdW5jdGlvbiAocGF0aCkge1xyXG4gICAgcGF0aCA9IHRoaXMucmVzb2x2ZUZpbGVTeXN0ZW1VcmwocGF0aClcclxuICAgIGlmIChwYXRoLmxhc3RJbmRleE9mKCcvJykgPiAtMSkge1xyXG4gICAgICBwYXRoID0gcGF0aC5zbGljZShwYXRoLmxhc3RJbmRleE9mKCcvJykgKyAxKVxyXG4gICAgICB9XHJcbiAgICByZXR1cm4gcGF0aFxyXG4gIH0sXHJcbiAgLy8gcmVhZEV2ZW50RmlsZXNUZXh0OiBmdW5jdGlvbiAoZmlsZXMpIHtcclxuICAvLyAgIC8vY29uc29sZS5sb2codHlwZW9mKGZpbGVzLm5hbWUpKVxyXG4gIC8vICAgbGV0IGlzQXJyYXkgPSB0cnVlXHJcbiAgLy8gICBpZiAodHlwZW9mIChmaWxlcy5uYW1lKSA9PT0gJ3N0cmluZycpIHtcclxuICAvLyAgICAgLy9pZiAoZmlsZXMubGVuZ3RoID4gMSkge1xyXG4gIC8vICAgICBmaWxlcyA9IFtmaWxlc11cclxuICAvLyAgICAgaXNBcnJheSA9IGZhbHNlXHJcbiAgLy8gICB9XHJcblxyXG4gIC8vICAgbGV0IG91dHB1dCA9IFtdXHJcbiAgLy8gICBsZXQgaSA9IDBcclxuXHJcbiAgLy8gICBsZXQgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuXHJcbiAgLy8gICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gIC8vICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgLy8gICAgICAgbGV0IHJlc3VsdCA9IGV2ZW50LnRhcmdldC5yZXN1bHRcclxuICAvLyAgICAgICBvdXRwdXQucHVzaChyZXN1bHQpXHJcbiAgLy8gICAgICAgaSsrXHJcbiAgLy8gICAgICAgbG9vcChpKVxyXG4gIC8vICAgICB9O1xyXG5cclxuICAvLyAgICAgbGV0IGxvb3AgPSAoaSkgPT4ge1xyXG4gIC8vICAgICAgIGlmIChpIDwgZmlsZXMubGVuZ3RoKSB7XHJcbiAgLy8gICAgICAgICBsZXQgZmlsZSA9IGZpbGVzW2ldXHJcbiAgLy8gICAgICAgICAvL2NvbnNvbGUubG9nKGZpbGUpO1xyXG4gIC8vICAgICAgICAgLy9yZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcclxuICAvLyAgICAgICAgIHJlYWRlci5yZWFkQXNUZXh0KGZpbGUpXHJcbiAgLy8gICAgICAgfVxyXG4gIC8vICAgICAgIGVsc2Uge1xyXG4gIC8vICAgICAgICAgaWYgKGlzQXJyYXkgPT09IGZhbHNlKSB7XHJcbiAgLy8gICAgICAgICAgIG91dHB1dCA9IG91dHB1dFswXVxyXG4gIC8vICAgICAgICAgfVxyXG4gIC8vICAgICAgICAgLy8gdHJpZ2dlckNhbGxiYWNrKGNhbGxiYWNrLCBvdXRwdXQpXHJcbiAgLy8gICAgICAgICByZXNvbHZlKG91dHB1dClcclxuICAvLyAgICAgICB9XHJcbiAgLy8gICAgIH1cclxuICAvLyAgICAgbG9vcChpKVxyXG4gIC8vICAgfSlcclxuXHJcbiAgICAgIFxyXG4gIC8vIH0sXHJcbiAgLy8gc3RyaXBBc3NldEZpbGVTeXN0ZW1QcmVmaXg6IGZ1bmN0aW9uICh1cmwpIHtcclxuICAvLyAgIGlmICh1cmwgPT09IG51bGwgfHwgXHJcbiAgLy8gICAgIHR5cGVvZiAodXJsKSAhPT0gJ3N0cmluZycgfHwgXHJcbiAgLy8gICAgICF1cmwuc3RhcnRzV2l0aCgnZmlsZXN5c3RlbTonKSB8fCBcclxuICAvLyAgICAgdXJsLmxhc3RJbmRleE9mKCcvYXNzZXRzLycpID09PSAtMSkge1xyXG4gIC8vICAgICByZXR1cm4gdXJsXHJcbiAgLy8gICB9XHJcblxyXG4gIC8vICAgcmV0dXJuIHVybC5zbGljZSh1cmwubGFzdEluZGV4T2YoJy9hc3NldHMvJykgKyAxKVxyXG5cclxuICAvLyB9LFxyXG4gIC8vIGFwcGVuZEFzc2V0RmlsZVN5c3RlbVByZWZpeDogZnVuY3Rpb24gKHVybCwgcG9zdElkKSB7XHJcbiAgLy8gICBpZiAodHlwZW9mICh1cmwpICE9PSAnc3RyaW5nJykge1xyXG4gIC8vICAgICByZXR1cm4gJydcclxuICAvLyAgIH1cclxuXHJcbiAgLy8gICBpZiAodGhpcy5jdXJyZW50QmFzZVVybCA9PT0gbnVsbCkge1xyXG4gIC8vICAgICBsZXQgY3VycmVudEJhc2VVcmwgPSBsb2NhdGlvbi5ocmVmXHJcbiAgLy8gICAgIHRoaXMuY3VycmVudEJhc2VVcmwgPSBjdXJyZW50QmFzZVVybC5zbGljZSgwLCBjdXJyZW50QmFzZVVybC5sYXN0SW5kZXhPZignLycpICsgMSlcclxuICAvLyAgIH1cclxuXHJcbiAgLy8gICAvL2NvbnNvbGUubG9nKFsnZmlsdGVySW1hZ2VMaXN0VG9GaWxlU3lzdGVtIHVybCAxOicsIHVybF0pXHJcbiAgLy8gICBpZiAodXJsLnN0YXJ0c1dpdGgodGhpcy5jdXJyZW50QmFzZVVybCkgPT09IGZhbHNlICYmIFxyXG4gIC8vICAgICAodXJsLnN0YXJ0c1dpdGgoJy8vJykgfHwgdXJsLnN0YXJ0c1dpdGgoJ2h0dHA6Ly8nKSB8fCB1cmwuc3RhcnRzV2l0aCgnaHR0cHM6Ly8nKSkpIHtcclxuICAvLyAgICAgcmV0dXJuIHVybFxyXG4gIC8vICAgfVxyXG4gIC8vICAgLy8gZmlsZXN5c3RlbTpodHRwOi8vbG9jYWxob3N0OjgzODMvdGVtcG9yYXJ5LzIvYXNzZXRzLzIwMTktMDQwNi0wNjIxMDcucG5nXHJcbiAgLy8gICB1cmwgPSB1cmwuc2xpY2UodXJsLmxhc3RJbmRleE9mKCcvYXNzZXRzLycpICsgMSlcclxuICAvLyAgIHVybCA9IGAvJHtwb3N0SWR9LyR7dXJsfWBcclxuICAvLyAgIC8vY29uc29sZS5sb2coWydmaWx0ZXJJbWFnZUxpc3RUb0ZpbGVTeXN0ZW0gdXJsIDI6JywgdGhpcy5nZXRGaWxlU3lzdGVtVXJsKHVybCldKVxyXG4gIC8vICAgcmV0dXJuIHRoaXMuZ2V0RmlsZVN5c3RlbVVybCh1cmwpXHJcbiAgLy8gfSxcclxuICBzdGF0c3RpY1F1b3RhVXNhZ2U6IGZ1bmN0aW9uICgpIHtcclxuICAgIGxldCBzdG9yYWdlID0gbmF2aWdhdG9yLndlYmtpdFRlbXBvcmFyeVN0b3JhZ2VcclxuICAgIGlmICh0aGlzLnR5cGUgPT09IHdpbmRvdy5QRVJTSVNURU5UKSB7XHJcbiAgICAgIHN0b3JhZ2UgPSBuYXZpZ2F0b3Iud2Via2l0UGVyc2lzdGVudFN0b3JhZ2VcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBzdG9yYWdlLnF1ZXJ5VXNhZ2VBbmRRdW90YSgocXVvdGVVc2VkLCBxdW90YVRvdGFsKSA9PiB7XHJcbiAgICAgICAgLy8gdHJpZ2dlckNhbGxiYWNrKGNhbGxiYWNrLCBxdW90ZVVzZWQsIHF1b3RhVG90YWwpXHJcbiAgICAgICAgcmVzb2x2ZSh7cXVvdGVVc2VkLCBxdW90YVRvdGFsfSlcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgICAgIFxyXG4gIH0sXHJcbiAgX2xpc3Q6IGZ1bmN0aW9uIChwYXRoKSB7XHJcbiAgICBsZXQgZnMgPSB0aGlzLmZzXHJcblxyXG4gICAgcGF0aCA9IHRoaXMucGFyc2VQYXRoKHBhdGgpXHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgbGV0IGVycm9ySGFuZGxlciA9IChlKSA9PiB7XHJcbiAgICAgICAgaWYgKGUuY29kZSA9PT0gOCkge1xyXG4gICAgICAgICAgLy8gRXJyb3IgY29kZTogOFxyXG4gICAgICAgICAgLy8gTmFtZTogTm90Rm91bmRFcnJvclxyXG4gICAgICAgICAgLy8gTWVzc2FnZTogQSByZXF1ZXN0ZWQgZmlsZSBvciBkaXJlY3RvcnkgY291bGQgbm90IGJlIGZvdW5kIGF0IHRoZSB0aW1lIGFuIG9wZXJhdGlvbiB3YXMgcHJvY2Vzc2VkLlxyXG4gICAgICAgICAgLy8gY29uc29sZS5sb2coJ2xpc3Qgbm90IGZvdW5kOiAnICsgcGF0aClcclxuICAgICAgICAgIC8vIHRyaWdnZXJDYWxsYmFjayhjYWxsYmFjaylcclxuICAgICAgICAgIHJlamVjdCgnbGlzdCBub3QgZm91bmQ6ICcgKyBwYXRoKVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIC8vIHRoaXMuZXJyb3JIYW5kbGVyKGUpXHJcbiAgICAgICAgICByZWplY3QoZSlcclxuICAgICAgICB9XHJcbiAgICAgIH0gXHJcbiAgICAgIGxldCBmaWxlTGlzdCA9IFtdXHJcbiAgICAgIGZzLnJvb3QuZ2V0RGlyZWN0b3J5KHBhdGgsIHt9LCAoZGlyRW50cnkpID0+IHtcclxuICAgICAgICB2YXIgZGlyUmVhZGVyID0gZGlyRW50cnkuY3JlYXRlUmVhZGVyKClcclxuICAgICAgICBkaXJSZWFkZXIucmVhZEVudHJpZXMoKGVudHJpZXMpID0+IHtcclxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZW50cmllcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2ldXHJcbiAgICAgICAgICAgIGlmIChlbnRyeS5pc0ZpbGUpIHtcclxuICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdGaWxlOiAnICsgZW50cnkuZnVsbFBhdGgpO1xyXG4gICAgICAgICAgICAgIGZpbGVMaXN0LnB1c2goZW50cnkuZnVsbFBhdGgpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC8vIHRyaWdnZXJDYWxsYmFjayhjYWxsYmFjaywgZmlsZUxpc3QpXHJcbiAgICAgICAgICByZXR1cm4gcmVzb2x2ZShmaWxlTGlzdClcclxuICAgICAgICB9LCBlcnJvckhhbmRsZXIpXHJcbiAgICAgIH0sIGVycm9ySGFuZGxlcilcclxuICAgIH0pXHJcblxyXG4gIH0sXHJcbiAgZ2V0IGxpc3QoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fbGlzdFxyXG4gIH0sXHJcbiAgc2V0IGxpc3QodmFsdWUpIHtcclxuICAgIHRoaXMuX2xpc3QgPSB2YWx1ZVxyXG4gIH0sXHJcbiAgY29weTogZnVuY3Rpb24gKG9sZFBhdGgsIG5ld1BhdGgpIHtcclxuICAgIGxldCBmcyA9IHRoaXMuZnNcclxuICAgIG9sZFBhdGggPSB0aGlzLnJlc29sdmVGaWxlU3lzdGVtVXJsKG9sZFBhdGgpXHJcbiAgICBuZXdQYXRoID0gdGhpcy5yZXNvbHZlRmlsZVN5c3RlbVVybChuZXdQYXRoKVxyXG4gICAgbGV0IG5ld1BhdGhEaXIgPSBuZXdQYXRoLnNsaWNlKDAsIG5ld1BhdGgubGFzdEluZGV4T2YoJy8nKSlcclxuICAgIGxldCBuZXdOYW1lID0gbmV3UGF0aC5zbGljZShuZXdQYXRoLmxhc3RJbmRleE9mKCcvJykgKyAxKVxyXG4gICAgLy9jb25zb2xlLmxvZyhbJ3JlYWQnLCBmaWxlUGF0aF0pXHJcbiAgICAvL2xldCBlcnJvckhhbmRsZXIgPSB0aGlzLmVycm9ySGFuZGxlclxyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIGxldCBlcnJvckhhbmRsZXIgPSAoZSkgPT4ge1xyXG4gICAgICAgIGlmIChlLmNvZGUgPT09IDgpIHtcclxuICAgICAgICAgIC8vIEVycm9yIGNvZGU6IDhcclxuICAgICAgICAgIC8vIE5hbWU6IE5vdEZvdW5kRXJyb3JcclxuICAgICAgICAgIC8vIE1lc3NhZ2U6IEEgcmVxdWVzdGVkIGZpbGUgb3IgZGlyZWN0b3J5IGNvdWxkIG5vdCBiZSBmb3VuZCBhdCB0aGUgdGltZSBhbiBvcGVyYXRpb24gd2FzIHByb2Nlc3NlZC5cclxuXHJcbiAgICAgICAgICAvL2NvbnNvbGUubG9nKCdGaWxlIG5vdCBmb3VuZDogJyArIGZpbGVQYXRoKVxyXG4gICAgICAgICAgLy8gdHJpZ2dlckNhbGxiYWNrKGNhbGxiYWNrKVxyXG4gICAgICAgICAgcmVzb2x2ZSgpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgLy8gdGhpcy5lcnJvckhhbmRsZXIoZSlcclxuICAgICAgICAgIHJlamVjdChlKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBmcy5yb290LmdldEZpbGUob2xkUGF0aCwge30sIChmaWxlRW50cnkpID0+IHtcclxuICAgICAgICAvLyBHZXQgYSBGaWxlIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIGZpbGUsXHJcbiAgICAgICAgLy8gdGhlbiB1c2UgRmlsZVJlYWRlciB0byByZWFkIGl0cyBjb250ZW50cy5cclxuICAgICAgICBmcy5yb290LmdldERpcmVjdG9yeShuZXdQYXRoRGlyLCB7IGNyZWF0ZTogdHJ1ZSB9LCAoZGlyRW50cnkpID0+IHtcclxuICAgICAgICAgIGZpbGVFbnRyeS5jb3B5VG8oZGlyRW50cnksIG5ld05hbWUsIHJlc29sdmUsIGVycm9ySGFuZGxlcilcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgfSwgZXJyb3JIYW5kbGVyKTtcclxuICAgIH0pXHJcbiAgfSxcclxuICBtb3ZlOiBmdW5jdGlvbiAob2xkUGF0aCwgbmV3UGF0aCkge1xyXG4gICAgbGV0IGZzID0gdGhpcy5mc1xyXG4gICAgb2xkUGF0aCA9IHRoaXMucmVzb2x2ZUZpbGVTeXN0ZW1Vcmwob2xkUGF0aClcclxuICAgIG5ld1BhdGggPSB0aGlzLnJlc29sdmVGaWxlU3lzdGVtVXJsKG5ld1BhdGgpXHJcbiAgICBsZXQgbmV3UGF0aERpciA9IG5ld1BhdGguc2xpY2UoMCwgbmV3UGF0aC5sYXN0SW5kZXhPZignLycpKVxyXG4gICAgbGV0IG5ld05hbWUgPSBuZXdQYXRoLnNsaWNlKG5ld1BhdGgubGFzdEluZGV4T2YoJy8nKSArIDEpXHJcbiAgICAvL2NvbnNvbGUubG9nKFsncmVhZCcsIGZpbGVQYXRoXSlcclxuICAgIC8vbGV0IGVycm9ySGFuZGxlciA9IHRoaXMuZXJyb3JIYW5kbGVyXHJcblxyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgbGV0IGVycm9ySGFuZGxlciA9IChlKSA9PiB7XHJcbiAgICAgICAgaWYgKGUuY29kZSA9PT0gOCkge1xyXG4gICAgICAgICAgLy8gRXJyb3IgY29kZTogOFxyXG4gICAgICAgICAgLy8gTmFtZTogTm90Rm91bmRFcnJvclxyXG4gICAgICAgICAgLy8gTWVzc2FnZTogQSByZXF1ZXN0ZWQgZmlsZSBvciBkaXJlY3RvcnkgY291bGQgbm90IGJlIGZvdW5kIGF0IHRoZSB0aW1lIGFuIG9wZXJhdGlvbiB3YXMgcHJvY2Vzc2VkLlxyXG5cclxuICAgICAgICAgIC8vY29uc29sZS5sb2coJ0ZpbGUgbm90IGZvdW5kOiAnICsgZmlsZVBhdGgpXHJcbiAgICAgICAgICByZXR1cm4gcmVzb2x2ZSgpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgLy8gdGhpcy5lcnJvckhhbmRsZXIoZSlcclxuICAgICAgICAgIHJldHVybiByZWplY3QoZSlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgZnMucm9vdC5nZXRGaWxlKG9sZFBhdGgsIHt9LCAoZmlsZUVudHJ5KSA9PiB7XHJcbiAgICAgICAgLy8gR2V0IGEgRmlsZSBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBmaWxlLFxyXG4gICAgICAgIC8vIHRoZW4gdXNlIEZpbGVSZWFkZXIgdG8gcmVhZCBpdHMgY29udGVudHMuXHJcbiAgICAgICAgZnMucm9vdC5nZXREaXJlY3RvcnkobmV3UGF0aERpciwgeyBjcmVhdGU6IHRydWUgfSwgKGRpckVudHJ5KSA9PiB7XHJcbiAgICAgICAgICBmaWxlRW50cnkubW92ZVRvKGRpckVudHJ5LCBuZXdOYW1lLCByZXNvbHZlLCBlcnJvckhhbmRsZXIpXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgIH0sIGVycm9ySGFuZGxlcik7XHJcbiAgICB9KVxyXG4gIH0sXHJcbiAgc2xlZXA6IGZ1bmN0aW9uIChtcyA9IDUwMCkge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpO1xyXG4gIH0sXHJcbiAgZ2V0RmlsZU1ldGFkYXRhOiBhc3luYyBmdW5jdGlvbiAocGF0aCkge1xyXG4gICAgd2hpbGUgKCF0aGlzLmZzKSB7XHJcbiAgICAgIGF3YWl0IHRoaXMuc2xlZXAoMTAwKVxyXG4gICAgfVxyXG5cclxuICAgIHBhdGggPSB0aGlzLnBhcnNlUGF0aChwYXRoKVxyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgIHRoaXMuZnMucm9vdC5nZXRGaWxlKHBhdGgsIHt9LCAoZmlsZUVudHJ5KSA9PiB7XHJcbiAgICAgICAgZmlsZUVudHJ5LmdldE1ldGFkYXRhKCh7bW9kaWZpY2F0aW9uVGltZSwgc2l6ZX0pID0+IHtcclxuICAgICAgICAgIGxldCBzaXplTnVtYmVyID0gc2l6ZVxyXG4gICAgICAgICAgc2l6ZSA9IHRoaXMuaHVtYW5GaWxlU2l6ZShzaXplKVxyXG4gICAgICAgICAgbGV0IGZpbGVNSU1FID0gbWltZS5sb29rdXAocGF0aClcclxuICAgICAgICAgIGxldCBmaWxlTUlNRWljb24gPSBmaWxlTUlNRS5yZXBsYWNlKC9cXC8vZywgJy0nKVxyXG4gICAgICAgICAgcmVzb2x2ZSh7bW9kaWZpY2F0aW9uVGltZSwgc2l6ZSwgc2l6ZU51bWJlciwgbWltZTogZmlsZU1JTUUsIG1pbWVJY29uOiBmaWxlTUlNRWljb259KVxyXG4gICAgICAgIH0sIHJlamVjdClcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgfSxcclxuICAvKipcclxuICogRm9ybWF0IGJ5dGVzIGFzIGh1bWFuLXJlYWRhYmxlIHRleHQuXHJcbiAqIFxyXG4gKiBAcGFyYW0gYnl0ZXMgTnVtYmVyIG9mIGJ5dGVzLlxyXG4gKiBAcGFyYW0gc2kgVHJ1ZSB0byB1c2UgbWV0cmljIChTSSkgdW5pdHMsIGFrYSBwb3dlcnMgb2YgMTAwMC4gRmFsc2UgdG8gdXNlIFxyXG4gKiAgICAgICAgICAgYmluYXJ5IChJRUMpLCBha2EgcG93ZXJzIG9mIDEwMjQuXHJcbiAqIEBwYXJhbSBkcCBOdW1iZXIgb2YgZGVjaW1hbCBwbGFjZXMgdG8gZGlzcGxheS5cclxuICogXHJcbiAqIEByZXR1cm4gRm9ybWF0dGVkIHN0cmluZy5cclxuICovXHJcbiAgaHVtYW5GaWxlU2l6ZTogZnVuY3Rpb24gKGJ5dGVzLCBzaT1mYWxzZSwgZHA9MSkge1xyXG4gICAgY29uc3QgdGhyZXNoID0gc2kgPyAxMDAwIDogMTAyNDtcclxuXHJcbiAgICBpZiAoTWF0aC5hYnMoYnl0ZXMpIDwgdGhyZXNoKSB7XHJcbiAgICAgIHJldHVybiBieXRlcyArICcgQic7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdW5pdHMgPSBzaSBcclxuICAgICAgPyBbJ2tCJywgJ01CJywgJ0dCJywgJ1RCJywgJ1BCJywgJ0VCJywgJ1pCJywgJ1lCJ10gXHJcbiAgICAgIDogWydLaUInLCAnTWlCJywgJ0dpQicsICdUaUInLCAnUGlCJywgJ0VpQicsICdaaUInLCAnWWlCJ107XHJcbiAgICBsZXQgdSA9IC0xO1xyXG4gICAgY29uc3QgciA9IDEwKipkcDtcclxuXHJcbiAgICBkbyB7XHJcbiAgICAgIGJ5dGVzIC89IHRocmVzaDtcclxuICAgICAgKyt1O1xyXG4gICAgfSB3aGlsZSAoTWF0aC5yb3VuZChNYXRoLmFicyhieXRlcykgKiByKSAvIHIgPj0gdGhyZXNoICYmIHUgPCB1bml0cy5sZW5ndGggLSAxKTtcclxuXHJcblxyXG4gICAgcmV0dXJuIGJ5dGVzLnRvRml4ZWQoZHApICsgJyAnICsgdW5pdHNbdV07XHJcbiAgfSxcclxuICByZXNldDogYXN5bmMgZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKHRoaXMuYmFzZSAhPT0gJycpIHtcclxuICAgICAgYXdhaXQgdGhpcy5yZW1vdmVEaXIodGhpcy5iYXNlKVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIGxldCBsaXN0ID0gYXdhaXQgdGhpcy5saXN0KCcnKVxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBhd2FpdCB0aGlzLnJlbW92ZShsaXN0W2ldKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuICBwb3B1cFByZXZpZXc6IGFzeW5jIGZ1bmN0aW9uIChwYXRoKSB7XHJcbiAgICB3aGlsZSAoIXRoaXMuZnMpIHtcclxuICAgICAgYXdhaXQgdGhpcy5zbGVlcCgxMDApXHJcbiAgICB9XHJcblxyXG4gICAgcGF0aCA9IHRoaXMucGFyc2VQYXRoKHBhdGgpXHJcblxyXG4gICAgbGV0IHdpbmRvd05hbWUgPSAncG9wdXAnICsgKG5ldyBEYXRlKCkpLmdldFRpbWUoKVxyXG4gICAgbGV0IGJvZHlIVE1MID0gYFxyXG48ZGl2IHN0eWxlPVwiZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IFwiPlxyXG4gIDxpbWcgc3JjPVwiJHt0aGlzLmdldEZpbGVTeXN0ZW1VcmwocGF0aCl9XCIgLz5cclxuPC9kaXY+XHJcblxyXG48c3R5bGU+XHJcbmJvZHkgeyBwYWRkaW5nOiAwOyBoZWlnaHQ6IDEwMHZoOyB9XHJcbjwvc3R5bGU+YFxyXG4gICAgbGV0IHRpdGxlID0gdGhpcy5nZXRGaWxlTmFtZShwYXRoKVxyXG4gICAgbGV0IHNpemUgPSAnZnVsbHNjcmVlbicgLy8gJ2Z1bGxzY3JlZW4nLCAnbGVmdCcsICdyaWdodCdcclxuICAgIFxyXG4gICAgbGV0IHRvcCA9IDBcclxuICAgIGxldCBsZWZ0ID0gMFxyXG4gICAgbGV0IHdpZHRoID0gd2luZG93LnNjcmVlbi5hdmFpbFdpZHRoXHJcbiAgICBsZXQgaGVpZ2h0ID0gd2luZG93LnNjcmVlbi5hdmFpbEhlaWdodFxyXG4gICAgXHJcbiAgICBcclxuICAgIGlmIChzaXplID09PSAnbGVmdCcpIHtcclxuICAgICAgd2lkdGggPSBwYXJzZUludCh3aWR0aCAvIDIsIDEwKVxyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoc2l6ZSA9PT0gJ3JpZ2h0Jykge1xyXG4gICAgICB3aWR0aCA9IHBhcnNlSW50KHdpZHRoIC8gMiwgMTApXHJcbiAgICAgIGxlZnQgPSB3aWR0aFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBsZXQgcGFyYW1ldGVycyA9IFtcclxuICAgICAgJ3Rvb2xiYXI9bm8nLFxyXG4gICAgICAnbG9jYXRpb249bm8nLFxyXG4gICAgICAnc3RhdHVzPW5vJyxcclxuICAgICAgJ21lbnViYXI9bm8nLFxyXG4gICAgICAnc2Nyb2xsYmFycz15ZXMnLFxyXG4gICAgICAncmVzaXphYmxlPXllcycsXHJcbiAgICAgICd3aWR0aD0nICsgd2lkdGgsXHJcbiAgICAgICdoZWlnaHQ9JyArIGhlaWdodCxcclxuICAgICAgJ3RvcD0nICsgdG9wLFxyXG4gICAgICAnbGVmdD0nICsgbGVmdFxyXG4gICAgXVxyXG4gICAgLy9jb25zb2xlLmxvZyh3aW5kb3dOYW1lKVxyXG4gICAgbGV0IHdpbiA9IHdpbmRvdy5vcGVuKCcnLCB3aW5kb3dOYW1lLCBwYXJhbWV0ZXJzLmpvaW4oJywnKSlcclxuICAgIFxyXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICBcclxuICAgIGxldCBpc1JlYWR5ID0gZmFsc2VcclxuICAgIFxyXG4gICAgbGV0IGRvYyA9IHdpbi5kb2N1bWVudFxyXG4gICAgXHJcbiAgICBpZiAoYm9keUhUTUwpIHtcclxuICAgICAgZG9jLmJvZHkuaW5uZXJIVE1MID0gYm9keUhUTUxcclxuICAgICAgaXNSZWFkeSA9IHRydWVcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKHRpdGxlKSB7XHJcbiAgICAgIGRvYy50aXRsZSA9IHRpdGxlXHJcbiAgICB9XHJcbiAgICBcclxuICAgIHdpbi5zZXRIVE1MID0gKGh0bWwpID0+IHtcclxuICAgICAgZG9jLmJvZHkuaW5uZXJIVE1MID0gaHRtbFxyXG4gICAgICBpc1JlYWR5ID0gdHJ1ZVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICB3aW4uY2xlYXJIVE1MID0gKCkgPT4ge1xyXG4gICAgICBkb2MuYm9keS5pbm5lckhUTUwgPSAnJ1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICB3aW4uc2V0VGl0bGUgPSAodGl0bGUpID0+IHtcclxuICAgICAgZG9jLnRpdGxlID0gdGl0bGVcclxuICAgIH1cclxuICAgIFxyXG4gICAgbGV0IHdhaXRSZWFkeSA9IGFzeW5jICgpID0+IHtcclxuICAgICAgd2hpbGUgKGlzUmVhZHkgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5zbGVlcCgpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgd2luLnNjcm9sbFRvQ2VudGVyID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAvL2NvbnNvbGUubG9nKCcxJylcclxuICAgICAgYXdhaXQgd2FpdFJlYWR5KClcclxuICAgICAgLy9jb25zb2xlLmxvZygnMicsIHdpbi5kb2N1bWVudC5ib2R5LnNjcm9sbFdpZHRoLCB3aW4uaW5uZXJXaWR0aClcclxuICAgICAgbGV0IHNjcm9sbExlZnQgPSAgcGFyc2VJbnQoKHdpbi5kb2N1bWVudC5ib2R5LnNjcm9sbFdpZHRoIC0gd2luLmlubmVyV2lkdGgpIC8gMiwgMTApXHJcbiAgICAgIC8vY29uc29sZS5sb2coc2Nyb2xsTGVmdClcclxuICAgICAgd2luLnNjcm9sbFRvKHNjcm9sbExlZnQsIG51bGwpXHJcbiAgICB9XHJcbiAgICBcclxuICAgIHdpbi5zY3JvbGxUb1RvcCA9IGFzeW5jICgpID0+IHtcclxuICAgICAgYXdhaXQgd2FpdFJlYWR5KClcclxuICAgICAgd2luLnNjcm9sbFRvKG51bGwsIDApXHJcbiAgICB9XHJcbiAgICByZXR1cm4gd2luXHJcbiAgfVxyXG59XHJcblxyXG4vL0ZpbGVTeXN0ZW1IZWxwZXIuaW5pdCgpIiwiaW1wb3J0IGRheWpzIGZyb20gJ2RheWpzJ1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGZvcm1hdCAoZGF0ZSkge1xuICAgIGxldCBkYXRlU3RyaW5nID0gZGF5anMoZGF0ZSkuZm9ybWF0KCdZWVlZLU1NL0REIEhIOm1tJylcblxuICAgIGxldCBub3cgPSBuZXcgRGF0ZSgpXG4gICAgXG4gICAgaWYgKGRhdGVTdHJpbmcuc3RhcnRzV2l0aChub3cuZ2V0RnVsbFllYXIoKSArICctJykpIHtcbiAgICAgIGRhdGVTdHJpbmcgPSBkYXRlU3RyaW5nLnNsaWNlKDUpXG4gICAgfVxuXG4gICAgbGV0IG5vd01NREQgPSBkYXlqcygpLmZvcm1hdCgnTU0vREQnKVxuICAgIGlmIChkYXRlU3RyaW5nLnN0YXJ0c1dpdGgobm93TU1ERCArICcgJykpIHtcbiAgICAgIGRhdGVTdHJpbmcgPSBkYXRlU3RyaW5nLnNsaWNlKDYpXG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGVTdHJpbmdcbiAgfVxufSIsIndpbmRvdy5QdWxpUG9zdE1lc3NhZ2VBUElJbml0ZWQgPSBmYWxzZVxuXG5sZXQgY2FjaGVBUEkgPSBudWxsXG5cbmZ1bmN0aW9uIFB1bGlQb3N0TWVzc2FnZUFQSShvcHRpb25zKSB7XG4gIGlmICh3aW5kb3cuUHVsaVBvc3RNZXNzYWdlQVBJSW5pdGVkID09PSB0cnVlKSB7XG4gICAgLy90aHJvdyBuZXcgRXJyb3IoJ1B1bGlQb3N0TWVzc2FnZUFQSSB3YXMgbG9hZGVkLicpXG4gICAgcmV0dXJuIGNhY2hlQVBJXG4gIH1cbiAgd2luZG93LlB1bGlQb3N0TWVzc2FnZUFQSUluaXRlZCA9IHRydWVcbiAgXG4gIGxldCBwYWdlTmFtZSA9IGxvY2F0aW9uLmhyZWYuc2xpY2UobG9jYXRpb24uaHJlZi5sYXN0SW5kZXhPZignLycpICsgMSlcbiAgXG4gIG9wdGlvbnMgPSBvcHRpb25zID8gb3B0aW9ucyA6IHt9XG4gIGxldCBtYW51YWxseVJlYWR5ID0gdHlwZW9mKG9wdGlvbnMubWFudWFsbHlSZWFkeSkgPT09ICdib29sZWFuJyA/IG9wdGlvbnMubWFudWFsbHlSZWFkeSA6IGZhbHNlXG4gIC8vY29uc29sZS5sb2cobWFudWFsbHlSZWFkeSwgcGFnZU5hbWUpXG4gIC8qKlxuICAgKiDplovllZ/oppbnqpfnmoTlkbzlj6vogIVcbiAgICogQHR5cGUgdHlwZVxuICAgKi9cbiAgbGV0IG9wZW5lclxuICBpZiAod2luZG93Lm9wZW5lcikge1xuICAgIG9wZW5lciA9IHdpbmRvdy5vcGVuZXJcbiAgfVxuICBlbHNlIGlmICh3aW5kb3cucGFyZW50ICYmIHdpbmRvdy5wYXJlbnQgIT09IHdpbmRvdykge1xuICAgIG9wZW5lciA9IHdpbmRvdy5wYXJlbnRcbiAgfVxuXG4gIGxldCBkb2NSZWFkeSA9IGZ1bmN0aW9uIChmbikge1xuICAgIC8vIHNlZSBpZiBET00gaXMgYWxyZWFkeSBhdmFpbGFibGVcbiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJjb21wbGV0ZVwiIHx8IGRvY3VtZW50LnJlYWR5U3RhdGUgPT09IFwiaW50ZXJhY3RpdmVcIikge1xuICAgICAgLy8gY2FsbCBvbiBuZXh0IGF2YWlsYWJsZSB0aWNrXG4gICAgICBzZXRUaW1lb3V0KGZuLCAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZm4pO1xuICAgIH1cbiAgfVxuICBcbiAgaWYgKG9wZW5lciAmJiBtYW51YWxseVJlYWR5ID09PSBmYWxzZSkge1xuICAgIGRvY1JlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vY29uc29sZS5sb2coJ2F1dG8gcmVhZHknLCBtYW51YWxseVJlYWR5LCBwYWdlTmFtZSlcbiAgICAgIF9zZW5kUmVhZHlNZXNzYWdlKClcbiAgICB9KVxuICB9XG4gIFxuICBsZXQgX3NlbmRSZWFkeU1lc3NhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy9jb25zb2xlLmxvZygncmVhZHknLCBsb2NhdGlvbi5ocmVmLnNsaWNlKGxvY2F0aW9uLmhyZWYubGFzdEluZGV4T2YoJy8nKSArIDEpKVxuICAgIGlmIChfaXNTZW50UmVhZHlNZXNzYWdlID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgX2lzU2VudFJlYWR5TWVzc2FnZSA9IHRydWVcbiAgICBcbiAgICBpZiAob3BlbmVyKSB7XG4gICAgICBvcGVuZXIucG9zdE1lc3NhZ2Uoe1xuICAgICAgICBldmVudE5hbWU6ICdyZWFkeScsXG4gICAgICAgIHVybDogbG9jYXRpb24uaHJlZlxuICAgICAgfSwgJyonKVxuICAgIH1cbiAgICAvL2NvbnNvbGUubG9nKCdyZWFkeScsIHBhZ2VOYW1lKVxuICB9XG4gIFxuICBsZXQgX2lzU2VudFJlYWR5TWVzc2FnZSA9IGZhbHNlXG4gIGxldCBfcmVjZWl2ZXJSZWFkeUxpc3QgPSB7fVxuICBsZXQgX3JlY2VpdmVyV2FpdExpc3QgPSB7fVxuICBsZXQgX3JlY2VpdmVyU2VuZFdhaXRMaXN0ID0ge31cbiAgXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIFxuICBsZXQgX3JlY2VpdmVyRWxlbWVudExpc3QgPSB7fVxuICBcbiAgbGV0IF9BZGRTZW5kV2FpdCA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShfcmVjZWl2ZXJTZW5kV2FpdExpc3RbdXJsXSkgPT09IGZhbHNlKSB7XG4gICAgICBfcmVjZWl2ZXJTZW5kV2FpdExpc3RbdXJsXSA9IFtdXG4gICAgfVxuICAgIFxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBfcmVjZWl2ZXJTZW5kV2FpdExpc3RbdXJsXS5wdXNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmVzb2x2ZSh0cnVlKVxuICAgICAgfSlcbiAgICAgIFxuICAgICAgLy9jb25zb2xlLmxvZyhfcmVjZWl2ZXJTZW5kV2FpdExpc3RbdXJsXS5sZW5ndGgsIHVybClcbiAgICAgIGlmIChfcmVjZWl2ZXJTZW5kV2FpdExpc3RbdXJsXS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgX3JlY2VpdmVyU2VuZFdhaXRMaXN0W3VybF1bMF0oKVxuICAgICAgfVxuICAgIH0pXG4gIH1cbiAgXG4gIGxldCBfRXhlY3V0ZU5leHRTZW5kV2FpdCA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgICBfcmVjZWl2ZXJTZW5kV2FpdExpc3RbdXJsXS5zaGlmdCgpXG4gICAgLy9jb25zb2xlLmxvZygnX0V4ZWN1dGVOZXh0U2VuZFdhaXQnLCB1cmwpXG4gICAgaWYgKF9yZWNlaXZlclNlbmRXYWl0TGlzdFt1cmxdLmxlbmd0aCA+IDApIHtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBfcmVjZWl2ZXJTZW5kV2FpdExpc3RbdXJsXVswXSgpXG4gICAgICB9LCAwKVxuICAgIH1cbiAgfVxuICBcbiAgbGV0IHNsZWVwID0gZnVuY3Rpb24gKG1zKSB7XG4gICAgbXMgPSBtcyA/IG1zIDogMTAwXG4gICAgXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmVzb2x2ZSh0cnVlKVxuICAgICAgfSwgbXMpXG4gICAgfSlcbiAgfVxuICBcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIGxldCBwb3B1cENlbnRlclJlZGlyZWN0ID0gZnVuY3Rpb24gKHVybCwgcmF0aW8sIHRpdGxlKSB7XG5cbiAgICByYXRpbyA9ICh0eXBlb2YocmF0aW8pID09PSAnbnVtYmVyJykgPyByYXRpbyA6IDAuOFxuICAgIHRpdGxlID0gKHR5cGVvZih0aXRsZSkgPT09ICdzdHJpbmcnKSA/IHRpdGxlIDogJ19ibGFuaydcblxuICAgIHZhciB3ID0gc2NyZWVuLmF2YWlsV2lkdGggKiByYXRpb1xuICAgIHZhciBoID0gc2NyZWVuLmF2YWlsSGVpZ2h0ICogcmF0aW9cblxuICAgIHcgPSAodyA8IDMwMCkgPyAzMDAgOiB3XG4gICAgaCA9IChoIDwgMzAwKSA/IDMwMCA6IGhcblxuICAgIHZhciB1c2VyQWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50XG4gICAgdmFyIG1vYmlsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAvXFxiKGlQaG9uZXxpUFthb11kKS8udGVzdCh1c2VyQWdlbnQpIHx8XG4gICAgICAgICAgICAgIC9cXGIoaVBbYW9dZCkvLnRlc3QodXNlckFnZW50KSB8fFxuICAgICAgICAgICAgICAvQW5kcm9pZC9pLnRlc3QodXNlckFnZW50KSB8fFxuICAgICAgICAgICAgICAvTW9iaWxlL2kudGVzdCh1c2VyQWdlbnQpXG4gICAgfVxuICAgIHZhciBzY3JlZW5YID0gdHlwZW9mIHdpbmRvdy5zY3JlZW5YICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdy5zY3JlZW5YIDogd2luZG93LnNjcmVlbkxlZnRcbiAgICB2YXIgc2NyZWVuWSA9IHR5cGVvZiB3aW5kb3cuc2NyZWVuWSAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cuc2NyZWVuWSA6IHdpbmRvdy5zY3JlZW5Ub3BcbiAgICB2YXIgb3V0ZXJXaWR0aCA9IHR5cGVvZiB3aW5kb3cub3V0ZXJXaWR0aCAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cub3V0ZXJXaWR0aCA6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aFxuICAgIHZhciB0YXNrYmFySGVpZ2h0ID0gMjJcbiAgICB2YXIgb3V0ZXJIZWlnaHQgPSB0eXBlb2Ygd2luZG93Lm91dGVySGVpZ2h0ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdy5vdXRlckhlaWdodCA6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgLSB0YXNrYmFySGVpZ2h0XG4gICAgdmFyIHRhcmdldFdpZHRoID0gbW9iaWxlKCkgPyBudWxsIDogd1xuICAgIHZhciB0YXJnZXRIZWlnaHQgPSBtb2JpbGUoKSA/IG51bGwgOiBoXG4gICAgdmFyIFYgPSBzY3JlZW5YIDwgMCA/IHdpbmRvdy5zY3JlZW4ud2lkdGggKyBzY3JlZW5YIDogc2NyZWVuWFxuICAgIHZhciBsZWZ0ID0gcGFyc2VJbnQoViArIChvdXRlcldpZHRoIC0gdGFyZ2V0V2lkdGgpIC8gMiwgMTApXG4gICAgdmFyIHJpZ2h0ID0gcGFyc2VJbnQoc2NyZWVuWSArIChvdXRlckhlaWdodCAtIHRhcmdldEhlaWdodCkgLyAyLjUsIDEwKVxuXG4gICAgdmFyIGZlYXR1cmVzID0gW11cbiAgICBpZiAodGFyZ2V0V2lkdGggIT09IG51bGwpIHtcbiAgICAgIGZlYXR1cmVzLnB1c2goJ3dpZHRoPScgKyB0YXJnZXRXaWR0aCk7XG4gICAgfVxuICAgIGlmICh0YXJnZXRIZWlnaHQgIT09IG51bGwpIHtcbiAgICAgIGZlYXR1cmVzLnB1c2goJ2hlaWdodD0nICsgdGFyZ2V0SGVpZ2h0KTtcbiAgICB9XG4gICAgZmVhdHVyZXMucHVzaCgnbGVmdD0nICsgbGVmdClcbiAgICBmZWF0dXJlcy5wdXNoKCd0b3A9JyArIHJpZ2h0KVxuXG4gICAgdmFyIG5ld1dpbmRvdyA9IHdpbmRvdy5vcGVuKCcnLCB0aXRsZSwgZmVhdHVyZXMuam9pbignLCcpKVxuXG4gICAgbmV3V2luZG93LmRvY3VtZW50LndyaXRlKGA8c2NyaXB0PndpbmRvdy5tb3ZlVG8oJHtsZWZ0fSwgJHtyaWdodH0pO3dpbmRvdy5yZXNpemVUbygke3RhcmdldFdpZHRofSwgJHt0YXJnZXRIZWlnaHR9KTwvc2NyaXB0PmApXG4gICAgbmV3V2luZG93LmRvY3VtZW50LndyaXRlKGA8c2NyaXB0PmxvY2F0aW9uLmhyZWY9XCIke3VybH1cIjwvc2NyaXB0PmApXG5cbiAgICBpZiAod2luZG93LmZvY3VzKSB7XG4gICAgICBuZXdXaW5kb3cuZm9jdXMoKVxuICAgIH1cbiAgICByZXR1cm4gbmV3V2luZG93XG4gIH1cbiAgXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICBsZXQgdXJsUmVkaXJlY3QgPSB7fVxuICBcbiAgbGV0IGZpbHRlclVSTFJlZGlyZWN0ID0gZnVuY3Rpb24gKHVybCkge1xuICAgIHJldHVybiAodHlwZW9mKHVybFJlZGlyZWN0W3VybF0pID09PSAnc3RyaW5nJykgPyB1cmxSZWRpcmVjdFt1cmxdIDogdXJsXG4gIH1cbiAgXG4gIGxldCBzZW5kID0gYXN5bmMgZnVuY3Rpb24gKHVybCwgZGF0YSwgb3B0aW9ucykge1xuICAgIHVybCA9IG5ldyBVUkwodXJsLCBkb2N1bWVudC5iYXNlVVJJKS5ocmVmXG4gICAgdXJsID0gZmlsdGVyVVJMUmVkaXJlY3QodXJsKVxuICAgIFxuICAgIC8vY29uc29sZS5sb2coJ3NlbmQgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PScpXG4gICAgYXdhaXQgX0FkZFNlbmRXYWl0KHVybClcbiAgICBcbiAgICBvcHRpb25zID0gb3B0aW9ucyA/IG9wdGlvbnMgOiB7fVxuICAgIGxldCB7ZXZlbnRUeXBlLCBjYWxsYmFjaywgbmV3V2luZG93fSA9IG9wdGlvbnNcbiAgICBldmVudFR5cGUgPSBldmVudFR5cGUgPyBldmVudFR5cGUgOiAnX2RlZmF1bHQnXG4gICAgLy9jb25zb2xlLmxvZyhvcHRpb25zKVxuICAgIFxuICAgIGxldCBtb2RlID0gJ2lmcmFtZSdcbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLm1vZGUpIHtcbiAgICAgIG1vZGUgPSBvcHRpb25zLm1vZGVcbiAgICB9XG4gICAgXG4gICAgbGV0IGRlYnVnID0gZmFsc2VcbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmRlYnVnKSB7XG4gICAgICBkZWJ1ZyA9IHRydWVcbiAgICB9XG4gICAgXG4gICAgXG4gICAgbGV0IGF1dG9DbG9zZSA9IGZhbHNlXG4gICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgIGlmIChvcHRpb25zLmF1dG9DbG9zZSA9PT0gdHJ1ZSkge1xuICAgICAgICBhdXRvQ2xvc2UgPSBvcHRpb25zLmF1dG9DbG9zZVxuICAgICAgfVxuICAgICAgZWxzZSBpZiAodHlwZW9mKG9wdGlvbnMuYXV0b0Nsb3NlKSA9PT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAmJiBvcHRpb25zLm1vZGUgPT09ICdwb3B1cCcpIHtcbiAgICAgICAgYXV0b0Nsb3NlID0gZmFsc2VcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tXG4gICAgXG4gICAgaWYgKG1vZGUgPT09ICdwb3B1cCcgJiYgbmV3V2luZG93ID09PSB0cnVlICYmIF9yZWNlaXZlckVsZW1lbnRMaXN0W3VybF0pIHtcbiAgICAgIGRlbGV0ZSBfcmVjZWl2ZXJSZWFkeUxpc3RbdXJsXVxuICAgICAgZGVsZXRlIF9yZWNlaXZlckVsZW1lbnRMaXN0W3VybF1cbiAgICB9XG4gICAgZWxzZSBpZiAoYXV0b0Nsb3NlID09PSB0cnVlICYmIF9yZWNlaXZlckVsZW1lbnRMaXN0W3VybF0pIHtcbiAgICAgIGlmIChtb2RlID09PSAnaWZyYW1lJykge1xuICAgICAgICBsZXQgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGlmcmFtZVtkYXRhLXVybD1cIiR7dXJsfVwiXWApXG4gICAgICAgIC8vY29uc29sZS5sb2coZWxlbWVudClcbiAgICAgICAgaWYgKGVsZW1lbnQgIT09IG51bGwpIHtcbiAgICAgICAgICBlbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbWVudClcbiAgICAgICAgfVxuICAgICAgICAvL2FsZXJ0KCfmnInliKrpmaTll47vvJ8nKVxuICAgICAgfVxuICAgICAgZWxzZSBpZiAobW9kZSA9PT0gJ3BvcHVwJykge1xuICAgICAgICBfcmVjZWl2ZXJFbGVtZW50TGlzdFt1cmxdLmNsb3NlKClcbiAgICAgIH1cbiAgICAgIFxuICAgICAgZGVsZXRlIF9yZWNlaXZlclJlYWR5TGlzdFt1cmxdXG4gICAgICBkZWxldGUgX3JlY2VpdmVyRWxlbWVudExpc3RbdXJsXVxuICAgICAgLy9hd2FpdCBzbGVlcCgzMDAwKVxuICAgIH1cbiAgICBcbiAgICBsZXQgcmVjZWl2ZXJcbiAgICBsZXQgcmVjZWl2ZXJFbGVtZW50XG4gICAgaWYgKF9yZWNlaXZlckVsZW1lbnRMaXN0W3VybF0pIHtcbiAgICAgIC8vY29uc29sZS5sb2coJ+W+nmNhY2hlJylcbiAgICAgIHJlY2VpdmVyID0gX3JlY2VpdmVyRWxlbWVudExpc3RbdXJsXVxuICAgIH1cbiAgICBlbHNlIGlmIChtb2RlID09PSAnaWZyYW1lJykge1xuICAgICAgLy9jb25zb2xlLmxvZygnaWZyYW1lJylcbiAgICAgIHJlY2VpdmVyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGlmcmFtZVtkYXRhLXVybD1cIiR7dXJsfVwiXWApXG4gICAgICBpZiAocmVjZWl2ZXJFbGVtZW50ID09PSBudWxsKSB7XG4gICAgICAgIHJlY2VpdmVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7IFxuICAgICAgICAvL3JlY2VpdmVyRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG4gICAgICAgIHJlY2VpdmVyRWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCdcbiAgICAgICAgcmVjZWl2ZXJFbGVtZW50LnN0eWxlLndpZHRoID0gJzEwMHB4J1xuICAgICAgICByZWNlaXZlckVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gJzEwMHB4J1xuICAgICAgICByZWNlaXZlckVsZW1lbnQuc3R5bGUuekluZGV4ID0gLTFcbiAgICAgICAgcmVjZWl2ZXJFbGVtZW50LnN0eWxlLm9wYWNpdHkgPSAwXG4gICAgICAgIHJlY2VpdmVyRWxlbWVudC5zdHlsZS5yaWdodCA9IDBcbiAgICAgICAgcmVjZWl2ZXJFbGVtZW50LnN0eWxlLmJvdHRvbSA9IDBcbiAgICAgICAgXG4gICAgICAgIGlmIChkZWJ1ZyA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHJlY2VpdmVyRWxlbWVudC5zdHlsZS56SW5kZXggPSA5OTlcbiAgICAgICAgICByZWNlaXZlckVsZW1lbnQuc3R5bGUub3BhY2l0eSA9IDFcbiAgICAgICAgICByZWNlaXZlckVsZW1lbnQuc3R5bGUud2lkdGggPSAnNTAwcHgnXG4gICAgICAgIHJlY2VpdmVyRWxlbWVudC5zdHlsZS5oZWlnaHQgPSAnNTAwcHgnXG4gICAgICAgICAgLy9jb25zb2xlLmxvZyhyZWNlaXZlckVsZW1lbnQpXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJlY2VpdmVyRWxlbWVudC5zcmMgPSB1cmxcbiAgICAgICAgLy9jb25zb2xlLmxvZyh1cmwpXG4gICAgICAgIHJlY2VpdmVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtdXJsJywgdXJsKVxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHJlY2VpdmVyRWxlbWVudClcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAobW9kZSA9PT0gJ3BvcHVwJykge1xuICAgICAgbGV0IHRhcmdldCA9IHVuZGVmaW5lZFxuICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy50YXJnZXQpIHtcbiAgICAgICAgdGFyZ2V0ID0gb3B0aW9ucy50YXJnZXRcbiAgICAgIH1cbiAgICAgIGxldCBmZWF0dXJlcyA9IHVuZGVmaW5lZFxuICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5mZWF0dXJlcykge1xuICAgICAgICBmZWF0dXJlcyA9IG9wdGlvbnMuZmVhdHVyZXNcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKHR5cGVvZihmZWF0dXJlcykgPT09ICdudW1iZXInICYmIGZlYXR1cmVzIDw9IDEpIHtcbiAgICAgICAgcmVjZWl2ZXIgPSBwb3B1cENlbnRlclJlZGlyZWN0KHVybCwgZmVhdHVyZXMpXG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmVjZWl2ZXIgPSB3aW5kb3cub3Blbih1cmwsIHRhcmdldCwgZmVhdHVyZXMpXG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS1cbiAgICBcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS1cbiAgICBsZXQgZ2V0UmVjZWl2ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIXJlY2VpdmVyICYmIG1vZGUgPT09ICdpZnJhbWUnKSB7XG4gICAgICAgIHJlY2VpdmVyID0gcmVjZWl2ZXJFbGVtZW50LmNvbnRlbnRXaW5kb3dcbiAgICAgIH0gXG4gICAgICByZXR1cm4gcmVjZWl2ZXJcbiAgICB9XG4gICAgXG4gICAgLy9jb25zb2xlLmxvZyhldmVudFR5cGUpXG4gICAgbGV0IHJlc3VsdCBcbiAgICBsZXQgcmVkaXJlY3RlZFVSTFxuICAgIHRyeSB7XG4gICAgICByZXN1bHQgPSBhd2FpdCBfc2VuZFRvUmVjZWl2ZXIoZ2V0UmVjZWl2ZXIsIHVybCwgZXZlbnRUeXBlLCBkYXRhKVxuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgcmVkaXJlY3RlZFVSTCA9IGVcbiAgICAgIGF1dG9DbG9zZSA9IHRydWVcbiAgICAgIC8vY29uc29sZS5sb2coZSlcbiAgICAgIC8vcmV0dXJuIGF3YWl0IHRoaXMuc2VuZChlLCBkYXRhLCBvcHRpb25zKVxuICAgIH1cbiAgICBcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS1cbiAgICBcbiAgICBpZiAoYXV0b0Nsb3NlID09PSB0cnVlKSB7XG4gICAgICBpZiAobW9kZSA9PT0gJ2lmcmFtZScpIHtcbiAgICAgICAgaWYgKHJlY2VpdmVyRWxlbWVudCkge1xuICAgICAgICAgIHJlY2VpdmVyRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHJlY2VpdmVyRWxlbWVudClcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJlY2VpdmVyLmNsb3NlKClcbiAgICAgIH1cbiAgICAgIGRlbGV0ZSBfcmVjZWl2ZXJSZWFkeUxpc3RbdXJsXVxuICAgICAgZGVsZXRlIF9yZWNlaXZlckVsZW1lbnRMaXN0W3VybF1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBpZiAoIV9yZWNlaXZlckVsZW1lbnRMaXN0W3VybF0pIHtcbiAgICAgICAgX3JlY2VpdmVyRWxlbWVudExpc3RbdXJsXSA9IHJlY2VpdmVyXG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIGlmICghcmVkaXJlY3RlZFVSTCkge1xuICAgICAgaWYgKHR5cGVvZihjYWxsYmFjaykgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY2FsbGJhY2socmVzdWx0KVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgLy9kZWxldGUgX3JlY2VpdmVyUmVhZHlMaXN0W3VybF1cbiAgICAgIC8vZGVsZXRlIF9yZWNlaXZlckVsZW1lbnRMaXN0W3VybF1cbiAgICAgIC8vY29uc29sZS5sb2coJ3JlZGlyZWN0VVJMJywgdXJsKVxuICAgICAgYXdhaXQgc2xlZXAoMTAwMClcbiAgICAgIHJldHVybiBhd2FpdCBzZW5kKHJlZGlyZWN0ZWRVUkwsIGRhdGEsIG9wdGlvbnMpXG4gICAgfVxuICB9XG4gIFxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICBcbiAgbGV0IF9zZW5kVG9SZWNlaXZlciA9IGFzeW5jIGZ1bmN0aW9uIChnZXRSZWNlaXZlciwgdXJsLCBldmVudFR5cGUsIGRhdGEsIG9wdGlvbnMpIHtcbiAgICAvL2NvbnNvbGUubG9nKCdfd2FpdFJlY2VpdmVyUmVhZHknLCB1cmwpXG4gICAgbGV0IHJlZGlyZWN0ZWRVUkwgPSBhd2FpdCBfd2FpdFJlY2VpdmVyUmVhZHkodXJsKVxuICAgIC8vY29uc29sZS5sb2coJ+etieWIsOS6hicsIHJlZGlyZWN0ZWRVUkwpXG4gICAgaWYgKHR5cGVvZihyZWRpcmVjdGVkVVJMKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IHJlZGlyZWN0ZWRVUkxcbiAgICB9XG4gICAgXG4gICAgbGV0IHJlY2VpdmVyID0gZ2V0UmVjZWl2ZXIoKVxuICAgIC8vY29uc29sZS5sb2cocmVjZWl2ZXIpXG4gICAgLy9jb25zb2xlLmxvZyh7c2VuZGVyOiBsb2NhdGlvbi5ocmVmLCByZWNlaXZlcjogdXJsfSApXG4gICAgbGV0IHBvc3RNZXNzYWdlRGF0YSA9IHtcbiAgICAgIGV2ZW50TmFtZTogJ3NlbmQnLFxuICAgICAgZXZlbnRUeXBlOiBldmVudFR5cGUsXG4gICAgICBkYXRhOiBkYXRhLFxuICAgICAgdXJsOiBsb2NhdGlvbi5ocmVmXG4gICAgfVxuICAgIC8vY29uc29sZS5sb2coJ3F1ZXVlJywgdXJsKVxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAvL3JlY2VpdmVyLnBvc3RNZXNzYWdlKHBvc3RNZXNzYWdlRGF0YSwgJyonKVxuICAgICAgcmVjZWl2ZXIucG9zdE1lc3NhZ2UocG9zdE1lc3NhZ2VEYXRhLCB1cmwpXG4gICAgICBcbiAgICAgIC8vY29uc29sZS5sb2coJ3JldHVybiBxdWV1ZScpXG4gICAgICBfcHVzaFJlY2VpdmVyUmV0dXJuUXVldWUodXJsLCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIC8vY29uc29sZS5sb2coJ3F1ZXVlIGNhbGxiYWNrJylcbiAgICAgICAgcmVzb2x2ZShyZXN1bHQpXG4gICAgICB9KVxuICAgICAgXG4gICAgICAvKlxuICAgICAgdHJ5IHtcbiAgICAgICAgcmVjZWl2ZXIucG9zdE1lc3NhZ2UocG9zdE1lc3NhZ2VEYXRhLCB1cmwpXG4gICAgICB9XG4gICAgICBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmxvZygn5pu/5Luj5pa55qGIJylcbiAgICAgICAgcmVjZWl2ZXIucG9zdE1lc3NhZ2UocG9zdE1lc3NhZ2VEYXRhLCAnKicpXG4gICAgICB9XG4gICAgICAgKi9cbiAgICAgIFxuICAgIH0pXG4gICAgXG4gIH1cbiAgXG4gIGxldCBfcmVjZWl2ZXJSZXR1cm5RdWV1ZSA9IHt9XG4gIFxuICBsZXQgX3B1c2hSZWNlaXZlclJldHVyblF1ZXVlID0gZnVuY3Rpb24gKHVybCwgY2FsbGJhY2spIHtcbiAgICBpZiAoIV9yZWNlaXZlclJldHVyblF1ZXVlW3VybF0pIHtcbiAgICAgIF9yZWNlaXZlclJldHVyblF1ZXVlW3VybF0gPSBbXVxuICAgIH1cbiAgICBpZiAoX3JlY2VpdmVyUmV0dXJuUXVldWVbdXJsXS5pbmRleE9mKGNhbGxiYWNrKSA9PT0gLTEpIHtcbiAgICAgIF9yZWNlaXZlclJldHVyblF1ZXVlW3VybF0ucHVzaChjYWxsYmFjaylcbiAgICB9XG4gIH1cbiAgXG4gIFxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgXG4gIGxldCBfbWVzc2FnZUhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAvL2NvbnNvbGUubG9nKGV2ZW50LCBsb2NhdGlvbi5ocmVmLnNsaWNlKGxvY2F0aW9uLmhyZWYubGFzdEluZGV4T2YoJy8nKSArIDEpKVxuICAgIGlmICh0eXBlb2YoZXZlbnQuZGF0YSkgIT09ICdvYmplY3QnXG4gICAgICAgICAgICB8fCAhZXZlbnQuZGF0YS5ldmVudE5hbWUpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICBsZXQgZXZlbnROYW1lID0gZXZlbnQuZGF0YS5ldmVudE5hbWVcbiAgICBsZXQgZGF0YSA9IGV2ZW50LmRhdGEuZGF0YVxuICAgIGxldCB1cmwgPSBldmVudC5kYXRhLnVybFxuICAgIGxldCBldmVudFR5cGUgID0gZXZlbnQuZGF0YS5ldmVudFR5cGVcbiAgICBcbiAgICAvL2NvbnNvbGUubG9nKGV2ZW50TmFtZSwgZGF0YSwgdXJsLCBwYWdlTmFtZSlcbiAgICBcbiAgICAvL2xldCBvcmlnaW4gPSBldmVudC5vcmlnaW5cbiAgICBsZXQgc291cmNlID0gZXZlbnQuc291cmNlXG4gICAgLy9sZXQgdXJsID0gZXZlbnQuc291cmNlLmxvY2F0aW9uLmhyZWZcbiAgICBcbiAgICBpZiAoZXZlbnROYW1lID09PSAncmV0dXJuJykge1xuICAgICAgX3JldHVybkV2ZW50SGFuZGxlcih1cmwsIGRhdGEpXG4gICAgfVxuICAgIGVsc2UgaWYgKGV2ZW50TmFtZSA9PT0gJ3NlbmQnKSB7XG4gICAgICBfc2VuZEV2ZW50SGFuZGxlcihzb3VyY2UsIHVybCwgZXZlbnRUeXBlLCBkYXRhKVxuICAgIH1cbiAgICBlbHNlIGlmIChldmVudE5hbWUgPT09ICdyZWFkeScpIHtcbiAgICAgIF9yZWFkeUV2ZW50SGFuZGxlcih1cmwpXG4gICAgfVxuICAgIGVsc2UgaWYgKGV2ZW50TmFtZSA9PT0gJ2Vycm9yJykge1xuICAgICAgX2Vycm9yRXZlbnRIYW5kbGVyKHVybCwgZXZlbnQuZGF0YS5tZXNzYWdlKVxuICAgIH1cbiAgfVxuICBcbiAgbGV0IF9yZXR1cm5FdmVudEhhbmRsZXIgPSBmdW5jdGlvbiAodXJsLCBkYXRhKSB7XG4gICAgLy9jb25zb2xlLmxvZygnX3JldHVybkV2ZW50SGFuZGxlcicpXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoX3JlY2VpdmVyUmV0dXJuUXVldWVbdXJsXSkgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBfcmVjZWl2ZXJSZXR1cm5RdWV1ZVt1cmxdLmZvckVhY2goZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICBpZiAodHlwZW9mKGNhbGxiYWNrKSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICAgIGNhbGxiYWNrKGRhdGEpXG4gICAgfSlcblxuICAgIC8vIOa4heepuuWRvOWPq+eahOizh+aWmVxuICAgIF9yZWNlaXZlclJldHVyblF1ZXVlW3VybF0gPSBbXVxuICAgIF9FeGVjdXRlTmV4dFNlbmRXYWl0KHVybClcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG4gIFxuICBsZXQgX3NlbmRFdmVudEhhbmRsZXIgPSBhc3luYyBmdW5jdGlvbiAoc291cmNlLCBvcmlnaW4sIGV2ZW50VHlwZSwgaW5wdXQpIHtcbiAgICBsZXQgcmVzdWx0XG4gICAgXG4gICAgLy9jb25zb2xlLmxvZyhfcmVjZWl2ZUhhbmRsZXIsIHBhZ2VOYW1lKVxuICAgIGlmICh0eXBlb2YoX3JlY2VpdmVIYW5kbGVyW2V2ZW50VHlwZV0pID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXN1bHQgPSBhd2FpdCBfcmVjZWl2ZUhhbmRsZXJbZXZlbnRUeXBlXShpbnB1dClcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAvL2NvbnNvbGUubG9nKHR5cGVvZihfcmVjZWl2ZUhhbmRsZXJbZXZlbnRUeXBlXSksIHBhZ2VOYW1lKVxuICAgICAgc291cmNlLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgZXZlbnROYW1lOiAnZXJyb3InLFxuICAgICAgICBtZXNzYWdlOiBgc2VuZGVyJ3MgZXZlbnRUeXBlIGlzIG5vdCBmb3VuZDogYCArIGV2ZW50VHlwZSxcbiAgICAgICAgdXJsOiBsb2NhdGlvbi5ocmVmXG4gICAgICB9LCBvcmlnaW4pXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgXG4gICAgc291cmNlLnBvc3RNZXNzYWdlKHtcbiAgICAgIGV2ZW50TmFtZTogJ3JldHVybicsXG4gICAgICBkYXRhOiByZXN1bHQsXG4gICAgICB1cmw6IGxvY2F0aW9uLmhyZWZcbiAgICB9LCBvcmlnaW4pXG4gIH1cbiAgXG4gIGxldCBfcmVhZHlFdmVudEhhbmRsZXIgPSBmdW5jdGlvbiAob3JpZ2luKSB7XG4gICAgXG4gICAgLy8g5aaC5p6c5rKS5pyJ5bCN5oeJ5LiK55qE77yM6YKj5piv5LiN5piv6KaB6Ieq5YuV6K6K5pu05ZWK77yfXG4gICAgLy9jb25zb2xlLmxvZyhfcmVjZWl2ZXJXYWl0TGlzdFtvcmlnaW5dLCBvcmlnaW4sIHBhZ2VOYW1lKVxuICAgIGlmICh0eXBlb2YoX3JlY2VpdmVyV2FpdExpc3Rbb3JpZ2luXSkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIF9yZWNlaXZlclJlYWR5TGlzdFtvcmlnaW5dID0gdHJ1ZVxuICAgICAgX3JlY2VpdmVyV2FpdExpc3Rbb3JpZ2luXSgpXG4gICAgICBkZWxldGUgX3JlY2VpdmVyV2FpdExpc3Rbb3JpZ2luXVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIC8vIOaQnOWwi+S4gOWAi+mChOaykuWRvOWPq+eahOe2suWdgFxuICAgICAgZm9yIChsZXQgbyBpbiBfcmVjZWl2ZXJXYWl0TGlzdCkge1xuICAgICAgICAvL2NvbnNvbGUubG9nKCfpgoTmspLlkbzlj6vvvIzmnInlvoXmm7TlkI0nLCBvKVxuICAgICAgICBcbiAgICAgICAgLy9fcmVjZWl2ZXJSZWFkeUxpc3Rbb10gPSB0cnVlXG4gICAgICAgIC8vdXJsUmVkaXJlY3Rbb10gPSBvcmlnaW5cbiAgICAgICAgXG4gICAgICAgIC8vIOato+W4uOWRvOWPq1xuICAgICAgICBsZXQgd2FpdENhbGxiYWNrID0gX3JlY2VpdmVyV2FpdExpc3Rbb11cbiAgICAgICAgLy9fcmVjZWl2ZXJXYWl0TGlzdFtvcmlnaW5dID0gX3JlY2VpdmVyV2FpdExpc3Rbb11cbiAgICAgICAgLy9fcmVjZWl2ZXJSZWFkeUxpc3Rbb10gPSB0cnVlXG4gICAgICAgIHVybFJlZGlyZWN0W29dID0gb3JpZ2luXG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgLy9fcmVjZWl2ZXJXYWl0TGlzdFtvXVxuICAgICAgICBkZWxldGUgX3JlY2VpdmVyV2FpdExpc3Rbb11cbiAgICAgICAgd2FpdENhbGxiYWNrKG9yaWdpbilcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfVxuICB9XG4gIFxuICBsZXQgX2Vycm9yRXZlbnRIYW5kbGVyID0gZnVuY3Rpb24gKHVybCwgbWVzc2FnZSkge1xuICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSwgcGFnZU5hbWUpXG4gICAgXG4gICAgLy8g5riF56m65ZG85Y+r55qE6LOH5paZXG4gICAgX3JlY2VpdmVyUmV0dXJuUXVldWVbdXJsXSA9IFtdXG4gICAgX0V4ZWN1dGVOZXh0U2VuZFdhaXQodXJsKVxuICAgIHJldHVybiB0cnVlXG4gIH1cbiAgXG4gIGxldCBfd2FpdFJlY2VpdmVyUmVhZHkgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgLy9jb25zb2xlLmxvZyhfcmVjZWl2ZXJSZWFkeUxpc3RbdXJsXSwgX3JlY2VpdmVyV2FpdExpc3RbdXJsXSlcbiAgICBpZiAoX3JlY2VpdmVyUmVhZHlMaXN0W3VybF0gPT09IHRydWUpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICAgIFxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBfcmVjZWl2ZXJXYWl0TGlzdFt1cmxdID0gZnVuY3Rpb24gKHJlZGlyZWN0ZWRVUkwpIHtcbiAgICAgICAgaWYgKHJlZGlyZWN0ZWRVUkwpIHtcbiAgICAgICAgICByZXNvbHZlKHJlZGlyZWN0ZWRVUkwpXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgcmVzb2x2ZSh0cnVlKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvL2NvbnNvbGUubG9nKF9yZWNlaXZlclJlYWR5TGlzdFt1cmxdLCBfcmVjZWl2ZXJXYWl0TGlzdFt1cmxdLCB1cmwpXG4gICAgfSlcbiAgfVxuICBcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIF9tZXNzYWdlSGFuZGxlciwgdHJ1ZSlcbiAgXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIFxuICBcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgXG4gIGxldCBfcmVjZWl2ZUhhbmRsZXIgPSB7fVxuICBcbiAgbGV0IGFkZFJlY2VpdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIChldmVudFR5cGUsIGNhbGxiYWNrKSB7XG4gICAgLy9jb25zb2xlLmxvZygn5L6GJywgcGFnZU5hbWUpXG4gICAgaWYgKHR5cGVvZihldmVudFR5cGUpID09PSAnZnVuY3Rpb24nICYmICFjYWxsYmFjaykge1xuICAgICAgY2FsbGJhY2sgPSBldmVudFR5cGVcbiAgICAgIGV2ZW50VHlwZSA9ICdfZGVmYXVsdCdcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mKGNhbGxiYWNrKSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy9jb25zb2xlLmxvZygn5rKS6IO96Kit5a6aJywgcGFnZU5hbWUpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgXG4gICAgX3JlY2VpdmVIYW5kbGVyW2V2ZW50VHlwZV0gPSBjYWxsYmFja1xuICAgIC8vY29uc29sZS5sb2coX3JlY2VpdmVIYW5kbGVyLCBwYWdlTmFtZSlcbiAgfVxuICBcbiAgbGV0IHJlbW92ZVJlY2VpdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIChldmVudFR5cGUsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZihldmVudFR5cGUpID09PSAnZnVuY3Rpb24nICYmICFjYWxsYmFjaykge1xuICAgICAgY2FsbGJhY2sgPSBldmVudFR5cGVcbiAgICAgIGV2ZW50VHlwZSA9ICdfZGVmYXVsdCdcbiAgICB9XG4gICAgXG4gICAgaWYgKHR5cGVvZihjYWxsYmFjaykgIT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgIHx8ICFfcmVjZWl2ZUhhbmRsZXJbZXZlbnRUeXBlXSkge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICAgIFxuICAgIGRlbGV0ZSBfcmVjZWl2ZUhhbmRsZXJbZXZlbnRUeXBlXVxuICB9XG4gIFxuICBsZXQgcmVhZHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgX3NlbmRSZWFkeU1lc3NhZ2UoKVxuICB9XG4gIFxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIFxuICBjYWNoZUFQSSA9IHtcbiAgICBzZW5kOiBzZW5kLFxuICAgIGFkZFJlY2VpdmVMaXN0ZW5lcjogYWRkUmVjZWl2ZUxpc3RlbmVyLFxuICAgIHJlbW92ZVJlY2VpdmVMaXN0ZW5lcjogcmVtb3ZlUmVjZWl2ZUxpc3RlbmVyLFxuICAgIHJlYWR5OiByZWFkeVxuICB9XG4gIFxuICByZXR1cm4gY2FjaGVBUElcbn1cblxuZXhwb3J0IGRlZmF1bHQgUHVsaVBvc3RNZXNzYWdlQVBJIiwiXG5pbXBvcnQgUHVsaVBvc3RNZXNzYWdlQVBJIGZyb20gJy4vcHVsaS1wb3N0LW1lc3NhZ2UtYXBpL3B1bGktcG9zdC1tZXNzYWdlLWFwaS5qcydcbmxldCBkZWJ1ZyA9IGZhbHNlXG5sZXQgaW5pdGVkID0gZmFsc2VcbmxldCBhcGlcblxubGV0IHVybCA9ICdodHRwczovL3B1bGlwdWxpY2hlbi5naXRodWIuaW8vamllYmEtanMvaW5kZXguaHRtbD9hcGk9MSdcbmlmIChsb2NhdGlvbi5ocmVmLnN0YXJ0c1dpdGgoJ2h0dHA6Ly8xMjcuMC4wLjE6JykpIHtcbiAgdXJsID0gJ2h0dHA6Ly8xMjcuMC4wLjE6NTUwMS9pbmRleC5odG1sP2FwaT0xJ1xufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGNhY2hlOiB7fSxcbiAgZ2VuZXJhdGVLZXkgKHRleHQpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0ZXh0KSkge1xuICAgICAgdGV4dCA9IEpTT04uc3RyaW5naWZ5KHRleHQpXG4gICAgfVxuICAgIHJldHVybiAndG9rZW4tJyArIHRleHRcbiAgfSxcbiAgdG9rZW5pemU6IGFzeW5jIGZ1bmN0aW9uICh0ZXh0LCBmaWx0ZXIgPSB7fSkge1xuICAgIFxuICAgIHRoaXMuaW5pdCgpXG4gICAgbGV0IGtleSA9IHRoaXMuZ2VuZXJhdGVLZXkodGV4dClcbiAgICBpZiAodGhpcy5jYWNoZVtrZXldKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWNoZVtrZXldXG4gICAgfVxuICAgIFxuICAgIGxldCBpc0FycmF5ID0gZmFsc2VcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0ZXh0KSkge1xuICAgICAgdGV4dCA9ICdtZXNzYWdlXFxuJyArIHRleHQuam9pbignXFxuJylcbiAgICAgIGlzQXJyYXkgPSB0cnVlXG4gICAgfVxuICAgIFxuICAgIC8vY29uc29sZS5sb2coZGF0YSlcbiAgICBsZXQgZGF0YSA9IHtcbiAgICAgIGlucHV0VGV4dDogdGV4dCxcbiAgICAgIC4uLmZpbHRlclxuICAgIH1cbiAgICBcbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgYXBpLnNlbmQodXJsLCBkYXRhLCB7XG4gICAgICBkZWJ1Z1xuICAgIH0pXG4gICAgXG4gICAgaWYgKGlzQXJyYXkgPT09IHRydWUpIHtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdC5zcGxpdCgnXFxuJylcbiAgICAgIHJlc3VsdC5zaGlmdCgpXG4gICAgfVxuICAgIFxuICAgIHRoaXMuY2FjaGVba2V5XSA9IHJlc3VsdFxuICAgIHJldHVybiByZXN1bHRcbiAgfSxcbiAgaW5pdCAoKSB7XG4gICAgaWYgKGluaXRlZCA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gICAgXG4gICAgYXBpID0gUHVsaVBvc3RNZXNzYWdlQVBJKClcbiAgICBpbml0ZWQgPSB0cnVlXG4gIH1cbn0iLCJpbXBvcnQgQXN5bmNVdGlscyBmcm9tICcuL0FzeW5jVXRpbHMuanMnXG5pbXBvcnQgQ2xpcGJvYXJkVXRpbHMgZnJvbSAnLi9DbGlwYm9hcmRVdGlscy5qcydcbmltcG9ydCBBeGlvc1V0aWxzIGZyb20gJy4vQXhpb3NVdGlscy5qcydcbmltcG9ydCBGaWxlVXRpbHMgZnJvbSAnLi9GaWxlVXRpbHMuanMnXG5pbXBvcnQgVVJMVXRpbHMgZnJvbSAnLi9VUkxVdGlscy5qcydcbmltcG9ydCBEYXRhVXRpbHMgZnJvbSAnLi9EYXRhVXRpbHMuanMnXG5pbXBvcnQgUG9wdXBVdGlscyBmcm9tICcuL1BvcHVwVXRpbHMuanMnXG5pbXBvcnQgU3RyaW5nVXRpbHMgZnJvbSAnLi9TdHJpbmdVdGlscy5qcydcbmltcG9ydCBGaWxlU3lzdGVtVXRpbHMgZnJvbSAnLi9GaWxlU3lzdGVtVXRpbHMuanMnXG5pbXBvcnQgRGF0ZVV0aWxzIGZyb20gJy4vRGF0ZVV0aWxzLmpzJ1xuaW1wb3J0IFRva2VuaXplVXRpbHMgZnJvbSAnLi9Ub2tlbml6ZVV0aWxzLmpzJ1xuaW1wb3J0ICcuL2RhdGUtaGVscGVyLmpzJ1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIEFzeW5jVXRpbHMsXG4gIENsaXBib2FyZFV0aWxzLFxuICBBeGlvc1V0aWxzLFxuICBGaWxlVXRpbHMsXG4gIFVSTFV0aWxzLFxuICBEYXRhVXRpbHMsXG4gIFBvcHVwVXRpbHMsXG4gIFN0cmluZ1V0aWxzLFxuICBGaWxlU3lzdGVtVXRpbHMsXG4gIERhdGVVdGlscyxcbiAgVG9rZW5pemVVdGlsc1xufSJdLCJtYXBwaW5ncyI6Ijs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7QUNsQ0E7QUFEQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTs7OztBQ3RCQTtBQURBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFTQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7Ozs7QUNyQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBTkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVVBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7Ozs7QUNqQ0E7QUFEQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBSkE7QUFBQTtBQUFBO0FBTUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7O0FDdEdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7OztBQ2JBO0FBREE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQTdCQTtBQUFBO0FBQUE7QUFDQTtBQThCQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFTQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFoQkE7QUFBQTtBQUFBO0FBQUE7QUFtQkE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFLQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFFQTtBQUNBO0FBUUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFhQTtBQUlBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBSkE7QUFBQTtBQUFBO0FBTUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQ2grQkE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOzs7Ozs7OztBQ2xCQTtBQURBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUlBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBTUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBdktBO0FBQUE7QUFBQTtBQUNBO0FBd0tBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUF4Q0E7QUFBQTtBQUFBO0FBMENBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUF0QkE7QUFBQTtBQUFBO0FBd0JBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7Ozs7O0FDbmtCQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFJQTtBQUNBO0FBQUE7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQzNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///214\n')}}]);